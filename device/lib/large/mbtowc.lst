                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module mbtowc
                                      6 	.optsdcc -mmcs51 --model-large
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _mbtowc_PARM_3
                                     12 	.globl _mbtowc_PARM_2
                                     13 	.globl _mbtowc
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable items in internal ram
                                     35 ;--------------------------------------------------------
                                     36 	.area	OSEG    (OVR,DATA)
      000000                         37 _mbtowc_sloc0_1_0:
      000000                         38 	.ds 2
      000002                         39 _mbtowc_sloc1_1_0:
      000002                         40 	.ds 4
                                     41 ;--------------------------------------------------------
                                     42 ; indirectly addressable internal ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area ISEG    (DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; absolute internal ram data
                                     47 ;--------------------------------------------------------
                                     48 	.area IABS    (ABS,DATA)
                                     49 	.area IABS    (ABS,DATA)
                                     50 ;--------------------------------------------------------
                                     51 ; bit data
                                     52 ;--------------------------------------------------------
                                     53 	.area BSEG    (BIT)
                                     54 ;--------------------------------------------------------
                                     55 ; paged external ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area PSEG    (PAG,XDATA)
                                     58 ;--------------------------------------------------------
                                     59 ; uninitialized external ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area XSEG    (XDATA)
      000000                         62 _mbtowc_PARM_2:
      000000                         63 	.ds 3
      000003                         64 _mbtowc_PARM_3:
      000003                         65 	.ds 2
      000005                         66 _mbtowc_pwc_65536_39:
      000005                         67 	.ds 3
      000008                         68 _mbtowc_codepoint_65536_40:
      000008                         69 	.ds 4
      00000C                         70 _mbtowc_seqlen_65536_40:
      00000C                         71 	.ds 1
      00000D                         72 _mbtowc_first_byte_65536_40:
      00000D                         73 	.ds 1
                                     74 ;--------------------------------------------------------
                                     75 ; absolute external ram data
                                     76 ;--------------------------------------------------------
                                     77 	.area XABS    (ABS,XDATA)
                                     78 ;--------------------------------------------------------
                                     79 ; initialized external ram data
                                     80 ;--------------------------------------------------------
                                     81 	.area XISEG   (XDATA)
                                     82 	.area HOME    (CODE)
                                     83 	.area GSINIT0 (CODE)
                                     84 	.area GSINIT1 (CODE)
                                     85 	.area GSINIT2 (CODE)
                                     86 	.area GSINIT3 (CODE)
                                     87 	.area GSINIT4 (CODE)
                                     88 	.area GSINIT5 (CODE)
                                     89 	.area GSINIT  (CODE)
                                     90 	.area GSFINAL (CODE)
                                     91 	.area CSEG    (CODE)
                                     92 ;--------------------------------------------------------
                                     93 ; global & static initialisations
                                     94 ;--------------------------------------------------------
                                     95 	.area HOME    (CODE)
                                     96 	.area GSINIT  (CODE)
                                     97 	.area GSFINAL (CODE)
                                     98 	.area GSINIT  (CODE)
                                     99 ;--------------------------------------------------------
                                    100 ; Home
                                    101 ;--------------------------------------------------------
                                    102 	.area HOME    (CODE)
                                    103 	.area HOME    (CODE)
                                    104 ;--------------------------------------------------------
                                    105 ; code
                                    106 ;--------------------------------------------------------
                                    107 	.area CSEG    (CODE)
                                    108 ;------------------------------------------------------------
                                    109 ;Allocation info for local variables in function 'mbtowc'
                                    110 ;------------------------------------------------------------
                                    111 ;s                         Allocated with name '_mbtowc_PARM_2'
                                    112 ;n                         Allocated with name '_mbtowc_PARM_3'
                                    113 ;pwc                       Allocated with name '_mbtowc_pwc_65536_39'
                                    114 ;codepoint                 Allocated with name '_mbtowc_codepoint_65536_40'
                                    115 ;seqlen                    Allocated with name '_mbtowc_seqlen_65536_40'
                                    116 ;i                         Allocated with name '_mbtowc_i_65536_40'
                                    117 ;first_byte                Allocated with name '_mbtowc_first_byte_65536_40'
                                    118 ;sloc0                     Allocated with name '_mbtowc_sloc0_1_0'
                                    119 ;sloc1                     Allocated with name '_mbtowc_sloc1_1_0'
                                    120 ;------------------------------------------------------------
                                    121 ;	mbtowc.c:31: int mbtowc(wchar_t *pwc, const char *restrict s, size_t n)
                                    122 ;	-----------------------------------------
                                    123 ;	 function mbtowc
                                    124 ;	-----------------------------------------
      000000                        125 _mbtowc:
                           000007   126 	ar7 = 0x07
                           000006   127 	ar6 = 0x06
                           000005   128 	ar5 = 0x05
                           000004   129 	ar4 = 0x04
                           000003   130 	ar3 = 0x03
                           000002   131 	ar2 = 0x02
                           000001   132 	ar1 = 0x01
                           000000   133 	ar0 = 0x00
      000000 AF F0            [24]  134 	mov	r7,b
      000002 AE 83            [24]  135 	mov	r6,dph
      000004 E5 82            [12]  136 	mov	a,dpl
      000006 90r00r05         [24]  137 	mov	dptr,#_mbtowc_pwc_65536_39
      000009 F0               [24]  138 	movx	@dptr,a
      00000A EE               [12]  139 	mov	a,r6
      00000B A3               [24]  140 	inc	dptr
      00000C F0               [24]  141 	movx	@dptr,a
      00000D EF               [12]  142 	mov	a,r7
      00000E A3               [24]  143 	inc	dptr
      00000F F0               [24]  144 	movx	@dptr,a
                                    145 ;	mbtowc.c:37: if(!s)
      000010 90r00r00         [24]  146 	mov	dptr,#_mbtowc_PARM_2
      000013 E0               [24]  147 	movx	a,@dptr
      000014 FD               [12]  148 	mov	r5,a
      000015 A3               [24]  149 	inc	dptr
      000016 E0               [24]  150 	movx	a,@dptr
      000017 FE               [12]  151 	mov	r6,a
      000018 A3               [24]  152 	inc	dptr
      000019 E0               [24]  153 	movx	a,@dptr
      00001A FF               [12]  154 	mov	r7,a
      00001B ED               [12]  155 	mov	a,r5
      00001C 4E               [12]  156 	orl	a,r6
      00001D 70 04            [24]  157 	jnz	00102$
                                    158 ;	mbtowc.c:38: return(0);
      00001F 90 00 00         [24]  159 	mov	dptr,#0x0000
      000022 22               [24]  160 	ret
      000023                        161 00102$:
                                    162 ;	mbtowc.c:40: seqlen = 1;
      000023 90r00r0C         [24]  163 	mov	dptr,#_mbtowc_seqlen_65536_40
      000026 74 01            [12]  164 	mov	a,#0x01
      000028 F0               [24]  165 	movx	@dptr,a
                                    166 ;	mbtowc.c:41: first_byte = *s;
      000029 8D 82            [24]  167 	mov	dpl,r5
      00002B 8E 83            [24]  168 	mov	dph,r6
      00002D 8F F0            [24]  169 	mov	b,r7
      00002F 12r00r00         [24]  170 	lcall	__gptrget
      000032 FC               [12]  171 	mov	r4,a
      000033 90r00r0D         [24]  172 	mov	dptr,#_mbtowc_first_byte_65536_40
      000036 F0               [24]  173 	movx	@dptr,a
                                    174 ;	mbtowc.c:43: if(first_byte & 0x80)
      000037 EC               [12]  175 	mov	a,r4
      000038 30 E7 5B         [24]  176 	jnb	acc.7,00107$
                                    177 ;	mbtowc.c:45: while (first_byte & (0x80 >> seqlen))
      00003B 7B 01            [12]  178 	mov	r3,#0x01
      00003D                        179 00103$:
      00003D C0 05            [24]  180 	push	ar5
      00003F C0 06            [24]  181 	push	ar6
      000041 C0 07            [24]  182 	push	ar7
      000043 8B F0            [24]  183 	mov	b,r3
      000045 05 F0            [12]  184 	inc	b
      000047 79 80            [12]  185 	mov	r1,#0x80
      000049 E4               [12]  186 	clr	a
      00004A FA               [12]  187 	mov	r2,a
      00004B 33               [12]  188 	rlc	a
      00004C 92 D2            [24]  189 	mov	ov,c
      00004E 80 08            [24]  190 	sjmp	00190$
      000050                        191 00189$:
      000050 A2 D2            [12]  192 	mov	c,ov
      000052 EA               [12]  193 	mov	a,r2
      000053 13               [12]  194 	rrc	a
      000054 FA               [12]  195 	mov	r2,a
      000055 E9               [12]  196 	mov	a,r1
      000056 13               [12]  197 	rrc	a
      000057 F9               [12]  198 	mov	r1,a
      000058                        199 00190$:
      000058 D5 F0 F5         [24]  200 	djnz	b,00189$
      00005B 8C 00            [24]  201 	mov	ar0,r4
      00005D 7F 00            [12]  202 	mov	r7,#0x00
      00005F E8               [12]  203 	mov	a,r0
      000060 52 01            [12]  204 	anl	ar1,a
      000062 EF               [12]  205 	mov	a,r7
      000063 52 02            [12]  206 	anl	ar2,a
      000065 D0 07            [24]  207 	pop	ar7
      000067 D0 06            [24]  208 	pop	ar6
      000069 D0 05            [24]  209 	pop	ar5
      00006B E9               [12]  210 	mov	a,r1
      00006C 4A               [12]  211 	orl	a,r2
      00006D 60 03            [24]  212 	jz	00143$
                                    213 ;	mbtowc.c:46: seqlen++;
      00006F 0B               [12]  214 	inc	r3
      000070 80 CB            [24]  215 	sjmp	00103$
      000072                        216 00143$:
      000072 90r00r0C         [24]  217 	mov	dptr,#_mbtowc_seqlen_65536_40
      000075 EB               [12]  218 	mov	a,r3
      000076 F0               [24]  219 	movx	@dptr,a
                                    220 ;	mbtowc.c:47: first_byte &= (0xff >> (seqlen + 1));
      000077 0B               [12]  221 	inc	r3
      000078 8B F0            [24]  222 	mov	b,r3
      00007A 05 F0            [12]  223 	inc	b
      00007C 7B FF            [12]  224 	mov	r3,#0xff
      00007E E4               [12]  225 	clr	a
      00007F FA               [12]  226 	mov	r2,a
      000080 33               [12]  227 	rlc	a
      000081 92 D2            [24]  228 	mov	ov,c
      000083 80 08            [24]  229 	sjmp	00193$
      000085                        230 00192$:
      000085 A2 D2            [12]  231 	mov	c,ov
      000087 EA               [12]  232 	mov	a,r2
      000088 13               [12]  233 	rrc	a
      000089 FA               [12]  234 	mov	r2,a
      00008A EB               [12]  235 	mov	a,r3
      00008B 13               [12]  236 	rrc	a
      00008C FB               [12]  237 	mov	r3,a
      00008D                        238 00193$:
      00008D D5 F0 F5         [24]  239 	djnz	b,00192$
      000090 90r00r0D         [24]  240 	mov	dptr,#_mbtowc_first_byte_65536_40
      000093 EB               [12]  241 	mov	a,r3
      000094 5C               [12]  242 	anl	a,r4
      000095 F0               [24]  243 	movx	@dptr,a
      000096                        244 00107$:
                                    245 ;	mbtowc.c:50: if(seqlen > 4 || n < seqlen)
      000096 90r00r0C         [24]  246 	mov	dptr,#_mbtowc_seqlen_65536_40
      000099 E0               [24]  247 	movx	a,@dptr
      00009A FC               [12]  248 	mov  r4,a
      00009B 24 FB            [12]  249 	add	a,#0xff - 0x04
      00009D 40 13            [24]  250 	jc	00108$
      00009F 90r00r03         [24]  251 	mov	dptr,#_mbtowc_PARM_3
      0000A2 E0               [24]  252 	movx	a,@dptr
      0000A3 FA               [12]  253 	mov	r2,a
      0000A4 A3               [24]  254 	inc	dptr
      0000A5 E0               [24]  255 	movx	a,@dptr
      0000A6 FB               [12]  256 	mov	r3,a
      0000A7 8C 00            [24]  257 	mov	ar0,r4
      0000A9 79 00            [12]  258 	mov	r1,#0x00
      0000AB C3               [12]  259 	clr	c
      0000AC EA               [12]  260 	mov	a,r2
      0000AD 98               [12]  261 	subb	a,r0
      0000AE EB               [12]  262 	mov	a,r3
      0000AF 99               [12]  263 	subb	a,r1
      0000B0 50 04            [24]  264 	jnc	00136$
      0000B2                        265 00108$:
                                    266 ;	mbtowc.c:51: return(-1);
      0000B2 90 FF FF         [24]  267 	mov	dptr,#0xffff
      0000B5 22               [24]  268 	ret
                                    269 ;	mbtowc.c:53: for(i = 1; i < seqlen; i++)
      0000B6                        270 00136$:
      0000B6 7B 01            [12]  271 	mov	r3,#0x01
      0000B8                        272 00121$:
      0000B8 C3               [12]  273 	clr	c
      0000B9 EB               [12]  274 	mov	a,r3
      0000BA 9C               [12]  275 	subb	a,r4
      0000BB 50 26            [24]  276 	jnc	00113$
                                    277 ;	mbtowc.c:54: if((s[i] & 0xc0) != 0x80)
      0000BD EB               [12]  278 	mov	a,r3
      0000BE 2D               [12]  279 	add	a,r5
      0000BF F8               [12]  280 	mov	r0,a
      0000C0 E4               [12]  281 	clr	a
      0000C1 3E               [12]  282 	addc	a,r6
      0000C2 F9               [12]  283 	mov	r1,a
      0000C3 8F 02            [24]  284 	mov	ar2,r7
      0000C5 88 82            [24]  285 	mov	dpl,r0
      0000C7 89 83            [24]  286 	mov	dph,r1
      0000C9 8A F0            [24]  287 	mov	b,r2
      0000CB 12r00r00         [24]  288 	lcall	__gptrget
      0000CE F8               [12]  289 	mov	r0,a
      0000CF 53 00 C0         [24]  290 	anl	ar0,#0xc0
      0000D2 7A 00            [12]  291 	mov	r2,#0x00
      0000D4 B8 80 05         [24]  292 	cjne	r0,#0x80,00197$
      0000D7 BA 00 02         [24]  293 	cjne	r2,#0x00,00197$
      0000DA 80 04            [24]  294 	sjmp	00122$
      0000DC                        295 00197$:
                                    296 ;	mbtowc.c:55: return(-1);
      0000DC 90 FF FF         [24]  297 	mov	dptr,#0xffff
      0000DF 22               [24]  298 	ret
      0000E0                        299 00122$:
                                    300 ;	mbtowc.c:53: for(i = 1; i < seqlen; i++)
      0000E0 0B               [12]  301 	inc	r3
      0000E1 80 D5            [24]  302 	sjmp	00121$
      0000E3                        303 00113$:
                                    304 ;	mbtowc.c:57: codepoint = first_byte;
      0000E3 90r00r0D         [24]  305 	mov	dptr,#_mbtowc_first_byte_65536_40
      0000E6 E0               [24]  306 	movx	a,@dptr
      0000E7 FB               [12]  307 	mov	r3,a
      0000E8 90r00r08         [24]  308 	mov	dptr,#_mbtowc_codepoint_65536_40
      0000EB F0               [24]  309 	movx	@dptr,a
      0000EC E4               [12]  310 	clr	a
      0000ED A3               [24]  311 	inc	dptr
      0000EE F0               [24]  312 	movx	@dptr,a
      0000EF A3               [24]  313 	inc	dptr
      0000F0 F0               [24]  314 	movx	@dptr,a
      0000F1 A3               [24]  315 	inc	dptr
      0000F2 F0               [24]  316 	movx	@dptr,a
                                    317 ;	mbtowc.c:59: for(s++, i = seqlen - 1; i; i--)
      0000F3 90r00r00         [24]  318 	mov	dptr,#_mbtowc_PARM_2
      0000F6 04               [12]  319 	inc	a
      0000F7 2D               [12]  320 	add	a,r5
      0000F8 F0               [24]  321 	movx	@dptr,a
      0000F9 E4               [12]  322 	clr	a
      0000FA 3E               [12]  323 	addc	a,r6
      0000FB A3               [24]  324 	inc	dptr
      0000FC F0               [24]  325 	movx	@dptr,a
      0000FD EF               [12]  326 	mov	a,r7
      0000FE A3               [24]  327 	inc	dptr
      0000FF F0               [24]  328 	movx	@dptr,a
      000100 EC               [12]  329 	mov	a,r4
      000101 14               [12]  330 	dec	a
      000102 FF               [12]  331 	mov	r7,a
      000103 90r00r00         [24]  332 	mov	dptr,#_mbtowc_PARM_2
      000106 E0               [24]  333 	movx	a,@dptr
      000107 FC               [12]  334 	mov	r4,a
      000108 A3               [24]  335 	inc	dptr
      000109 E0               [24]  336 	movx	a,@dptr
      00010A FD               [12]  337 	mov	r5,a
      00010B A3               [24]  338 	inc	dptr
      00010C E0               [24]  339 	movx	a,@dptr
      00010D FE               [12]  340 	mov	r6,a
      00010E                        341 00124$:
      00010E EF               [12]  342 	mov	a,r7
      00010F 70 03            [24]  343 	jnz	00198$
      000111 02r01rA5         [24]  344 	ljmp	00114$
      000114                        345 00198$:
                                    346 ;	mbtowc.c:61: codepoint <<= 6;
      000114 90r00r08         [24]  347 	mov	dptr,#_mbtowc_codepoint_65536_40
      000117 E0               [24]  348 	movx	a,@dptr
      000118 F8               [12]  349 	mov	r0,a
      000119 A3               [24]  350 	inc	dptr
      00011A E0               [24]  351 	movx	a,@dptr
      00011B F9               [12]  352 	mov	r1,a
      00011C A3               [24]  353 	inc	dptr
      00011D E0               [24]  354 	movx	a,@dptr
      00011E FA               [12]  355 	mov	r2,a
      00011F A3               [24]  356 	inc	dptr
      000120 E0               [24]  357 	movx	a,@dptr
      000121 54 03            [12]  358 	anl	a,#0x03
      000123 A2 E0            [12]  359 	mov	c,acc.0
      000125 CA               [12]  360 	xch	a,r2
      000126 13               [12]  361 	rrc	a
      000127 CA               [12]  362 	xch	a,r2
      000128 13               [12]  363 	rrc	a
      000129 A2 E0            [12]  364 	mov	c,acc.0
      00012B CA               [12]  365 	xch	a,r2
      00012C 13               [12]  366 	rrc	a
      00012D CA               [12]  367 	xch	a,r2
      00012E 13               [12]  368 	rrc	a
      00012F CA               [12]  369 	xch	a,r2
      000130 FB               [12]  370 	mov	r3,a
      000131 E9               [12]  371 	mov	a,r1
      000132 03               [12]  372 	rr	a
      000133 03               [12]  373 	rr	a
      000134 54 3F            [12]  374 	anl	a,#0x3f
      000136 4A               [12]  375 	orl	a,r2
      000137 FA               [12]  376 	mov	r2,a
      000138 E9               [12]  377 	mov	a,r1
      000139 54 03            [12]  378 	anl	a,#0x03
      00013B A2 E0            [12]  379 	mov	c,acc.0
      00013D C8               [12]  380 	xch	a,r0
      00013E 13               [12]  381 	rrc	a
      00013F C8               [12]  382 	xch	a,r0
      000140 13               [12]  383 	rrc	a
      000141 A2 E0            [12]  384 	mov	c,acc.0
      000143 C8               [12]  385 	xch	a,r0
      000144 13               [12]  386 	rrc	a
      000145 C8               [12]  387 	xch	a,r0
      000146 13               [12]  388 	rrc	a
      000147 C8               [12]  389 	xch	a,r0
      000148 F9               [12]  390 	mov	r1,a
      000149 90r00r08         [24]  391 	mov	dptr,#_mbtowc_codepoint_65536_40
      00014C E8               [12]  392 	mov	a,r0
      00014D F0               [24]  393 	movx	@dptr,a
      00014E E9               [12]  394 	mov	a,r1
      00014F A3               [24]  395 	inc	dptr
      000150 F0               [24]  396 	movx	@dptr,a
      000151 EA               [12]  397 	mov	a,r2
      000152 A3               [24]  398 	inc	dptr
      000153 F0               [24]  399 	movx	@dptr,a
      000154 EB               [12]  400 	mov	a,r3
      000155 A3               [24]  401 	inc	dptr
      000156 F0               [24]  402 	movx	@dptr,a
                                    403 ;	mbtowc.c:62: codepoint |= (*s & 0x3f);
      000157 8C 82            [24]  404 	mov	dpl,r4
      000159 8D 83            [24]  405 	mov	dph,r5
      00015B 8E F0            [24]  406 	mov	b,r6
      00015D 12r00r00         [24]  407 	lcall	__gptrget
      000160 FB               [12]  408 	mov	r3,a
      000161 A3               [24]  409 	inc	dptr
      000162 AC 82            [24]  410 	mov	r4,dpl
      000164 AD 83            [24]  411 	mov	r5,dph
      000166 7A 00            [12]  412 	mov	r2,#0x00
      000168 74 3F            [12]  413 	mov	a,#0x3f
      00016A 5B               [12]  414 	anl	a,r3
      00016B F5*00            [12]  415 	mov	_mbtowc_sloc0_1_0,a
      00016D 8A*01            [24]  416 	mov	(_mbtowc_sloc0_1_0 + 1),r2
      00016F 90r00r08         [24]  417 	mov	dptr,#_mbtowc_codepoint_65536_40
      000172 E0               [24]  418 	movx	a,@dptr
      000173 F5*02            [12]  419 	mov	_mbtowc_sloc1_1_0,a
      000175 A3               [24]  420 	inc	dptr
      000176 E0               [24]  421 	movx	a,@dptr
      000177 F5*03            [12]  422 	mov	(_mbtowc_sloc1_1_0 + 1),a
      000179 A3               [24]  423 	inc	dptr
      00017A E0               [24]  424 	movx	a,@dptr
      00017B F5*04            [12]  425 	mov	(_mbtowc_sloc1_1_0 + 2),a
      00017D A3               [24]  426 	inc	dptr
      00017E E0               [24]  427 	movx	a,@dptr
      00017F F5*05            [12]  428 	mov	(_mbtowc_sloc1_1_0 + 3),a
      000181 A8*00            [24]  429 	mov	r0,_mbtowc_sloc0_1_0
      000183 E5*01            [12]  430 	mov	a,(_mbtowc_sloc0_1_0 + 1)
      000185 F9               [12]  431 	mov	r1,a
      000186 33               [12]  432 	rlc	a
      000187 95 E0            [12]  433 	subb	a,acc
      000189 FA               [12]  434 	mov	r2,a
      00018A FB               [12]  435 	mov	r3,a
      00018B 90r00r08         [24]  436 	mov	dptr,#_mbtowc_codepoint_65536_40
      00018E E8               [12]  437 	mov	a,r0
      00018F 45*02            [12]  438 	orl	a,_mbtowc_sloc1_1_0
      000191 F0               [24]  439 	movx	@dptr,a
      000192 E9               [12]  440 	mov	a,r1
      000193 45*03            [12]  441 	orl	a,(_mbtowc_sloc1_1_0 + 1)
      000195 A3               [24]  442 	inc	dptr
      000196 F0               [24]  443 	movx	@dptr,a
      000197 EA               [12]  444 	mov	a,r2
      000198 45*04            [12]  445 	orl	a,(_mbtowc_sloc1_1_0 + 2)
      00019A A3               [24]  446 	inc	dptr
      00019B F0               [24]  447 	movx	@dptr,a
      00019C EB               [12]  448 	mov	a,r3
      00019D 45*05            [12]  449 	orl	a,(_mbtowc_sloc1_1_0 + 3)
      00019F A3               [24]  450 	inc	dptr
      0001A0 F0               [24]  451 	movx	@dptr,a
                                    452 ;	mbtowc.c:63: s++;
                                    453 ;	mbtowc.c:59: for(s++, i = seqlen - 1; i; i--)
      0001A1 1F               [12]  454 	dec	r7
      0001A2 02r01r0E         [24]  455 	ljmp	00124$
      0001A5                        456 00114$:
                                    457 ;	mbtowc.c:66: if(codepoint >= 0xd800 && codepoint <= 0xdfff) // UTF-16 surrogate.
      0001A5 90r00r08         [24]  458 	mov	dptr,#_mbtowc_codepoint_65536_40
      0001A8 E0               [24]  459 	movx	a,@dptr
      0001A9 FC               [12]  460 	mov	r4,a
      0001AA A3               [24]  461 	inc	dptr
      0001AB E0               [24]  462 	movx	a,@dptr
      0001AC FD               [12]  463 	mov	r5,a
      0001AD A3               [24]  464 	inc	dptr
      0001AE E0               [24]  465 	movx	a,@dptr
      0001AF FE               [12]  466 	mov	r6,a
      0001B0 A3               [24]  467 	inc	dptr
      0001B1 E0               [24]  468 	movx	a,@dptr
      0001B2 FF               [12]  469 	mov	r7,a
      0001B3 C3               [12]  470 	clr	c
      0001B4 ED               [12]  471 	mov	a,r5
      0001B5 94 D8            [12]  472 	subb	a,#0xd8
      0001B7 EE               [12]  473 	mov	a,r6
      0001B8 94 00            [12]  474 	subb	a,#0x00
      0001BA EF               [12]  475 	mov	a,r7
      0001BB 94 00            [12]  476 	subb	a,#0x00
      0001BD 40 10            [24]  477 	jc	00116$
      0001BF 74 FF            [12]  478 	mov	a,#0xff
      0001C1 9C               [12]  479 	subb	a,r4
      0001C2 74 DF            [12]  480 	mov	a,#0xdf
      0001C4 9D               [12]  481 	subb	a,r5
      0001C5 E4               [12]  482 	clr	a
      0001C6 9E               [12]  483 	subb	a,r6
      0001C7 E4               [12]  484 	clr	a
      0001C8 9F               [12]  485 	subb	a,r7
      0001C9 40 04            [24]  486 	jc	00116$
                                    487 ;	mbtowc.c:67: return(-1);
      0001CB 90 FF FF         [24]  488 	mov	dptr,#0xffff
      0001CE 22               [24]  489 	ret
      0001CF                        490 00116$:
                                    491 ;	mbtowc.c:69: if(pwc)
      0001CF 90r00r05         [24]  492 	mov	dptr,#_mbtowc_pwc_65536_39
      0001D2 E0               [24]  493 	movx	a,@dptr
      0001D3 FD               [12]  494 	mov	r5,a
      0001D4 A3               [24]  495 	inc	dptr
      0001D5 E0               [24]  496 	movx	a,@dptr
      0001D6 FE               [12]  497 	mov	r6,a
      0001D7 A3               [24]  498 	inc	dptr
      0001D8 E0               [24]  499 	movx	a,@dptr
      0001D9 FF               [12]  500 	mov	r7,a
      0001DA 90r00r05         [24]  501 	mov	dptr,#_mbtowc_pwc_65536_39
      0001DD E0               [24]  502 	movx	a,@dptr
      0001DE F5 F0            [12]  503 	mov	b,a
      0001E0 A3               [24]  504 	inc	dptr
      0001E1 E0               [24]  505 	movx	a,@dptr
      0001E2 45 F0            [12]  506 	orl	a,b
      0001E4 60 27            [24]  507 	jz	00119$
                                    508 ;	mbtowc.c:70: *pwc = codepoint;
      0001E6 90r00r08         [24]  509 	mov	dptr,#_mbtowc_codepoint_65536_40
      0001E9 E0               [24]  510 	movx	a,@dptr
      0001EA F9               [12]  511 	mov	r1,a
      0001EB A3               [24]  512 	inc	dptr
      0001EC E0               [24]  513 	movx	a,@dptr
      0001ED FA               [12]  514 	mov	r2,a
      0001EE A3               [24]  515 	inc	dptr
      0001EF E0               [24]  516 	movx	a,@dptr
      0001F0 FB               [12]  517 	mov	r3,a
      0001F1 A3               [24]  518 	inc	dptr
      0001F2 E0               [24]  519 	movx	a,@dptr
      0001F3 FC               [12]  520 	mov	r4,a
      0001F4 8D 82            [24]  521 	mov	dpl,r5
      0001F6 8E 83            [24]  522 	mov	dph,r6
      0001F8 8F F0            [24]  523 	mov	b,r7
      0001FA E9               [12]  524 	mov	a,r1
      0001FB 12r00r00         [24]  525 	lcall	__gptrput
      0001FE A3               [24]  526 	inc	dptr
      0001FF EA               [12]  527 	mov	a,r2
      000200 12r00r00         [24]  528 	lcall	__gptrput
      000203 A3               [24]  529 	inc	dptr
      000204 EB               [12]  530 	mov	a,r3
      000205 12r00r00         [24]  531 	lcall	__gptrput
      000208 A3               [24]  532 	inc	dptr
      000209 EC               [12]  533 	mov	a,r4
      00020A 12r00r00         [24]  534 	lcall	__gptrput
      00020D                        535 00119$:
                                    536 ;	mbtowc.c:71: return(codepoint ? seqlen : 0);
      00020D 90r00r08         [24]  537 	mov	dptr,#_mbtowc_codepoint_65536_40
      000210 E0               [24]  538 	movx	a,@dptr
      000211 F5 F0            [12]  539 	mov	b,a
      000213 A3               [24]  540 	inc	dptr
      000214 E0               [24]  541 	movx	a,@dptr
      000215 42 F0            [12]  542 	orl	b,a
      000217 A3               [24]  543 	inc	dptr
      000218 E0               [24]  544 	movx	a,@dptr
      000219 42 F0            [12]  545 	orl	b,a
      00021B A3               [24]  546 	inc	dptr
      00021C E0               [24]  547 	movx	a,@dptr
      00021D 45 F0            [12]  548 	orl	a,b
      00021F 60 09            [24]  549 	jz	00128$
      000221 90r00r0C         [24]  550 	mov	dptr,#_mbtowc_seqlen_65536_40
      000224 E0               [24]  551 	movx	a,@dptr
      000225 FE               [12]  552 	mov	r6,a
      000226 7F 00            [12]  553 	mov	r7,#0x00
      000228 80 04            [24]  554 	sjmp	00129$
      00022A                        555 00128$:
      00022A 7E 00            [12]  556 	mov	r6,#0x00
      00022C 7F 00            [12]  557 	mov	r7,#0x00
      00022E                        558 00129$:
      00022E 8E 82            [24]  559 	mov	dpl,r6
      000230 8F 83            [24]  560 	mov	dph,r7
                                    561 ;	mbtowc.c:72: }
      000232 22               [24]  562 	ret
                                    563 	.area CSEG    (CODE)
                                    564 	.area CONST   (CODE)
                                    565 	.area XINIT   (CODE)
                                    566 	.area CABS    (ABS,CODE)
