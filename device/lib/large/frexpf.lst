                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module frexpf
                                      6 	.optsdcc -mmcs51 --model-large
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _frexpf_PARM_2
                                     12 	.globl _frexpf
                                     13 ;--------------------------------------------------------
                                     14 ; special function registers
                                     15 ;--------------------------------------------------------
                                     16 	.area RSEG    (ABS,DATA)
      000000                         17 	.org 0x0000
                                     18 ;--------------------------------------------------------
                                     19 ; special function bits
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; overlayable register banks
                                     25 ;--------------------------------------------------------
                                     26 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         27 	.ds 8
                                     28 ;--------------------------------------------------------
                                     29 ; internal ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area DSEG    (DATA)
                                     32 ;--------------------------------------------------------
                                     33 ; overlayable items in internal ram
                                     34 ;--------------------------------------------------------
                                     35 ;--------------------------------------------------------
                                     36 ; indirectly addressable internal ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area ISEG    (DATA)
                                     39 ;--------------------------------------------------------
                                     40 ; absolute internal ram data
                                     41 ;--------------------------------------------------------
                                     42 	.area IABS    (ABS,DATA)
                                     43 	.area IABS    (ABS,DATA)
                                     44 ;--------------------------------------------------------
                                     45 ; bit data
                                     46 ;--------------------------------------------------------
                                     47 	.area BSEG    (BIT)
                                     48 ;--------------------------------------------------------
                                     49 ; paged external ram data
                                     50 ;--------------------------------------------------------
                                     51 	.area PSEG    (PAG,XDATA)
                                     52 ;--------------------------------------------------------
                                     53 ; uninitialized external ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area XSEG    (XDATA)
      000000                         56 _frexpf_PARM_2:
      000000                         57 	.ds 3
      000003                         58 _frexpf_x_65536_25:
      000003                         59 	.ds 4
      000007                         60 _frexpf_fl_65536_26:
      000007                         61 	.ds 4
                                     62 ;--------------------------------------------------------
                                     63 ; absolute external ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area XABS    (ABS,XDATA)
                                     66 ;--------------------------------------------------------
                                     67 ; initialized external ram data
                                     68 ;--------------------------------------------------------
                                     69 	.area XISEG   (XDATA)
                                     70 	.area HOME    (CODE)
                                     71 	.area GSINIT0 (CODE)
                                     72 	.area GSINIT1 (CODE)
                                     73 	.area GSINIT2 (CODE)
                                     74 	.area GSINIT3 (CODE)
                                     75 	.area GSINIT4 (CODE)
                                     76 	.area GSINIT5 (CODE)
                                     77 	.area GSINIT  (CODE)
                                     78 	.area GSFINAL (CODE)
                                     79 	.area CSEG    (CODE)
                                     80 ;--------------------------------------------------------
                                     81 ; global & static initialisations
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME    (CODE)
                                     84 	.area GSINIT  (CODE)
                                     85 	.area GSFINAL (CODE)
                                     86 	.area GSINIT  (CODE)
                                     87 ;--------------------------------------------------------
                                     88 ; Home
                                     89 ;--------------------------------------------------------
                                     90 	.area HOME    (CODE)
                                     91 	.area HOME    (CODE)
                                     92 ;--------------------------------------------------------
                                     93 ; code
                                     94 ;--------------------------------------------------------
                                     95 	.area CSEG    (CODE)
                                     96 ;------------------------------------------------------------
                                     97 ;Allocation info for local variables in function 'frexpf'
                                     98 ;------------------------------------------------------------
                                     99 ;pw2                       Allocated with name '_frexpf_PARM_2'
                                    100 ;x                         Allocated with name '_frexpf_x_65536_25'
                                    101 ;fl                        Allocated with name '_frexpf_fl_65536_26'
                                    102 ;i                         Allocated with name '_frexpf_i_65536_26'
                                    103 ;------------------------------------------------------------
                                    104 ;	frexpf.c:34: float frexpf(float x, int *pw2)
                                    105 ;	-----------------------------------------
                                    106 ;	 function frexpf
                                    107 ;	-----------------------------------------
      000000                        108 _frexpf:
                           000007   109 	ar7 = 0x07
                           000006   110 	ar6 = 0x06
                           000005   111 	ar5 = 0x05
                           000004   112 	ar4 = 0x04
                           000003   113 	ar3 = 0x03
                           000002   114 	ar2 = 0x02
                           000001   115 	ar1 = 0x01
                           000000   116 	ar0 = 0x00
      000000 AF 82            [24]  117 	mov	r7,dpl
      000002 AE 83            [24]  118 	mov	r6,dph
      000004 AD F0            [24]  119 	mov	r5,b
      000006 FC               [12]  120 	mov	r4,a
      000007 90r00r03         [24]  121 	mov	dptr,#_frexpf_x_65536_25
      00000A EF               [12]  122 	mov	a,r7
      00000B F0               [24]  123 	movx	@dptr,a
      00000C EE               [12]  124 	mov	a,r6
      00000D A3               [24]  125 	inc	dptr
      00000E F0               [24]  126 	movx	@dptr,a
      00000F ED               [12]  127 	mov	a,r5
      000010 A3               [24]  128 	inc	dptr
      000011 F0               [24]  129 	movx	@dptr,a
      000012 EC               [12]  130 	mov	a,r4
      000013 A3               [24]  131 	inc	dptr
      000014 F0               [24]  132 	movx	@dptr,a
                                    133 ;	frexpf.c:39: fl.f=x;
      000015 90r00r03         [24]  134 	mov	dptr,#_frexpf_x_65536_25
      000018 E0               [24]  135 	movx	a,@dptr
      000019 FC               [12]  136 	mov	r4,a
      00001A A3               [24]  137 	inc	dptr
      00001B E0               [24]  138 	movx	a,@dptr
      00001C FD               [12]  139 	mov	r5,a
      00001D A3               [24]  140 	inc	dptr
      00001E E0               [24]  141 	movx	a,@dptr
      00001F FE               [12]  142 	mov	r6,a
      000020 A3               [24]  143 	inc	dptr
      000021 E0               [24]  144 	movx	a,@dptr
      000022 FF               [12]  145 	mov	r7,a
      000023 90r00r07         [24]  146 	mov	dptr,#_frexpf_fl_65536_26
      000026 EC               [12]  147 	mov	a,r4
      000027 F0               [24]  148 	movx	@dptr,a
      000028 ED               [12]  149 	mov	a,r5
      000029 A3               [24]  150 	inc	dptr
      00002A F0               [24]  151 	movx	@dptr,a
      00002B EE               [12]  152 	mov	a,r6
      00002C A3               [24]  153 	inc	dptr
      00002D F0               [24]  154 	movx	@dptr,a
      00002E EF               [12]  155 	mov	a,r7
      00002F A3               [24]  156 	inc	dptr
      000030 F0               [24]  157 	movx	@dptr,a
                                    158 ;	frexpf.c:41: i  = ( fl.l >> 23) & 0x000000ff;
      000031 90r00r07         [24]  159 	mov	dptr,#_frexpf_fl_65536_26
      000034 E0               [24]  160 	movx	a,@dptr
      000035 A3               [24]  161 	inc	dptr
      000036 E0               [24]  162 	movx	a,@dptr
      000037 A3               [24]  163 	inc	dptr
      000038 E0               [24]  164 	movx	a,@dptr
      000039 FE               [12]  165 	mov	r6,a
      00003A A3               [24]  166 	inc	dptr
      00003B E0               [24]  167 	movx	a,@dptr
      00003C 8E 04            [24]  168 	mov	ar4,r6
      00003E A2 E7            [12]  169 	mov	c,acc.7
      000040 CC               [12]  170 	xch	a,r4
      000041 33               [12]  171 	rlc	a
      000042 CC               [12]  172 	xch	a,r4
      000043 33               [12]  173 	rlc	a
      000044 CC               [12]  174 	xch	a,r4
      000045 54 01            [12]  175 	anl	a,#0x01
      000047 30 E0 02         [24]  176 	jnb	acc.0,00103$
      00004A 44 FE            [12]  177 	orl	a,#0xfffffffe
      00004C                        178 00103$:
      00004C 33               [12]  179 	rlc	a
      00004D 95 E0            [12]  180 	subb	a,acc
      00004F 7D 00            [12]  181 	mov	r5,#0x00
                                    182 ;	frexpf.c:42: i -= 0x7e;
      000051 EC               [12]  183 	mov	a,r4
      000052 24 82            [12]  184 	add	a,#0x82
      000054 FC               [12]  185 	mov	r4,a
      000055 ED               [12]  186 	mov	a,r5
      000056 34 FF            [12]  187 	addc	a,#0xff
      000058 FD               [12]  188 	mov	r5,a
                                    189 ;	frexpf.c:43: *pw2 = i;
      000059 90r00r00         [24]  190 	mov	dptr,#_frexpf_PARM_2
      00005C E0               [24]  191 	movx	a,@dptr
      00005D FB               [12]  192 	mov	r3,a
      00005E A3               [24]  193 	inc	dptr
      00005F E0               [24]  194 	movx	a,@dptr
      000060 FE               [12]  195 	mov	r6,a
      000061 A3               [24]  196 	inc	dptr
      000062 E0               [24]  197 	movx	a,@dptr
      000063 FF               [12]  198 	mov	r7,a
      000064 8B 82            [24]  199 	mov	dpl,r3
      000066 8E 83            [24]  200 	mov	dph,r6
      000068 8F F0            [24]  201 	mov	b,r7
      00006A EC               [12]  202 	mov	a,r4
      00006B 12r00r00         [24]  203 	lcall	__gptrput
      00006E A3               [24]  204 	inc	dptr
      00006F ED               [12]  205 	mov	a,r5
      000070 12r00r00         [24]  206 	lcall	__gptrput
                                    207 ;	frexpf.c:44: fl.l &= 0x807fffff; /* strip all exponent bits */
      000073 90r00r07         [24]  208 	mov	dptr,#_frexpf_fl_65536_26
      000076 E0               [24]  209 	movx	a,@dptr
      000077 FC               [12]  210 	mov	r4,a
      000078 A3               [24]  211 	inc	dptr
      000079 E0               [24]  212 	movx	a,@dptr
      00007A FD               [12]  213 	mov	r5,a
      00007B A3               [24]  214 	inc	dptr
      00007C E0               [24]  215 	movx	a,@dptr
      00007D FE               [12]  216 	mov	r6,a
      00007E A3               [24]  217 	inc	dptr
      00007F E0               [24]  218 	movx	a,@dptr
      000080 FF               [12]  219 	mov	r7,a
      000081 53 06 7F         [24]  220 	anl	ar6,#0x7f
      000084 53 07 80         [24]  221 	anl	ar7,#0x80
      000087 90r00r07         [24]  222 	mov	dptr,#_frexpf_fl_65536_26
      00008A EC               [12]  223 	mov	a,r4
      00008B F0               [24]  224 	movx	@dptr,a
      00008C ED               [12]  225 	mov	a,r5
      00008D A3               [24]  226 	inc	dptr
      00008E F0               [24]  227 	movx	@dptr,a
      00008F EE               [12]  228 	mov	a,r6
      000090 A3               [24]  229 	inc	dptr
      000091 F0               [24]  230 	movx	@dptr,a
      000092 EF               [12]  231 	mov	a,r7
      000093 A3               [24]  232 	inc	dptr
      000094 F0               [24]  233 	movx	@dptr,a
                                    234 ;	frexpf.c:45: fl.l |= 0x3f000000; /* mantissa between 0.5 and 1 */
      000095 43 07 3F         [24]  235 	orl	ar7,#0x3f
      000098 90r00r07         [24]  236 	mov	dptr,#_frexpf_fl_65536_26
      00009B EC               [12]  237 	mov	a,r4
      00009C F0               [24]  238 	movx	@dptr,a
      00009D ED               [12]  239 	mov	a,r5
      00009E A3               [24]  240 	inc	dptr
      00009F F0               [24]  241 	movx	@dptr,a
      0000A0 EE               [12]  242 	mov	a,r6
      0000A1 A3               [24]  243 	inc	dptr
      0000A2 F0               [24]  244 	movx	@dptr,a
      0000A3 EF               [12]  245 	mov	a,r7
      0000A4 A3               [24]  246 	inc	dptr
      0000A5 F0               [24]  247 	movx	@dptr,a
                                    248 ;	frexpf.c:46: return(fl.f);
      0000A6 90r00r07         [24]  249 	mov	dptr,#_frexpf_fl_65536_26
      0000A9 E0               [24]  250 	movx	a,@dptr
      0000AA FC               [12]  251 	mov	r4,a
      0000AB A3               [24]  252 	inc	dptr
      0000AC E0               [24]  253 	movx	a,@dptr
      0000AD FD               [12]  254 	mov	r5,a
      0000AE A3               [24]  255 	inc	dptr
      0000AF E0               [24]  256 	movx	a,@dptr
      0000B0 FE               [12]  257 	mov	r6,a
      0000B1 A3               [24]  258 	inc	dptr
      0000B2 E0               [24]  259 	movx	a,@dptr
      0000B3 8C 82            [24]  260 	mov	dpl,r4
      0000B5 8D 83            [24]  261 	mov	dph,r5
      0000B7 8E F0            [24]  262 	mov	b,r6
                                    263 ;	frexpf.c:47: }
      0000B9 22               [24]  264 	ret
                                    265 	.area CSEG    (CODE)
                                    266 	.area CONST   (CODE)
                                    267 	.area XINIT   (CODE)
                                    268 	.area CABS    (ABS,CODE)
