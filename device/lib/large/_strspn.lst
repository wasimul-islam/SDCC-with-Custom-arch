                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module _strspn
                                      6 	.optsdcc -mmcs51 --model-large
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _strchr
                                     12 	.globl _strspn_PARM_2
                                     13 	.globl _strspn
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
      000000                         33 _strspn_count_65536_27:
      000000                         34 	.ds 2
                                     35 ;--------------------------------------------------------
                                     36 ; overlayable items in internal ram
                                     37 ;--------------------------------------------------------
                                     38 ;--------------------------------------------------------
                                     39 ; indirectly addressable internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area ISEG    (DATA)
                                     42 ;--------------------------------------------------------
                                     43 ; absolute internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area IABS    (ABS,DATA)
                                     46 	.area IABS    (ABS,DATA)
                                     47 ;--------------------------------------------------------
                                     48 ; bit data
                                     49 ;--------------------------------------------------------
                                     50 	.area BSEG    (BIT)
                                     51 ;--------------------------------------------------------
                                     52 ; paged external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area PSEG    (PAG,XDATA)
                                     55 ;--------------------------------------------------------
                                     56 ; uninitialized external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area XSEG    (XDATA)
      000000                         59 _strspn_PARM_2:
      000000                         60 	.ds 3
      000003                         61 _strspn_string_65536_26:
      000003                         62 	.ds 3
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'strspn'
                                     99 ;------------------------------------------------------------
                                    100 ;count                     Allocated with name '_strspn_count_65536_27'
                                    101 ;ch                        Allocated to registers r1 
                                    102 ;control                   Allocated with name '_strspn_PARM_2'
                                    103 ;string                    Allocated with name '_strspn_string_65536_26'
                                    104 ;------------------------------------------------------------
                                    105 ;	_strspn.c:31: size_t strspn ( const char * string, const char * control )
                                    106 ;	-----------------------------------------
                                    107 ;	 function strspn
                                    108 ;	-----------------------------------------
      000000                        109 _strspn:
                           000007   110 	ar7 = 0x07
                           000006   111 	ar6 = 0x06
                           000005   112 	ar5 = 0x05
                           000004   113 	ar4 = 0x04
                           000003   114 	ar3 = 0x03
                           000002   115 	ar2 = 0x02
                           000001   116 	ar1 = 0x01
                           000000   117 	ar0 = 0x00
      000000 AF F0            [24]  118 	mov	r7,b
      000002 AE 83            [24]  119 	mov	r6,dph
      000004 E5 82            [12]  120 	mov	a,dpl
      000006 90r00r03         [24]  121 	mov	dptr,#_strspn_string_65536_26
      000009 F0               [24]  122 	movx	@dptr,a
      00000A EE               [12]  123 	mov	a,r6
      00000B A3               [24]  124 	inc	dptr
      00000C F0               [24]  125 	movx	@dptr,a
      00000D EF               [12]  126 	mov	a,r7
      00000E A3               [24]  127 	inc	dptr
      00000F F0               [24]  128 	movx	@dptr,a
                                    129 ;	_strspn.c:36: while (ch = *string) {
      000010 E4               [12]  130 	clr	a
      000011 F5*00            [12]  131 	mov	_strspn_count_65536_27,a
      000013 F5*01            [12]  132 	mov	(_strspn_count_65536_27 + 1),a
      000015 90r00r03         [24]  133 	mov	dptr,#_strspn_string_65536_26
      000018 E0               [24]  134 	movx	a,@dptr
      000019 FB               [12]  135 	mov	r3,a
      00001A A3               [24]  136 	inc	dptr
      00001B E0               [24]  137 	movx	a,@dptr
      00001C FC               [12]  138 	mov	r4,a
      00001D A3               [24]  139 	inc	dptr
      00001E E0               [24]  140 	movx	a,@dptr
      00001F FD               [12]  141 	mov	r5,a
      000020                        142 00104$:
      000020 8B 82            [24]  143 	mov	dpl,r3
      000022 8C 83            [24]  144 	mov	dph,r4
      000024 8D F0            [24]  145 	mov	b,r5
      000026 12r00r00         [24]  146 	lcall	__gptrget
      000029 FA               [12]  147 	mov	r2,a
      00002A F9               [12]  148 	mov	r1,a
      00002B 60 49            [24]  149 	jz	00112$
                                    150 ;	_strspn.c:37: if ( strchr(control,ch) )
      00002D 90r00r00         [24]  151 	mov	dptr,#_strspn_PARM_2
      000030 E0               [24]  152 	movx	a,@dptr
      000031 F8               [12]  153 	mov	r0,a
      000032 A3               [24]  154 	inc	dptr
      000033 E0               [24]  155 	movx	a,@dptr
      000034 FA               [12]  156 	mov	r2,a
      000035 A3               [24]  157 	inc	dptr
      000036 E0               [24]  158 	movx	a,@dptr
      000037 FF               [12]  159 	mov	r7,a
      000038 90r00r00         [24]  160 	mov	dptr,#_strchr_PARM_2
      00003B E9               [12]  161 	mov	a,r1
      00003C F0               [24]  162 	movx	@dptr,a
      00003D 88 82            [24]  163 	mov	dpl,r0
      00003F 8A 83            [24]  164 	mov	dph,r2
      000041 8F F0            [24]  165 	mov	b,r7
      000043 C0 05            [24]  166 	push	ar5
      000045 C0 04            [24]  167 	push	ar4
      000047 C0 03            [24]  168 	push	ar3
      000049 12r00r00         [24]  169 	lcall	_strchr
      00004C AA 82            [24]  170 	mov	r2,dpl
      00004E AE 83            [24]  171 	mov	r6,dph
      000050 AF F0            [24]  172 	mov	r7,b
      000052 D0 03            [24]  173 	pop	ar3
      000054 D0 04            [24]  174 	pop	ar4
      000056 D0 05            [24]  175 	pop	ar5
      000058 EA               [12]  176 	mov	a,r2
      000059 4E               [12]  177 	orl	a,r6
      00005A 60 1A            [24]  178 	jz	00112$
                                    179 ;	_strspn.c:38: count++ ;
      00005C 05*00            [12]  180 	inc	_strspn_count_65536_27
      00005E E4               [12]  181 	clr	a
      00005F B5*00 02         [24]  182 	cjne	a,_strspn_count_65536_27,00124$
      000062 05*01            [12]  183 	inc	(_strspn_count_65536_27 + 1)
      000064                        184 00124$:
                                    185 ;	_strspn.c:41: string++ ;
      000064 0B               [12]  186 	inc	r3
      000065 BB 00 01         [24]  187 	cjne	r3,#0x00,00125$
      000068 0C               [12]  188 	inc	r4
      000069                        189 00125$:
      000069 90r00r03         [24]  190 	mov	dptr,#_strspn_string_65536_26
      00006C EB               [12]  191 	mov	a,r3
      00006D F0               [24]  192 	movx	@dptr,a
      00006E EC               [12]  193 	mov	a,r4
      00006F A3               [24]  194 	inc	dptr
      000070 F0               [24]  195 	movx	@dptr,a
      000071 ED               [12]  196 	mov	a,r5
      000072 A3               [24]  197 	inc	dptr
      000073 F0               [24]  198 	movx	@dptr,a
      000074 80 AA            [24]  199 	sjmp	00104$
      000076                        200 00112$:
      000076 90r00r03         [24]  201 	mov	dptr,#_strspn_string_65536_26
      000079 EB               [12]  202 	mov	a,r3
      00007A F0               [24]  203 	movx	@dptr,a
      00007B EC               [12]  204 	mov	a,r4
      00007C A3               [24]  205 	inc	dptr
      00007D F0               [24]  206 	movx	@dptr,a
      00007E ED               [12]  207 	mov	a,r5
      00007F A3               [24]  208 	inc	dptr
      000080 F0               [24]  209 	movx	@dptr,a
                                    210 ;	_strspn.c:44: return count ;
      000081 85*00 82         [24]  211 	mov	dpl,_strspn_count_65536_27
      000084 85*01 83         [24]  212 	mov	dph,(_strspn_count_65536_27 + 1)
                                    213 ;	_strspn.c:45: }
      000087 22               [24]  214 	ret
                                    215 	.area CSEG    (CODE)
                                    216 	.area CONST   (CODE)
                                    217 	.area XINIT   (CODE)
                                    218 	.area CABS    (ABS,CODE)
