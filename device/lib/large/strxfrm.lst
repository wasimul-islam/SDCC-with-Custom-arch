                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module strxfrm
                                      6 	.optsdcc -mmcs51 --model-large
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _strlen
                                     12 	.globl _strncpy
                                     13 	.globl _strxfrm_PARM_3
                                     14 	.globl _strxfrm_PARM_2
                                     15 	.globl _strxfrm
                                     16 ;--------------------------------------------------------
                                     17 ; special function registers
                                     18 ;--------------------------------------------------------
                                     19 	.area RSEG    (ABS,DATA)
      000000                         20 	.org 0x0000
                                     21 ;--------------------------------------------------------
                                     22 ; special function bits
                                     23 ;--------------------------------------------------------
                                     24 	.area RSEG    (ABS,DATA)
      000000                         25 	.org 0x0000
                                     26 ;--------------------------------------------------------
                                     27 ; overlayable register banks
                                     28 ;--------------------------------------------------------
                                     29 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         30 	.ds 8
                                     31 ;--------------------------------------------------------
                                     32 ; internal ram data
                                     33 ;--------------------------------------------------------
                                     34 	.area DSEG    (DATA)
                                     35 ;--------------------------------------------------------
                                     36 ; overlayable items in internal ram
                                     37 ;--------------------------------------------------------
                                     38 ;--------------------------------------------------------
                                     39 ; indirectly addressable internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area ISEG    (DATA)
                                     42 ;--------------------------------------------------------
                                     43 ; absolute internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area IABS    (ABS,DATA)
                                     46 	.area IABS    (ABS,DATA)
                                     47 ;--------------------------------------------------------
                                     48 ; bit data
                                     49 ;--------------------------------------------------------
                                     50 	.area BSEG    (BIT)
                                     51 ;--------------------------------------------------------
                                     52 ; paged external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area PSEG    (PAG,XDATA)
                                     55 ;--------------------------------------------------------
                                     56 ; uninitialized external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area XSEG    (XDATA)
      000000                         59 _strxfrm_PARM_2:
      000000                         60 	.ds 3
      000003                         61 _strxfrm_PARM_3:
      000003                         62 	.ds 2
      000005                         63 _strxfrm_dest_65536_26:
      000005                         64 	.ds 3
                                     65 ;--------------------------------------------------------
                                     66 ; absolute external ram data
                                     67 ;--------------------------------------------------------
                                     68 	.area XABS    (ABS,XDATA)
                                     69 ;--------------------------------------------------------
                                     70 ; initialized external ram data
                                     71 ;--------------------------------------------------------
                                     72 	.area XISEG   (XDATA)
                                     73 	.area HOME    (CODE)
                                     74 	.area GSINIT0 (CODE)
                                     75 	.area GSINIT1 (CODE)
                                     76 	.area GSINIT2 (CODE)
                                     77 	.area GSINIT3 (CODE)
                                     78 	.area GSINIT4 (CODE)
                                     79 	.area GSINIT5 (CODE)
                                     80 	.area GSINIT  (CODE)
                                     81 	.area GSFINAL (CODE)
                                     82 	.area CSEG    (CODE)
                                     83 ;--------------------------------------------------------
                                     84 ; global & static initialisations
                                     85 ;--------------------------------------------------------
                                     86 	.area HOME    (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 	.area GSFINAL (CODE)
                                     89 	.area GSINIT  (CODE)
                                     90 ;--------------------------------------------------------
                                     91 ; Home
                                     92 ;--------------------------------------------------------
                                     93 	.area HOME    (CODE)
                                     94 	.area HOME    (CODE)
                                     95 ;--------------------------------------------------------
                                     96 ; code
                                     97 ;--------------------------------------------------------
                                     98 	.area CSEG    (CODE)
                                     99 ;------------------------------------------------------------
                                    100 ;Allocation info for local variables in function 'strxfrm'
                                    101 ;------------------------------------------------------------
                                    102 ;src                       Allocated with name '_strxfrm_PARM_2'
                                    103 ;n                         Allocated with name '_strxfrm_PARM_3'
                                    104 ;dest                      Allocated with name '_strxfrm_dest_65536_26'
                                    105 ;------------------------------------------------------------
                                    106 ;	strxfrm.c:31: size_t strxfrm(char *dest, const char *src, size_t n)
                                    107 ;	-----------------------------------------
                                    108 ;	 function strxfrm
                                    109 ;	-----------------------------------------
      000000                        110 _strxfrm:
                           000007   111 	ar7 = 0x07
                           000006   112 	ar6 = 0x06
                           000005   113 	ar5 = 0x05
                           000004   114 	ar4 = 0x04
                           000003   115 	ar3 = 0x03
                           000002   116 	ar2 = 0x02
                           000001   117 	ar1 = 0x01
                           000000   118 	ar0 = 0x00
      000000 AF F0            [24]  119 	mov	r7,b
      000002 AE 83            [24]  120 	mov	r6,dph
      000004 E5 82            [12]  121 	mov	a,dpl
      000006 90r00r05         [24]  122 	mov	dptr,#_strxfrm_dest_65536_26
      000009 F0               [24]  123 	movx	@dptr,a
      00000A EE               [12]  124 	mov	a,r6
      00000B A3               [24]  125 	inc	dptr
      00000C F0               [24]  126 	movx	@dptr,a
      00000D EF               [12]  127 	mov	a,r7
      00000E A3               [24]  128 	inc	dptr
      00000F F0               [24]  129 	movx	@dptr,a
                                    130 ;	strxfrm.c:33: strncpy(dest, src, n);
      000010 90r00r05         [24]  131 	mov	dptr,#_strxfrm_dest_65536_26
      000013 E0               [24]  132 	movx	a,@dptr
      000014 FD               [12]  133 	mov	r5,a
      000015 A3               [24]  134 	inc	dptr
      000016 E0               [24]  135 	movx	a,@dptr
      000017 FE               [12]  136 	mov	r6,a
      000018 A3               [24]  137 	inc	dptr
      000019 E0               [24]  138 	movx	a,@dptr
      00001A FF               [12]  139 	mov	r7,a
      00001B 90r00r00         [24]  140 	mov	dptr,#_strxfrm_PARM_2
      00001E E0               [24]  141 	movx	a,@dptr
      00001F FA               [12]  142 	mov	r2,a
      000020 A3               [24]  143 	inc	dptr
      000021 E0               [24]  144 	movx	a,@dptr
      000022 FB               [12]  145 	mov	r3,a
      000023 A3               [24]  146 	inc	dptr
      000024 E0               [24]  147 	movx	a,@dptr
      000025 FC               [12]  148 	mov	r4,a
      000026 90r00r03         [24]  149 	mov	dptr,#_strxfrm_PARM_3
      000029 E0               [24]  150 	movx	a,@dptr
      00002A F8               [12]  151 	mov	r0,a
      00002B A3               [24]  152 	inc	dptr
      00002C E0               [24]  153 	movx	a,@dptr
      00002D F9               [12]  154 	mov	r1,a
      00002E 90r00r00         [24]  155 	mov	dptr,#_strncpy_PARM_2
      000031 EA               [12]  156 	mov	a,r2
      000032 F0               [24]  157 	movx	@dptr,a
      000033 EB               [12]  158 	mov	a,r3
      000034 A3               [24]  159 	inc	dptr
      000035 F0               [24]  160 	movx	@dptr,a
      000036 EC               [12]  161 	mov	a,r4
      000037 A3               [24]  162 	inc	dptr
      000038 F0               [24]  163 	movx	@dptr,a
      000039 90r00r00         [24]  164 	mov	dptr,#_strncpy_PARM_3
      00003C E8               [12]  165 	mov	a,r0
      00003D F0               [24]  166 	movx	@dptr,a
      00003E E9               [12]  167 	mov	a,r1
      00003F A3               [24]  168 	inc	dptr
      000040 F0               [24]  169 	movx	@dptr,a
      000041 8D 82            [24]  170 	mov	dpl,r5
      000043 8E 83            [24]  171 	mov	dph,r6
      000045 8F F0            [24]  172 	mov	b,r7
      000047 12r00r00         [24]  173 	lcall	_strncpy
                                    174 ;	strxfrm.c:34: return(strlen(src) + 1);
      00004A 90r00r00         [24]  175 	mov	dptr,#_strxfrm_PARM_2
      00004D E0               [24]  176 	movx	a,@dptr
      00004E FD               [12]  177 	mov	r5,a
      00004F A3               [24]  178 	inc	dptr
      000050 E0               [24]  179 	movx	a,@dptr
      000051 FE               [12]  180 	mov	r6,a
      000052 A3               [24]  181 	inc	dptr
      000053 E0               [24]  182 	movx	a,@dptr
      000054 FF               [12]  183 	mov	r7,a
      000055 8D 82            [24]  184 	mov	dpl,r5
      000057 8E 83            [24]  185 	mov	dph,r6
      000059 8F F0            [24]  186 	mov	b,r7
      00005B 12r00r00         [24]  187 	lcall	_strlen
      00005E E5 82            [12]  188 	mov	a,dpl
      000060 85 83 F0         [24]  189 	mov	b,dph
      000063 24 01            [12]  190 	add	a,#0x01
      000065 FE               [12]  191 	mov	r6,a
      000066 E4               [12]  192 	clr	a
      000067 35 F0            [12]  193 	addc	a,b
                                    194 ;	strxfrm.c:35: }
      000069 8E 82            [24]  195 	mov	dpl,r6
      00006B F5 83            [12]  196 	mov	dph,a
      00006D 22               [24]  197 	ret
                                    198 	.area CSEG    (CODE)
                                    199 	.area CONST   (CODE)
                                    200 	.area XINIT   (CODE)
                                    201 	.area CABS    (ABS,CODE)
