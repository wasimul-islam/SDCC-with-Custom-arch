                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module modff
                                      6 	.optsdcc -mmcs51 --model-large
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _modff_PARM_2
                                     12 	.globl _modff
                                     13 ;--------------------------------------------------------
                                     14 ; special function registers
                                     15 ;--------------------------------------------------------
                                     16 	.area RSEG    (ABS,DATA)
      000000                         17 	.org 0x0000
                                     18 ;--------------------------------------------------------
                                     19 ; special function bits
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; overlayable register banks
                                     25 ;--------------------------------------------------------
                                     26 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         27 	.ds 8
                                     28 ;--------------------------------------------------------
                                     29 ; internal ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area DSEG    (DATA)
      000000                         32 _modff_sloc0_1_0:
      000000                         33 	.ds 3
                                     34 ;--------------------------------------------------------
                                     35 ; overlayable items in internal ram
                                     36 ;--------------------------------------------------------
                                     37 ;--------------------------------------------------------
                                     38 ; indirectly addressable internal ram data
                                     39 ;--------------------------------------------------------
                                     40 	.area ISEG    (DATA)
                                     41 ;--------------------------------------------------------
                                     42 ; absolute internal ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area IABS    (ABS,DATA)
                                     45 	.area IABS    (ABS,DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; bit data
                                     48 ;--------------------------------------------------------
                                     49 	.area BSEG    (BIT)
                                     50 ;--------------------------------------------------------
                                     51 ; paged external ram data
                                     52 ;--------------------------------------------------------
                                     53 	.area PSEG    (PAG,XDATA)
                                     54 ;--------------------------------------------------------
                                     55 ; uninitialized external ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area XSEG    (XDATA)
      000000                         58 _modff_PARM_2:
      000000                         59 	.ds 3
      000003                         60 _modff_x_65536_25:
      000003                         61 	.ds 4
                                     62 ;--------------------------------------------------------
                                     63 ; absolute external ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area XABS    (ABS,XDATA)
                                     66 ;--------------------------------------------------------
                                     67 ; initialized external ram data
                                     68 ;--------------------------------------------------------
                                     69 	.area XISEG   (XDATA)
                                     70 	.area HOME    (CODE)
                                     71 	.area GSINIT0 (CODE)
                                     72 	.area GSINIT1 (CODE)
                                     73 	.area GSINIT2 (CODE)
                                     74 	.area GSINIT3 (CODE)
                                     75 	.area GSINIT4 (CODE)
                                     76 	.area GSINIT5 (CODE)
                                     77 	.area GSINIT  (CODE)
                                     78 	.area GSFINAL (CODE)
                                     79 	.area CSEG    (CODE)
                                     80 ;--------------------------------------------------------
                                     81 ; global & static initialisations
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME    (CODE)
                                     84 	.area GSINIT  (CODE)
                                     85 	.area GSFINAL (CODE)
                                     86 	.area GSINIT  (CODE)
                                     87 ;--------------------------------------------------------
                                     88 ; Home
                                     89 ;--------------------------------------------------------
                                     90 	.area HOME    (CODE)
                                     91 	.area HOME    (CODE)
                                     92 ;--------------------------------------------------------
                                     93 ; code
                                     94 ;--------------------------------------------------------
                                     95 	.area CSEG    (CODE)
                                     96 ;------------------------------------------------------------
                                     97 ;Allocation info for local variables in function 'modff'
                                     98 ;------------------------------------------------------------
                                     99 ;sloc0                     Allocated with name '_modff_sloc0_1_0'
                                    100 ;y                         Allocated with name '_modff_PARM_2'
                                    101 ;x                         Allocated with name '_modff_x_65536_25'
                                    102 ;------------------------------------------------------------
                                    103 ;	modff.c:33: float modff(float x, float * y)
                                    104 ;	-----------------------------------------
                                    105 ;	 function modff
                                    106 ;	-----------------------------------------
      000000                        107 _modff:
                           000007   108 	ar7 = 0x07
                           000006   109 	ar6 = 0x06
                           000005   110 	ar5 = 0x05
                           000004   111 	ar4 = 0x04
                           000003   112 	ar3 = 0x03
                           000002   113 	ar2 = 0x02
                           000001   114 	ar1 = 0x01
                           000000   115 	ar0 = 0x00
      000000 AF 82            [24]  116 	mov	r7,dpl
      000002 AE 83            [24]  117 	mov	r6,dph
      000004 AD F0            [24]  118 	mov	r5,b
      000006 FC               [12]  119 	mov	r4,a
      000007 90r00r03         [24]  120 	mov	dptr,#_modff_x_65536_25
      00000A EF               [12]  121 	mov	a,r7
      00000B F0               [24]  122 	movx	@dptr,a
      00000C EE               [12]  123 	mov	a,r6
      00000D A3               [24]  124 	inc	dptr
      00000E F0               [24]  125 	movx	@dptr,a
      00000F ED               [12]  126 	mov	a,r5
      000010 A3               [24]  127 	inc	dptr
      000011 F0               [24]  128 	movx	@dptr,a
      000012 EC               [12]  129 	mov	a,r4
      000013 A3               [24]  130 	inc	dptr
      000014 F0               [24]  131 	movx	@dptr,a
                                    132 ;	modff.c:35: *y=(long)x;
      000015 90r00r00         [24]  133 	mov	dptr,#_modff_PARM_2
      000018 E0               [24]  134 	movx	a,@dptr
      000019 F5*00            [12]  135 	mov	_modff_sloc0_1_0,a
      00001B A3               [24]  136 	inc	dptr
      00001C E0               [24]  137 	movx	a,@dptr
      00001D F5*01            [12]  138 	mov	(_modff_sloc0_1_0 + 1),a
      00001F A3               [24]  139 	inc	dptr
      000020 E0               [24]  140 	movx	a,@dptr
      000021 F5*02            [12]  141 	mov	(_modff_sloc0_1_0 + 2),a
      000023 90r00r03         [24]  142 	mov	dptr,#_modff_x_65536_25
      000026 E0               [24]  143 	movx	a,@dptr
      000027 F9               [12]  144 	mov	r1,a
      000028 A3               [24]  145 	inc	dptr
      000029 E0               [24]  146 	movx	a,@dptr
      00002A FA               [12]  147 	mov	r2,a
      00002B A3               [24]  148 	inc	dptr
      00002C E0               [24]  149 	movx	a,@dptr
      00002D FB               [12]  150 	mov	r3,a
      00002E A3               [24]  151 	inc	dptr
      00002F E0               [24]  152 	movx	a,@dptr
      000030 FC               [12]  153 	mov	r4,a
      000031 89 82            [24]  154 	mov	dpl,r1
      000033 8A 83            [24]  155 	mov	dph,r2
      000035 8B F0            [24]  156 	mov	b,r3
      000037 C0 04            [24]  157 	push	ar4
      000039 C0 03            [24]  158 	push	ar3
      00003B C0 02            [24]  159 	push	ar2
      00003D C0 01            [24]  160 	push	ar1
      00003F 12r00r00         [24]  161 	lcall	___fs2slong
      000042 12r00r00         [24]  162 	lcall	___slong2fs
      000045 AD 82            [24]  163 	mov	r5,dpl
      000047 AE 83            [24]  164 	mov	r6,dph
      000049 A8 F0            [24]  165 	mov	r0,b
      00004B FF               [12]  166 	mov	r7,a
      00004C D0 01            [24]  167 	pop	ar1
      00004E D0 02            [24]  168 	pop	ar2
      000050 D0 03            [24]  169 	pop	ar3
      000052 D0 04            [24]  170 	pop	ar4
      000054 85*00 82         [24]  171 	mov	dpl,_modff_sloc0_1_0
      000057 85*01 83         [24]  172 	mov	dph,(_modff_sloc0_1_0 + 1)
      00005A 85*02 F0         [24]  173 	mov	b,(_modff_sloc0_1_0 + 2)
      00005D ED               [12]  174 	mov	a,r5
      00005E 12r00r00         [24]  175 	lcall	__gptrput
      000061 A3               [24]  176 	inc	dptr
      000062 EE               [12]  177 	mov	a,r6
      000063 12r00r00         [24]  178 	lcall	__gptrput
      000066 A3               [24]  179 	inc	dptr
      000067 E8               [12]  180 	mov	a,r0
      000068 12r00r00         [24]  181 	lcall	__gptrput
      00006B A3               [24]  182 	inc	dptr
      00006C EF               [12]  183 	mov	a,r7
      00006D 12r00r00         [24]  184 	lcall	__gptrput
                                    185 ;	modff.c:36: return (x-*y);
      000070 C0 05            [24]  186 	push	ar5
      000072 C0 06            [24]  187 	push	ar6
      000074 C0 00            [24]  188 	push	ar0
      000076 C0 07            [24]  189 	push	ar7
      000078 89 82            [24]  190 	mov	dpl,r1
      00007A 8A 83            [24]  191 	mov	dph,r2
      00007C 8B F0            [24]  192 	mov	b,r3
      00007E EC               [12]  193 	mov	a,r4
      00007F 12r00r00         [24]  194 	lcall	___fssub
      000082 AC 82            [24]  195 	mov	r4,dpl
      000084 AD 83            [24]  196 	mov	r5,dph
      000086 AE F0            [24]  197 	mov	r6,b
      000088 FF               [12]  198 	mov	r7,a
      000089 E5 81            [12]  199 	mov	a,sp
      00008B 24 FC            [12]  200 	add	a,#0xfc
      00008D F5 81            [12]  201 	mov	sp,a
      00008F 8C 82            [24]  202 	mov	dpl,r4
      000091 8D 83            [24]  203 	mov	dph,r5
      000093 8E F0            [24]  204 	mov	b,r6
      000095 EF               [12]  205 	mov	a,r7
                                    206 ;	modff.c:37: }
      000096 22               [24]  207 	ret
                                    208 	.area CSEG    (CODE)
                                    209 	.area CONST   (CODE)
                                    210 	.area XINIT   (CODE)
                                    211 	.area CABS    (ABS,CODE)
