                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _fs2ulong
                              6 	.optsdcc -mmos6502
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl ___fs2ulong
                             12 ;--------------------------------------------------------
                             13 ; ZP ram data
                             14 ;--------------------------------------------------------
                             15 	.area ZP      (PAG)
                             16 ;--------------------------------------------------------
                             17 ; overlayable items in ram
                             18 ;--------------------------------------------------------
                             19 ;--------------------------------------------------------
                             20 ; uninitialized external ram data
                             21 ;--------------------------------------------------------
                             22 	.area BSS
                             23 ;--------------------------------------------------------
                             24 ; absolute external ram data
                             25 ;--------------------------------------------------------
                             26 	.area DABS    (ABS)
                             27 ;--------------------------------------------------------
                             28 ; initialized external ram data
                             29 ;--------------------------------------------------------
                             30 	.area DATA
                             31 ;--------------------------------------------------------
                             32 ; global & static initialisations
                             33 ;--------------------------------------------------------
                             34 	.area _CODE
                             35 	.area GSINIT
                             36 	.area GSFINAL
                             37 	.area GSINIT
                             38 ;--------------------------------------------------------
                             39 ; Home
                             40 ;--------------------------------------------------------
                             41 	.area _CODE
                             42 	.area _CODE
                             43 ;--------------------------------------------------------
                             44 ; code
                             45 ;--------------------------------------------------------
                             46 	.area CODE
                             47 ;------------------------------------------------------------
                             48 ;Allocation info for local variables in function '__fs2ulong'
                             49 ;------------------------------------------------------------
                             50 ;a1                        Allocated to stack - sp +17
                             51 ;fl1                       Allocated to stack - sp +5
                             52 ;exp                       Allocated to stack - sp +13
                             53 ;l                         Allocated to stack - sp +1
                             54 ;sloc0                     Allocated to stack - sp +9
                             55 ;------------------------------------------------------------
                             56 ;	../_fs2ulong.c: 104: __fs2ulong (float a1)
                             57 ;	-----------------------------------------
                             58 ;	 function __fs2ulong
                             59 ;	-----------------------------------------
                             60 ;	Register assignment is optimal.
                             61 ;	Stack space usage: 14 bytes.
   0000                      62 ___fs2ulong:
   0000 85*00         [ 3]   63 	sta	*(__TEMP+0)
   0002 86*01         [ 3]   64 	stx	*(__TEMP+1)
   0004 BA            [ 2]   65 	tsx
   0005 8A            [ 2]   66 	txa
   0006 18            [ 2]   67 	clc
   0007 69 F2         [ 2]   68 	adc	#0xf2
   0009 AA            [ 2]   69 	tax
   000A 9A            [ 2]   70 	txs
   000B A6*01         [ 3]   71 	ldx	*(__TEMP+1)
   000D A5*00         [ 3]   72 	lda	*(__TEMP+0)
                             73 ;	../_fs2ulong.c: 110: fl1.f = a1;
   000F BA            [ 2]   74 	tsx
   0010 8A            [ 2]   75 	txa
   0011 18            [ 2]   76 	clc
   0012 69 05         [ 2]   77 	adc	#0x05
   0014 A2 01         [ 2]   78 	ldx	#0x01
   0016 85*00         [ 3]   79 	sta	*(__DPTR+0)
   0018 86*01         [ 3]   80 	stx	*(__DPTR+1)
   001A BA            [ 2]   81 	tsx
   001B BD 11 01      [ 5]   82 	lda	0x111,x
   001E A0 00         [ 2]   83 	ldy	#0x00
   0020 91*00         [ 6]   84 	sta	[__DPTR],y
   0022 BD 12 01      [ 5]   85 	lda	0x112,x
   0025 C8            [ 2]   86 	iny
   0026 91*00         [ 6]   87 	sta	[__DPTR],y
   0028 BD 13 01      [ 5]   88 	lda	0x113,x
   002B C8            [ 2]   89 	iny
   002C 91*00         [ 6]   90 	sta	[__DPTR],y
   002E BD 14 01      [ 5]   91 	lda	0x114,x
   0031 C8            [ 2]   92 	iny
   0032 91*00         [ 6]   93 	sta	[__DPTR],y
                             94 ;	../_fs2ulong.c: 112: if (!fl1.l || SIGN(fl1.l))
   0034 8A            [ 2]   95 	txa
   0035 18            [ 2]   96 	clc
   0036 69 05         [ 2]   97 	adc	#0x05
   0038 A2 01         [ 2]   98 	ldx	#0x01
   003A 85*00         [ 3]   99 	sta	*(__DPTR+0)
   003C A0 00         [ 2]  100 	ldy	#0x00
   003E B1*00         [ 6]  101 	lda	[__DPTR],y
   0040 86*00         [ 3]  102 	stx	*(__TEMP+0)
   0042 BA            [ 2]  103 	tsx
   0043 9D 09 01      [ 5]  104 	sta	0x109,x
   0046 A2 01         [ 2]  105 	ldx	#0x01
   0048 C8            [ 2]  106 	iny
   0049 B1*00         [ 6]  107 	lda	[__DPTR],y
   004B 86*00         [ 3]  108 	stx	*(__TEMP+0)
   004D BA            [ 2]  109 	tsx
   004E 9D 0A 01      [ 5]  110 	sta	0x10a,x
   0051 A2 01         [ 2]  111 	ldx	#0x01
   0053 C8            [ 2]  112 	iny
   0054 B1*00         [ 6]  113 	lda	[__DPTR],y
   0056 86*00         [ 3]  114 	stx	*(__TEMP+0)
   0058 BA            [ 2]  115 	tsx
   0059 9D 0B 01      [ 5]  116 	sta	0x10b,x
   005C A2 01         [ 2]  117 	ldx	#0x01
   005E C8            [ 2]  118 	iny
   005F B1*00         [ 6]  119 	lda	[__DPTR],y
   0061 86*00         [ 3]  120 	stx	*(__TEMP+0)
   0063 BA            [ 2]  121 	tsx
   0064 9D 0C 01      [ 5]  122 	sta	0x10c,x
   0067 BA            [ 2]  123 	tsx
   0068 BD 0C 01      [ 5]  124 	lda	0x10c,x
   006B 1D 0B 01      [ 5]  125 	ora	0x10b,x
   006E 1D 0A 01      [ 5]  126 	ora	0x10a,x
   0071 1D 09 01      [ 5]  127 	ora	0x109,x
   0074 F0 56         [ 4]  128 	beq	00101$
   0076 8A            [ 2]  129 	txa
   0077 18            [ 2]  130 	clc
   0078 69 05         [ 2]  131 	adc	#0x05
   007A A2 01         [ 2]  132 	ldx	#0x01
   007C 85*00         [ 3]  133 	sta	*(__DPTR+0)
   007E A0 00         [ 2]  134 	ldy	#0x00
   0080 B1*00         [ 6]  135 	lda	[__DPTR],y
   0082 86*00         [ 3]  136 	stx	*(__TEMP+0)
   0084 BA            [ 2]  137 	tsx
   0085 9D 09 01      [ 5]  138 	sta	0x109,x
   0088 A2 01         [ 2]  139 	ldx	#0x01
   008A C8            [ 2]  140 	iny
   008B B1*00         [ 6]  141 	lda	[__DPTR],y
   008D 86*00         [ 3]  142 	stx	*(__TEMP+0)
   008F BA            [ 2]  143 	tsx
   0090 9D 0A 01      [ 5]  144 	sta	0x10a,x
   0093 A2 01         [ 2]  145 	ldx	#0x01
   0095 C8            [ 2]  146 	iny
   0096 B1*00         [ 6]  147 	lda	[__DPTR],y
   0098 86*00         [ 3]  148 	stx	*(__TEMP+0)
   009A BA            [ 2]  149 	tsx
   009B 9D 0B 01      [ 5]  150 	sta	0x10b,x
   009E A2 01         [ 2]  151 	ldx	#0x01
   00A0 C8            [ 2]  152 	iny
   00A1 B1*00         [ 6]  153 	lda	[__DPTR],y
   00A3 86*00         [ 3]  154 	stx	*(__TEMP+0)
   00A5 BA            [ 2]  155 	tsx
   00A6 9D 0C 01      [ 5]  156 	sta	0x10c,x
   00A9 BA            [ 2]  157 	tsx
   00AA BD 0C 01      [ 5]  158 	lda	0x10c,x
   00AD 2A            [ 2]  159 	rol	a
   00AE A9 00         [ 2]  160 	lda	#0x00
   00B0 2A            [ 2]  161 	rol	a
   00B1 9D 09 01      [ 5]  162 	sta	0x109,x
   00B4 48            [ 3]  163 	pha
   00B5 A9 00         [ 2]  164 	lda	#0x00
   00B7 9D 0A 01      [ 5]  165 	sta	0x10a,x
   00BA A9 00         [ 2]  166 	lda	#0x00
   00BC 9D 0B 01      [ 5]  167 	sta	0x10b,x
   00BF A9 00         [ 2]  168 	lda	#0x00
   00C1 9D 0C 01      [ 5]  169 	sta	0x10c,x
   00C4 68            [ 4]  170 	pla
   00C5 A9 01         [ 2]  171 	lda	#0x01
   00C7 3D 09 01      [ 5]  172 	and	0x109,x
   00CA F0 0A         [ 4]  173 	beq	00102$
   00CC                     174 00101$:
                            175 ;	../_fs2ulong.c: 113: return (0);
   00CC A9 00         [ 2]  176 	lda	#0x00
   00CE AA            [ 2]  177 	tax
   00CF 85*00         [ 3]  178 	sta	*___SDCC_m6502_ret2
   00D1 85*00         [ 3]  179 	sta	*___SDCC_m6502_ret3
   00D3 4Cr57r02      [ 3]  180 	jmp	00109$
   00D6                     181 00102$:
                            182 ;	../_fs2ulong.c: 115: exp = EXP (fl1.l) - EXCESS - 24;
   00D6 BA            [ 2]  183 	tsx
   00D7 8A            [ 2]  184 	txa
   00D8 18            [ 2]  185 	clc
   00D9 69 05         [ 2]  186 	adc	#0x05
   00DB A2 01         [ 2]  187 	ldx	#0x01
   00DD 85*00         [ 3]  188 	sta	*(__DPTR+0)
   00DF 86*01         [ 3]  189 	stx	*(__DPTR+1)
   00E1 A0 00         [ 2]  190 	ldy	#0x00
   00E3 B1*00         [ 6]  191 	lda	[__DPTR],y
   00E5 BA            [ 2]  192 	tsx
   00E6 9D 09 01      [ 5]  193 	sta	0x109,x
   00E9 C8            [ 2]  194 	iny
   00EA B1*00         [ 6]  195 	lda	[__DPTR],y
   00EC 9D 0A 01      [ 5]  196 	sta	0x10a,x
   00EF C8            [ 2]  197 	iny
   00F0 B1*00         [ 6]  198 	lda	[__DPTR],y
   00F2 9D 0B 01      [ 5]  199 	sta	0x10b,x
   00F5 C8            [ 2]  200 	iny
   00F6 B1*00         [ 6]  201 	lda	[__DPTR],y
   00F8 9D 0C 01      [ 5]  202 	sta	0x10c,x
   00FB BD 0B 01      [ 5]  203 	lda	0x10b,x
   00FE 85*00         [ 3]  204 	sta	*(__TEMP+0)
   0100 BD 0C 01      [ 5]  205 	lda	0x10c,x
   0103 AA            [ 2]  206 	tax
   0104 A5*00         [ 3]  207 	lda	*(__TEMP+0)
   0106 86*00         [ 3]  208 	stx	*(__TEMP+0)
   0108 2A            [ 2]  209 	rol	a
   0109 26*00         [ 5]  210 	rol	*(__TEMP+0)
   010B A9 00         [ 2]  211 	lda	#0x00
   010D 2A            [ 2]  212 	rol	a
   010E AA            [ 2]  213 	tax
   010F A5*00         [ 3]  214 	lda	*(__TEMP+0)
   0111 48            [ 3]  215 	pha
   0112 8A            [ 2]  216 	txa
   0113 BA            [ 2]  217 	tsx
   0114 9D 0B 01      [ 5]  218 	sta	0x10b,x
   0117 68            [ 4]  219 	pla
   0118 9D 0A 01      [ 5]  220 	sta	0x10a,x
   011B BD 0B 01      [ 5]  221 	lda	0x10b,x
   011E 48            [ 3]  222 	pha
   011F A9 00         [ 2]  223 	lda	#0x00
   0121 9D 0C 01      [ 5]  224 	sta	0x10c,x
   0124 A9 00         [ 2]  225 	lda	#0x00
   0126 9D 0D 01      [ 5]  226 	sta	0x10d,x
   0129 68            [ 4]  227 	pla
   012A BD 0A 01      [ 5]  228 	lda	0x10a,x
   012D 85*00         [ 3]  229 	sta	*(__TEMP+0)
   012F BD 0B 01      [ 5]  230 	lda	0x10b,x
   0132 AA            [ 2]  231 	tax
   0133 A5*00         [ 3]  232 	lda	*(__TEMP+0)
   0135 A2 00         [ 2]  233 	ldx	#0x00
   0137 38            [ 2]  234 	sec
   0138 E9 96         [ 2]  235 	sbc	#0x96
   013A 86*00         [ 3]  236 	stx	*(__TEMP+0)
   013C BA            [ 2]  237 	tsx
   013D 9D 0D 01      [ 5]  238 	sta	0x10d,x
   0140 A2 00         [ 2]  239 	ldx	#0x00
   0142 8A            [ 2]  240 	txa
   0143 E9 00         [ 2]  241 	sbc	#0x00
   0145 86*00         [ 3]  242 	stx	*(__TEMP+0)
   0147 BA            [ 2]  243 	tsx
   0148 9D 0E 01      [ 5]  244 	sta	0x10e,x
                            245 ;	../_fs2ulong.c: 116: l = MANT (fl1.l);
   014B BA            [ 2]  246 	tsx
   014C 8A            [ 2]  247 	txa
   014D 18            [ 2]  248 	clc
   014E 69 05         [ 2]  249 	adc	#0x05
   0150 A2 01         [ 2]  250 	ldx	#0x01
   0152 85*00         [ 3]  251 	sta	*(__DPTR+0)
   0154 A0 00         [ 2]  252 	ldy	#0x00
   0156 B1*00         [ 6]  253 	lda	[__DPTR],y
   0158 86*00         [ 3]  254 	stx	*(__TEMP+0)
   015A BA            [ 2]  255 	tsx
   015B 9D 09 01      [ 5]  256 	sta	0x109,x
   015E A2 01         [ 2]  257 	ldx	#0x01
   0160 C8            [ 2]  258 	iny
   0161 B1*00         [ 6]  259 	lda	[__DPTR],y
   0163 86*00         [ 3]  260 	stx	*(__TEMP+0)
   0165 BA            [ 2]  261 	tsx
   0166 9D 0A 01      [ 5]  262 	sta	0x10a,x
   0169 A2 01         [ 2]  263 	ldx	#0x01
   016B C8            [ 2]  264 	iny
   016C B1*00         [ 6]  265 	lda	[__DPTR],y
   016E 86*00         [ 3]  266 	stx	*(__TEMP+0)
   0170 BA            [ 2]  267 	tsx
   0171 9D 0B 01      [ 5]  268 	sta	0x10b,x
   0174 A2 01         [ 2]  269 	ldx	#0x01
   0176 C8            [ 2]  270 	iny
   0177 B1*00         [ 6]  271 	lda	[__DPTR],y
   0179 86*00         [ 3]  272 	stx	*(__TEMP+0)
   017B BA            [ 2]  273 	tsx
   017C 9D 0C 01      [ 5]  274 	sta	0x10c,x
   017F BA            [ 2]  275 	tsx
   0180 A9 00         [ 2]  276 	lda	#0x00
   0182 9D 0C 01      [ 5]  277 	sta	0x10c,x
   0185 BD 0B 01      [ 5]  278 	lda	0x10b,x
   0188 09 80         [ 2]  279 	ora	#0x80
   018A 9D 0B 01      [ 5]  280 	sta	0x10b,x
   018D BD 09 01      [ 5]  281 	lda	0x109,x
   0190 9D 01 01      [ 5]  282 	sta	0x101,x
   0193 BD 0A 01      [ 5]  283 	lda	0x10a,x
   0196 9D 02 01      [ 5]  284 	sta	0x102,x
   0199 BD 0B 01      [ 5]  285 	lda	0x10b,x
   019C 9D 03 01      [ 5]  286 	sta	0x103,x
   019F BD 0C 01      [ 5]  287 	lda	0x10c,x
   01A2 9D 04 01      [ 5]  288 	sta	0x104,x
                            289 ;	../_fs2ulong.c: 118: if (exp > 8)
   01A5 A9 08         [ 2]  290 	lda	#0x08
   01A7 38            [ 2]  291 	sec
   01A8 FD 0D 01      [ 5]  292 	sbc	0x10d,x
   01AB A9 00         [ 2]  293 	lda	#0x00
   01AD FD 0E 01      [ 5]  294 	sbc	0x10e,x
   01B0 50 04         [ 4]  295 	bvc	00127$
   01B2 10 04         [ 4]  296 	bpl	00126$
   01B4 30 0C         [ 4]  297 	bmi	00105$
   01B6                     298 00127$:
   01B6 10 0A         [ 4]  299 	bpl	00105$
   01B8                     300 00126$:
                            301 ;	../_fs2ulong.c: 119: return 0xfffffffful;
   01B8 A9 FF         [ 2]  302 	lda	#0xff
   01BA AA            [ 2]  303 	tax
   01BB 85*00         [ 3]  304 	sta	*___SDCC_m6502_ret2
   01BD 85*00         [ 3]  305 	sta	*___SDCC_m6502_ret3
   01BF 4Cr57r02      [ 3]  306 	jmp	00109$
   01C2                     307 00105$:
                            308 ;	../_fs2ulong.c: 121: if (exp < 0)
   01C2 BA            [ 2]  309 	tsx
   01C3 BD 0E 01      [ 5]  310 	lda	0x10e,x
   01C6 38            [ 2]  311 	sec
   01C7 E9 00         [ 2]  312 	sbc	#0x00
   01C9 50 04         [ 4]  313 	bvc	00130$
   01CB 10 04         [ 4]  314 	bpl	00129$
   01CD 30 2F         [ 4]  315 	bmi	00107$
   01CF                     316 00130$:
   01CF 10 2D         [ 4]  317 	bpl	00107$
   01D1                     318 00129$:
                            319 ;	../_fs2ulong.c: 122: l >>= -exp;
   01D1 BD 0D 01      [ 5]  320 	lda	0x10d,x
   01D4 49 FF         [ 2]  321 	eor	#0xff
   01D6 18            [ 2]  322 	clc
   01D7 69 01         [ 2]  323 	adc	#0x01
   01D9 A8            [ 2]  324 	tay
   01DA F0 62         [ 4]  325 	beq	00108$
   01DC                     326 00132$:
   01DC BD 04 01      [ 5]  327 	lda	0x104,x
   01DF 4A            [ 2]  328 	lsr	a
   01E0 9D 04 01      [ 5]  329 	sta	0x104,x
   01E3 BD 03 01      [ 5]  330 	lda	0x103,x
   01E6 6A            [ 2]  331 	ror	a
   01E7 9D 03 01      [ 5]  332 	sta	0x103,x
   01EA BD 02 01      [ 5]  333 	lda	0x102,x
   01ED 6A            [ 2]  334 	ror	a
   01EE 9D 02 01      [ 5]  335 	sta	0x102,x
   01F1 BD 01 01      [ 5]  336 	lda	0x101,x
   01F4 6A            [ 2]  337 	ror	a
   01F5 9D 01 01      [ 5]  338 	sta	0x101,x
   01F8 88            [ 2]  339 	dey
   01F9 D0 E1         [ 4]  340 	bne	00132$
   01FB 4Cr3Er02      [ 3]  341 	jmp	00108$
   01FE                     342 00107$:
                            343 ;	../_fs2ulong.c: 124: l <<= exp;
   01FE BA            [ 2]  344 	tsx
   01FF BD 0D 01      [ 5]  345 	lda	0x10d,x
   0202 A8            [ 2]  346 	tay
   0203 BD 09 01      [ 5]  347 	lda	0x109,x
   0206 9D 01 01      [ 5]  348 	sta	0x101,x
   0209 BD 0A 01      [ 5]  349 	lda	0x10a,x
   020C 9D 02 01      [ 5]  350 	sta	0x102,x
   020F BD 0B 01      [ 5]  351 	lda	0x10b,x
   0212 9D 03 01      [ 5]  352 	sta	0x103,x
   0215 BD 0C 01      [ 5]  353 	lda	0x10c,x
   0218 9D 04 01      [ 5]  354 	sta	0x104,x
   021B C0 00         [ 2]  355 	cpy	#0x00
   021D F0 1F         [ 4]  356 	beq	00135$
   021F                     357 00134$:
   021F BD 01 01      [ 5]  358 	lda	0x101,x
   0222 0A            [ 2]  359 	asl	a
   0223 9D 01 01      [ 5]  360 	sta	0x101,x
   0226 BD 02 01      [ 5]  361 	lda	0x102,x
   0229 2A            [ 2]  362 	rol	a
   022A 9D 02 01      [ 5]  363 	sta	0x102,x
   022D BD 03 01      [ 5]  364 	lda	0x103,x
   0230 2A            [ 2]  365 	rol	a
   0231 9D 03 01      [ 5]  366 	sta	0x103,x
   0234 BD 04 01      [ 5]  367 	lda	0x104,x
   0237 2A            [ 2]  368 	rol	a
   0238 9D 04 01      [ 5]  369 	sta	0x104,x
   023B 88            [ 2]  370 	dey
   023C D0 E1         [ 4]  371 	bne	00134$
   023E                     372 00135$:
   023E                     373 00108$:
                            374 ;	../_fs2ulong.c: 126: return l;
   023E BA            [ 2]  375 	tsx
   023F BD 04 01      [ 5]  376 	lda	0x104,x
   0242 85*00         [ 3]  377 	sta	*___SDCC_m6502_ret3
   0244 BD 03 01      [ 5]  378 	lda	0x103,x
   0247 85*00         [ 3]  379 	sta	*___SDCC_m6502_ret2
   0249 BD 02 01      [ 5]  380 	lda	0x102,x
   024C AA            [ 2]  381 	tax
   024D 86*00         [ 3]  382 	stx	*(__TEMP+0)
   024F BA            [ 2]  383 	tsx
   0250 BD 01 01      [ 5]  384 	lda	0x101,x
   0253 08            [ 3]  385 	php
   0254 A6*00         [ 3]  386 	ldx	*(__TEMP+0)
   0256 28            [ 4]  387 	plp
   0257                     388 00109$:
                            389 ;	../_fs2ulong.c: 127: }
   0257 85*00         [ 3]  390 	sta	*(__TEMP+0)
   0259 86*01         [ 3]  391 	stx	*(__TEMP+1)
   025B BA            [ 2]  392 	tsx
   025C 8A            [ 2]  393 	txa
   025D 18            [ 2]  394 	clc
   025E 69 0E         [ 2]  395 	adc	#0x0e
   0260 AA            [ 2]  396 	tax
   0261 9A            [ 2]  397 	txs
   0262 A6*01         [ 3]  398 	ldx	*(__TEMP+1)
   0264 A5*00         [ 3]  399 	lda	*(__TEMP+0)
   0266 60            [ 6]  400 	rts
                            401 	.area CODE
                            402 	.area RODATA
                            403 	.area XINIT
                            404 	.area CABS    (ABS)
