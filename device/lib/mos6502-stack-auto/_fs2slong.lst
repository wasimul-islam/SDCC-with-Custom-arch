                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _fs2slong
                              6 	.optsdcc -mmos6502
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl ___fs2ulong
                             12 	.globl ___fs2slong
                             13 ;--------------------------------------------------------
                             14 ; ZP ram data
                             15 ;--------------------------------------------------------
                             16 	.area ZP      (PAG)
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in ram
                             19 ;--------------------------------------------------------
                             20 ;--------------------------------------------------------
                             21 ; uninitialized external ram data
                             22 ;--------------------------------------------------------
                             23 	.area BSS
                             24 ;--------------------------------------------------------
                             25 ; absolute external ram data
                             26 ;--------------------------------------------------------
                             27 	.area DABS    (ABS)
                             28 ;--------------------------------------------------------
                             29 ; initialized external ram data
                             30 ;--------------------------------------------------------
                             31 	.area DATA
                             32 ;--------------------------------------------------------
                             33 ; global & static initialisations
                             34 ;--------------------------------------------------------
                             35 	.area _CODE
                             36 	.area GSINIT
                             37 	.area GSFINAL
                             38 	.area GSINIT
                             39 ;--------------------------------------------------------
                             40 ; Home
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 	.area _CODE
                             44 ;--------------------------------------------------------
                             45 ; code
                             46 ;--------------------------------------------------------
                             47 	.area CODE
                             48 ;------------------------------------------------------------
                             49 ;Allocation info for local variables in function '__fs2slong'
                             50 ;------------------------------------------------------------
                             51 ;f                         Allocated to stack - sp +7
                             52 ;sloc0                     Allocated to stack - sp +1
                             53 ;------------------------------------------------------------
                             54 ;	../_fs2slong.c: 108: signed long __fs2slong (float f)
                             55 ;	-----------------------------------------
                             56 ;	 function __fs2slong
                             57 ;	-----------------------------------------
                             58 ;	Register assignment is optimal.
                             59 ;	Stack space usage: 4 bytes.
   0000                      60 ___fs2slong:
   0000 48            [ 3]   61 	pha
   0001 48            [ 3]   62 	pha
   0002 48            [ 3]   63 	pha
   0003 48            [ 3]   64 	pha
                             65 ;	../_fs2slong.c: 111: if (!f)
   0004 BA            [ 2]   66 	tsx
   0005 BD 0A 01      [ 5]   67 	lda	0x10a,x
   0008 29 7F         [ 2]   68 	and	#0x7F
   000A 1D 09 01      [ 5]   69 	ora	0x109,x
   000D 1D 08 01      [ 5]   70 	ora	0x108,x
   0010 1D 07 01      [ 5]   71 	ora	0x107,x
   0013 D0 0A         [ 4]   72 	bne	00102$
                             73 ;	../_fs2slong.c: 112: return 0;
   0015 A9 00         [ 2]   74 	lda	#0x00
   0017 AA            [ 2]   75 	tax
   0018 85*00         [ 3]   76 	sta	*___SDCC_m6502_ret2
   001A 85*00         [ 3]   77 	sta	*___SDCC_m6502_ret3
   001C 4Cr1Dr01      [ 3]   78 	jmp	00106$
   001F                      79 00102$:
                             80 ;	../_fs2slong.c: 114: if (f<0) {
   001F A9 00         [ 2]   81 	lda	#0x00
   0021 48            [ 3]   82 	pha
   0022 48            [ 3]   83 	pha
   0023 48            [ 3]   84 	pha
   0024 48            [ 3]   85 	pha
   0025 BA            [ 2]   86 	tsx
   0026 BD 0E 01      [ 5]   87 	lda	0x10e,x
   0029 48            [ 3]   88 	pha
   002A BD 0D 01      [ 5]   89 	lda	0x10d,x
   002D 48            [ 3]   90 	pha
   002E BD 0C 01      [ 5]   91 	lda	0x10c,x
   0031 48            [ 3]   92 	pha
   0032 BD 0B 01      [ 5]   93 	lda	0x10b,x
   0035 48            [ 3]   94 	pha
   0036 20r00r00      [ 6]   95 	jsr	___fslt
   0039 85*00         [ 3]   96 	sta	*(__TEMP+0)
   003B 86*01         [ 3]   97 	stx	*(__TEMP+1)
   003D BA            [ 2]   98 	tsx
   003E 8A            [ 2]   99 	txa
   003F 18            [ 2]  100 	clc
   0040 69 08         [ 2]  101 	adc	#0x08
   0042 AA            [ 2]  102 	tax
   0043 9A            [ 2]  103 	txs
   0044 A6*01         [ 3]  104 	ldx	*(__TEMP+1)
   0046 A5*00         [ 3]  105 	lda	*(__TEMP+0)
   0048 D0 03         [ 4]  106 	bne	00117$
   004A 4CrD1r00      [ 3]  107 	jmp	00104$
   004D                     108 00117$:
                            109 ;	../_fs2slong.c: 115: return -__fs2ulong(-f);
   004D BA            [ 2]  110 	tsx
   004E BD 07 01      [ 5]  111 	lda	0x107,x
   0051 9D 01 01      [ 5]  112 	sta	0x101,x
   0054 BD 08 01      [ 5]  113 	lda	0x108,x
   0057 9D 02 01      [ 5]  114 	sta	0x102,x
   005A BD 09 01      [ 5]  115 	lda	0x109,x
   005D 9D 03 01      [ 5]  116 	sta	0x103,x
   0060 BD 0A 01      [ 5]  117 	lda	0x10a,x
   0063 49 80         [ 2]  118 	eor	#0x80
   0065 9D 04 01      [ 5]  119 	sta	0x104, x
   0068 48            [ 3]  120 	pha
   0069 BD 03 01      [ 5]  121 	lda	0x103,x
   006C 48            [ 3]  122 	pha
   006D BD 02 01      [ 5]  123 	lda	0x102,x
   0070 48            [ 3]  124 	pha
   0071 BD 01 01      [ 5]  125 	lda	0x101,x
   0074 48            [ 3]  126 	pha
   0075 20r00r00      [ 6]  127 	jsr	___fs2ulong
   0078 86*00         [ 3]  128 	stx	*(__TEMP+0)
   007A BA            [ 2]  129 	tsx
   007B 9D 05 01      [ 5]  130 	sta	0x105,x
   007E A6*00         [ 3]  131 	ldx	*(__TEMP+0)
   0080 8A            [ 2]  132 	txa
   0081 BA            [ 2]  133 	tsx
   0082 9D 06 01      [ 5]  134 	sta	0x106,x
   0085 A6*00         [ 3]  135 	ldx	*(__TEMP+0)
   0087 A5*00         [ 3]  136 	lda	*___SDCC_m6502_ret2
   0089 BA            [ 2]  137 	tsx
   008A 9D 07 01      [ 5]  138 	sta	0x107,x
   008D A5*00         [ 3]  139 	lda	*___SDCC_m6502_ret3
   008F 9D 08 01      [ 5]  140 	sta	0x108,x
   0092 85*00         [ 3]  141 	sta	*(__TEMP+0)
   0094 68            [ 4]  142 	pla
   0095 68            [ 4]  143 	pla
   0096 68            [ 4]  144 	pla
   0097 68            [ 4]  145 	pla
   0098 A9 00         [ 2]  146 	lda	#0x00
   009A 38            [ 2]  147 	sec
   009B FD 05 01      [ 5]  148 	sbc	0x105,x
   009E 9D 05 01      [ 5]  149 	sta	0x105,x
   00A1 A9 00         [ 2]  150 	lda	#0x00
   00A3 FD 06 01      [ 5]  151 	sbc	0x106,x
   00A6 9D 06 01      [ 5]  152 	sta	0x106,x
   00A9 A9 00         [ 2]  153 	lda	#0x00
   00AB FD 07 01      [ 5]  154 	sbc	0x107,x
   00AE 9D 07 01      [ 5]  155 	sta	0x107,x
   00B1 A9 00         [ 2]  156 	lda	#0x00
   00B3 FD 08 01      [ 5]  157 	sbc	0x108,x
   00B6 9D 08 01      [ 5]  158 	sta	0x108, x
   00B9 85*00         [ 3]  159 	sta	*___SDCC_m6502_ret3
   00BB BD 07 01      [ 5]  160 	lda	0x107,x
   00BE 85*00         [ 3]  161 	sta	*___SDCC_m6502_ret2
   00C0 BD 06 01      [ 5]  162 	lda	0x106,x
   00C3 AA            [ 2]  163 	tax
   00C4 86*00         [ 3]  164 	stx	*(__TEMP+0)
   00C6 BA            [ 2]  165 	tsx
   00C7 BD 01 01      [ 5]  166 	lda	0x101,x
   00CA 08            [ 3]  167 	php
   00CB A6*00         [ 3]  168 	ldx	*(__TEMP+0)
   00CD 28            [ 4]  169 	plp
   00CE 4Cr1Dr01      [ 3]  170 	jmp	00106$
   00D1                     171 00104$:
                            172 ;	../_fs2slong.c: 117: return __fs2ulong(f);
   00D1 BA            [ 2]  173 	tsx
   00D2 BD 0A 01      [ 5]  174 	lda	0x10a,x
   00D5 48            [ 3]  175 	pha
   00D6 BD 09 01      [ 5]  176 	lda	0x109,x
   00D9 48            [ 3]  177 	pha
   00DA BD 08 01      [ 5]  178 	lda	0x108,x
   00DD 48            [ 3]  179 	pha
   00DE BD 07 01      [ 5]  180 	lda	0x107,x
   00E1 48            [ 3]  181 	pha
   00E2 20r00r00      [ 6]  182 	jsr	___fs2ulong
   00E5 86*00         [ 3]  183 	stx	*(__TEMP+0)
   00E7 BA            [ 2]  184 	tsx
   00E8 9D 05 01      [ 5]  185 	sta	0x105,x
   00EB A6*00         [ 3]  186 	ldx	*(__TEMP+0)
   00ED 8A            [ 2]  187 	txa
   00EE BA            [ 2]  188 	tsx
   00EF 9D 06 01      [ 5]  189 	sta	0x106,x
   00F2 A6*00         [ 3]  190 	ldx	*(__TEMP+0)
   00F4 A5*00         [ 3]  191 	lda	*___SDCC_m6502_ret2
   00F6 BA            [ 2]  192 	tsx
   00F7 9D 07 01      [ 5]  193 	sta	0x107,x
   00FA A5*00         [ 3]  194 	lda	*___SDCC_m6502_ret3
   00FC 9D 08 01      [ 5]  195 	sta	0x108,x
   00FF 85*00         [ 3]  196 	sta	*(__TEMP+0)
   0101 68            [ 4]  197 	pla
   0102 68            [ 4]  198 	pla
   0103 68            [ 4]  199 	pla
   0104 68            [ 4]  200 	pla
   0105 BD 08 01      [ 5]  201 	lda	0x108, x
   0108 85*00         [ 3]  202 	sta	*___SDCC_m6502_ret3
   010A BD 07 01      [ 5]  203 	lda	0x107,x
   010D 85*00         [ 3]  204 	sta	*___SDCC_m6502_ret2
   010F BD 06 01      [ 5]  205 	lda	0x106,x
   0112 AA            [ 2]  206 	tax
   0113 86*00         [ 3]  207 	stx	*(__TEMP+0)
   0115 BA            [ 2]  208 	tsx
   0116 BD 01 01      [ 5]  209 	lda	0x101,x
   0119 08            [ 3]  210 	php
   011A A6*00         [ 3]  211 	ldx	*(__TEMP+0)
   011C 28            [ 4]  212 	plp
   011D                     213 00106$:
                            214 ;	../_fs2slong.c: 119: }
   011D 85*00         [ 3]  215 	sta	*(__TEMP+0)
   011F 68            [ 4]  216 	pla
   0120 68            [ 4]  217 	pla
   0121 68            [ 4]  218 	pla
   0122 68            [ 4]  219 	pla
   0123 A5*00         [ 3]  220 	lda	*(__TEMP+0)
   0125 60            [ 6]  221 	rts
                            222 	.area CODE
                            223 	.area RODATA
                            224 	.area XINIT
                            225 	.area CABS    (ABS)
