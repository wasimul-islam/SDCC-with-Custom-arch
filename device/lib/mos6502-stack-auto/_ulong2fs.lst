                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _ulong2fs
                              6 	.optsdcc -mmos6502
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl ___ulong2fs
                             12 ;--------------------------------------------------------
                             13 ; ZP ram data
                             14 ;--------------------------------------------------------
                             15 	.area ZP      (PAG)
                             16 ;--------------------------------------------------------
                             17 ; overlayable items in ram
                             18 ;--------------------------------------------------------
                             19 ;--------------------------------------------------------
                             20 ; uninitialized external ram data
                             21 ;--------------------------------------------------------
                             22 	.area BSS
                             23 ;--------------------------------------------------------
                             24 ; absolute external ram data
                             25 ;--------------------------------------------------------
                             26 	.area DABS    (ABS)
                             27 ;--------------------------------------------------------
                             28 ; initialized external ram data
                             29 ;--------------------------------------------------------
                             30 	.area DATA
                             31 ;--------------------------------------------------------
                             32 ; global & static initialisations
                             33 ;--------------------------------------------------------
                             34 	.area _CODE
                             35 	.area GSINIT
                             36 	.area GSFINAL
                             37 	.area GSINIT
                             38 ;--------------------------------------------------------
                             39 ; Home
                             40 ;--------------------------------------------------------
                             41 	.area _CODE
                             42 	.area _CODE
                             43 ;--------------------------------------------------------
                             44 ; code
                             45 ;--------------------------------------------------------
                             46 	.area CODE
                             47 ;------------------------------------------------------------
                             48 ;Allocation info for local variables in function '__ulong2fs'
                             49 ;------------------------------------------------------------
                             50 ;a                         Allocated to stack - sp +13
                             51 ;exp                       Allocated to registers y 
                             52 ;fl                        Allocated to stack - sp +1
                             53 ;sloc0                     Allocated to stack - sp +9
                             54 ;sloc1                     Allocated to stack - sp +5
                             55 ;------------------------------------------------------------
                             56 ;	../_ulong2fs.c: 84: float __ulong2fs (unsigned long a )
                             57 ;	-----------------------------------------
                             58 ;	 function __ulong2fs
                             59 ;	-----------------------------------------
                             60 ;	Register assignment is optimal.
                             61 ;	Stack space usage: 10 bytes.
   0000                      62 ___ulong2fs:
   0000 85*00         [ 3]   63 	sta	*(__TEMP+0)
   0002 86*01         [ 3]   64 	stx	*(__TEMP+1)
   0004 BA            [ 2]   65 	tsx
   0005 8A            [ 2]   66 	txa
   0006 18            [ 2]   67 	clc
   0007 69 F6         [ 2]   68 	adc	#0xf6
   0009 AA            [ 2]   69 	tax
   000A 9A            [ 2]   70 	txs
   000B A6*01         [ 3]   71 	ldx	*(__TEMP+1)
   000D A5*00         [ 3]   72 	lda	*(__TEMP+0)
                             73 ;	../_ulong2fs.c: 89: if (!a)
   000F BA            [ 2]   74 	tsx
   0010 BD 10 01      [ 5]   75 	lda	0x110,x
   0013 1D 0F 01      [ 5]   76 	ora	0x10f,x
   0016 1D 0E 01      [ 5]   77 	ora	0x10e,x
   0019 1D 0D 01      [ 5]   78 	ora	0x10d,x
   001C D0 0A         [ 4]   79 	bne	00102$
                             80 ;	../_ulong2fs.c: 91: return 0.0;
   001E A9 00         [ 2]   81 	lda	#0x00
   0020 AA            [ 2]   82 	tax
   0021 85*00         [ 3]   83 	sta	*___SDCC_m6502_ret2
   0023 85*00         [ 3]   84 	sta	*___SDCC_m6502_ret3
   0025 4Cr9Ar01      [ 3]   85 	jmp	00113$
   0028                      86 00102$:
                             87 ;	../_ulong2fs.c: 94: if (a == 0xfffffffful)
   0028 BA            [ 2]   88 	tsx
   0029 BD 0D 01      [ 5]   89 	lda	0x10d,x
   002C C9 FF         [ 2]   90 	cmp	#0xff
   002E D0 23         [ 4]   91 	bne	00118$
   0030 BD 0E 01      [ 5]   92 	lda	0x10e,x
   0033 C9 FF         [ 2]   93 	cmp	#0xff
   0035 D0 1C         [ 4]   94 	bne	00118$
   0037 BD 0F 01      [ 5]   95 	lda	0x10f,x
   003A C9 FF         [ 2]   96 	cmp	#0xff
   003C D0 15         [ 4]   97 	bne	00118$
   003E BD 10 01      [ 5]   98 	lda	0x110,x
   0041 C9 FF         [ 2]   99 	cmp	#0xff
   0043 D0 0E         [ 4]  100 	bne	00118$
                            101 ;	../_ulong2fs.c: 96: return 4294967296.0f;
   0045 A9 00         [ 2]  102 	lda	#0x00
   0047 AA            [ 2]  103 	tax
   0048 A0 80         [ 2]  104 	ldy	#0x80
   004A 84*00         [ 3]  105 	sty	*___SDCC_m6502_ret2
   004C A0 4F         [ 2]  106 	ldy	#0x4f
   004E 84*00         [ 3]  107 	sty	*___SDCC_m6502_ret3
   0050 4Cr9Ar01      [ 3]  108 	jmp	00113$
                            109 ;	../_ulong2fs.c: 99: while (a < HIDDEN)
   0053                     110 00118$:
   0053 A0 96         [ 2]  111 	ldy	#0x96
   0055                     112 00105$:
   0055 BA            [ 2]  113 	tsx
   0056 BD 0F 01      [ 5]  114 	lda	0x10f,x
   0059 38            [ 2]  115 	sec
   005A E9 80         [ 2]  116 	sbc	#0x80
   005C BD 10 01      [ 5]  117 	lda	0x110,x
   005F E9 00         [ 2]  118 	sbc	#0x00
   0061 B0 20         [ 4]  119 	bcs	00121$
                            120 ;	../_ulong2fs.c: 101: a <<= 1;
   0063 BD 0D 01      [ 5]  121 	lda	0x10d,x
   0066 0A            [ 2]  122 	asl	a
   0067 9D 0D 01      [ 5]  123 	sta	0x10d,x
   006A BD 0E 01      [ 5]  124 	lda	0x10e,x
   006D 2A            [ 2]  125 	rol	a
   006E 9D 0E 01      [ 5]  126 	sta	0x10e,x
   0071 BD 0F 01      [ 5]  127 	lda	0x10f,x
   0074 2A            [ 2]  128 	rol	a
   0075 9D 0F 01      [ 5]  129 	sta	0x10f,x
   0078 BD 10 01      [ 5]  130 	lda	0x110,x
   007B 2A            [ 2]  131 	rol	a
   007C 9D 10 01      [ 5]  132 	sta	0x110,x
                            133 ;	../_ulong2fs.c: 102: exp--;
   007F 88            [ 2]  134 	dey
   0080 4Cr55r00      [ 3]  135 	jmp	00105$
                            136 ;	../_ulong2fs.c: 105: while (a & NORM)
   0083                     137 00121$:
   0083                     138 00110$:
   0083 BA            [ 2]  139 	tsx
   0084 BD 10 01      [ 5]  140 	lda	0x110,x
   0087 F0 49         [ 4]  141 	beq	00112$
                            142 ;	../_ulong2fs.c: 108: if (a & 1)
   0089 A9 01         [ 2]  143 	lda	#0x01
   008B 3D 0D 01      [ 5]  144 	and	0x10d,x
   008E F0 21         [ 4]  145 	beq	00109$
                            146 ;	../_ulong2fs.c: 109: a += 2;
   0090 BD 0D 01      [ 5]  147 	lda	0x10d,x
   0093 18            [ 2]  148 	clc
   0094 69 02         [ 2]  149 	adc	#0x02
   0096 9D 0D 01      [ 5]  150 	sta	0x10d,x
   0099 BD 0E 01      [ 5]  151 	lda	0x10e,x
   009C 69 00         [ 2]  152 	adc	#0x00
   009E 9D 0E 01      [ 5]  153 	sta	0x10e,x
   00A1 BD 0F 01      [ 5]  154 	lda	0x10f,x
   00A4 69 00         [ 2]  155 	adc	#0x00
   00A6 9D 0F 01      [ 5]  156 	sta	0x10f,x
   00A9 BD 10 01      [ 5]  157 	lda	0x110,x
   00AC 69 00         [ 2]  158 	adc	#0x00
   00AE 9D 10 01      [ 5]  159 	sta	0x110,x
   00B1                     160 00109$:
                            161 ;	../_ulong2fs.c: 110: a >>= 1;
   00B1 BA            [ 2]  162 	tsx
   00B2 BD 10 01      [ 5]  163 	lda	0x110,x
   00B5 4A            [ 2]  164 	lsr	a
   00B6 9D 10 01      [ 5]  165 	sta	0x110,x
   00B9 BD 0F 01      [ 5]  166 	lda	0x10f,x
   00BC 6A            [ 2]  167 	ror	a
   00BD 9D 0F 01      [ 5]  168 	sta	0x10f,x
   00C0 BD 0E 01      [ 5]  169 	lda	0x10e,x
   00C3 6A            [ 2]  170 	ror	a
   00C4 9D 0E 01      [ 5]  171 	sta	0x10e,x
   00C7 BD 0D 01      [ 5]  172 	lda	0x10d,x
   00CA 6A            [ 2]  173 	ror	a
   00CB 9D 0D 01      [ 5]  174 	sta	0x10d,x
                            175 ;	../_ulong2fs.c: 111: exp++;
   00CE C8            [ 2]  176 	iny
   00CF 4Cr83r00      [ 3]  177 	jmp	00110$
   00D2                     178 00112$:
                            179 ;	../_ulong2fs.c: 114: a &= ~HIDDEN ;
   00D2 BA            [ 2]  180 	tsx
   00D3 BD 0F 01      [ 5]  181 	lda	0x10f,x
   00D6 29 7F         [ 2]  182 	and	#0x7f
   00D8 9D 0F 01      [ 5]  183 	sta	0x10f,x
                            184 ;	../_ulong2fs.c: 116: fl.l = PACK(0,(unsigned long)exp, a);
   00DB E8            [ 2]  185 	inx
   00DC 8A            [ 2]  186 	txa
   00DD 9D 08 01      [ 5]  187 	sta	0x108,x
   00E0 A9 01         [ 2]  188 	lda	#0x01
   00E2 9D 09 01      [ 5]  189 	sta	0x109,x
   00E5 98            [ 2]  190 	tya
   00E6 9D 04 01      [ 5]  191 	sta	0x104,x
   00E9 A9 00         [ 2]  192 	lda	#0x00
   00EB 9D 05 01      [ 5]  193 	sta	0x105,x
   00EE 9D 06 01      [ 5]  194 	sta	0x106,x
   00F1 9D 07 01      [ 5]  195 	sta	0x107,x
   00F4 BD 04 01      [ 5]  196 	lda	0x104,x
   00F7 85*00         [ 3]  197 	sta	*(__TEMP+0)
   00F9 BD 05 01      [ 5]  198 	lda	0x105,x
   00FC AA            [ 2]  199 	tax
   00FD A5*00         [ 3]  200 	lda	*(__TEMP+0)
   00FF 48            [ 3]  201 	pha
   0100 8A            [ 2]  202 	txa
   0101 4A            [ 2]  203 	lsr	a
   0102 AA            [ 2]  204 	tax
   0103 68            [ 4]  205 	pla
   0104 6A            [ 2]  206 	ror	a
   0105 AA            [ 2]  207 	tax
   0106 A9 00         [ 2]  208 	lda	#0x00
   0108 6A            [ 2]  209 	ror	a
   0109 48            [ 3]  210 	pha
   010A 8A            [ 2]  211 	txa
   010B BA            [ 2]  212 	tsx
   010C 9D 09 01      [ 5]  213 	sta	0x109,x
   010F 68            [ 4]  214 	pla
   0110 9D 08 01      [ 5]  215 	sta	0x108,x
   0113 A9 00         [ 2]  216 	lda	#0x00
   0115 9D 06 01      [ 5]  217 	sta	0x106,x
   0118 9D 07 01      [ 5]  218 	sta	0x107,x
   011B BD 06 01      [ 5]  219 	lda	0x106,x
   011E 1D 0E 01      [ 5]  220 	ora	0x10e,x
   0121 9D 06 01      [ 5]  221 	sta	0x106,x
   0124 BD 07 01      [ 5]  222 	lda	0x107,x
   0127 1D 0F 01      [ 5]  223 	ora	0x10f,x
   012A 9D 07 01      [ 5]  224 	sta	0x107,x
   012D BD 08 01      [ 5]  225 	lda	0x108,x
   0130 1D 10 01      [ 5]  226 	ora	0x110,x
   0133 9D 08 01      [ 5]  227 	sta	0x108,x
   0136 BD 09 01      [ 5]  228 	lda	0x109,x
   0139 1D 11 01      [ 5]  229 	ora	0x111,x
   013C 9D 09 01      [ 5]  230 	sta	0x109,x
   013F BD 0A 01      [ 5]  231 	lda	0x10a,x
   0142 85*00         [ 3]  232 	sta	*(__DPTR+0)
   0144 BD 0B 01      [ 5]  233 	lda	0x10b,x
   0147 85*01         [ 3]  234 	sta	*(__DPTR+1)
   0149 BD 06 01      [ 5]  235 	lda	0x106,x
   014C A0 00         [ 2]  236 	ldy	#0x00
   014E 91*00         [ 6]  237 	sta	[__DPTR],y
   0150 BD 07 01      [ 5]  238 	lda	0x107,x
   0153 C8            [ 2]  239 	iny
   0154 91*00         [ 6]  240 	sta	[__DPTR],y
   0156 BD 08 01      [ 5]  241 	lda	0x108,x
   0159 C8            [ 2]  242 	iny
   015A 91*00         [ 6]  243 	sta	[__DPTR],y
   015C BD 09 01      [ 5]  244 	lda	0x109,x
   015F C8            [ 2]  245 	iny
   0160 91*00         [ 6]  246 	sta	[__DPTR],y
                            247 ;	../_ulong2fs.c: 118: return (fl.f);
   0162 E8            [ 2]  248 	inx
   0163 E8            [ 2]  249 	inx
   0164 8A            [ 2]  250 	txa
   0165 A2 01         [ 2]  251 	ldx	#0x01
   0167 85*00         [ 3]  252 	sta	*(__DPTR+0)
   0169 86*01         [ 3]  253 	stx	*(__DPTR+1)
   016B A0 00         [ 2]  254 	ldy	#0x00
   016D B1*00         [ 6]  255 	lda	[__DPTR],y
   016F BA            [ 2]  256 	tsx
   0170 9D 05 01      [ 5]  257 	sta	0x105,x
   0173 C8            [ 2]  258 	iny
   0174 B1*00         [ 6]  259 	lda	[__DPTR],y
   0176 9D 06 01      [ 5]  260 	sta	0x106,x
   0179 C8            [ 2]  261 	iny
   017A B1*00         [ 6]  262 	lda	[__DPTR],y
   017C 9D 07 01      [ 5]  263 	sta	0x107,x
   017F C8            [ 2]  264 	iny
   0180 B1*00         [ 6]  265 	lda	[__DPTR],y
   0182 9D 08 01      [ 5]  266 	sta	0x108, x
   0185 85*00         [ 3]  267 	sta	*___SDCC_m6502_ret3
   0187 BD 07 01      [ 5]  268 	lda	0x107,x
   018A 85*00         [ 3]  269 	sta	*___SDCC_m6502_ret2
   018C BD 06 01      [ 5]  270 	lda	0x106,x
   018F AA            [ 2]  271 	tax
   0190 86*00         [ 3]  272 	stx	*(__TEMP+0)
   0192 BA            [ 2]  273 	tsx
   0193 BD 05 01      [ 5]  274 	lda	0x105,x
   0196 08            [ 3]  275 	php
   0197 A6*00         [ 3]  276 	ldx	*(__TEMP+0)
   0199 28            [ 4]  277 	plp
   019A                     278 00113$:
                            279 ;	../_ulong2fs.c: 119: }
   019A 85*00         [ 3]  280 	sta	*(__TEMP+0)
   019C 86*01         [ 3]  281 	stx	*(__TEMP+1)
   019E BA            [ 2]  282 	tsx
   019F 8A            [ 2]  283 	txa
   01A0 18            [ 2]  284 	clc
   01A1 69 0A         [ 2]  285 	adc	#0x0a
   01A3 AA            [ 2]  286 	tax
   01A4 9A            [ 2]  287 	txs
   01A5 A6*01         [ 3]  288 	ldx	*(__TEMP+1)
   01A7 A5*00         [ 3]  289 	lda	*(__TEMP+0)
   01A9 60            [ 6]  290 	rts
                            291 	.area CODE
                            292 	.area RODATA
                            293 	.area XINIT
                            294 	.area CABS    (ABS)
