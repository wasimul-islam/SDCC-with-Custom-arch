                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.cs08
                              6 	.module _memset
                              7 	.optsdcc -ms08
                              8 	
                              9 	.area HOME    (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT  (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG    (CODE)
                             14 	.area XINIT   (CODE)
                             15 	.area CONST   (CODE)
                             16 	.area DSEG    (PAG)
                             17 	.area OSEG    (PAG, OVR)
                             18 	.area XSEG
                             19 	.area XISEG
                             20 ;--------------------------------------------------------
                             21 ; Public variables in this module
                             22 ;--------------------------------------------------------
                             23 	.globl _memset_PARM_3
                             24 	.globl _memset_PARM_2
                             25 	.globl _memset
                             26 ;--------------------------------------------------------
                             27 ; ram data
                             28 ;--------------------------------------------------------
                             29 	.area DSEG    (PAG)
                             30 ;--------------------------------------------------------
                             31 ; overlayable items in ram
                             32 ;--------------------------------------------------------
                             33 	.area	OSEG    (PAG, OVR)
   0000                      34 _memset_sz_65536_62:
   0000                      35 	.ds 2
   0002                      36 _memset_sloc0_1_0:
   0002                      37 	.ds 2
                             38 ;--------------------------------------------------------
                             39 ; absolute ram data
                             40 ;--------------------------------------------------------
                             41 	.area IABS    (ABS)
                             42 	.area IABS    (ABS)
                             43 ;--------------------------------------------------------
                             44 ; absolute external ram data
                             45 ;--------------------------------------------------------
                             46 	.area XABS    (ABS)
                             47 ;--------------------------------------------------------
                             48 ; initialized external ram data
                             49 ;--------------------------------------------------------
                             50 	.area XISEG
                             51 ;--------------------------------------------------------
                             52 ; extended address mode data
                             53 ;--------------------------------------------------------
                             54 	.area XSEG
   0000                      55 _memset_PARM_2:
   0000                      56 	.ds 2
   0002                      57 _memset_PARM_3:
   0002                      58 	.ds 2
   0004                      59 _memset_s_65536_61:
   0004                      60 	.ds 2
                             61 ;--------------------------------------------------------
                             62 ; global & static initialisations
                             63 ;--------------------------------------------------------
                             64 	.area HOME    (CODE)
                             65 	.area GSINIT  (CODE)
                             66 	.area GSFINAL (CODE)
                             67 	.area GSINIT  (CODE)
                             68 ;--------------------------------------------------------
                             69 ; Home
                             70 ;--------------------------------------------------------
                             71 	.area HOME    (CODE)
                             72 	.area HOME    (CODE)
                             73 ;--------------------------------------------------------
                             74 ; code
                             75 ;--------------------------------------------------------
                             76 	.area CSEG    (CODE)
                             77 ;------------------------------------------------------------
                             78 ;Allocation info for local variables in function 'memset'
                             79 ;------------------------------------------------------------
                             80 ;c                         Allocated with name '_memset_PARM_2'
                             81 ;n                         Allocated with name '_memset_PARM_3'
                             82 ;s                         Allocated with name '_memset_s_65536_61'
                             83 ;dst                       Allocated to registers 
                             84 ;sz                        Allocated with name '_memset_sz_65536_62'
                             85 ;data                      Allocated to registers a 
                             86 ;sloc0                     Allocated with name '_memset_sloc0_1_0'
                             87 ;------------------------------------------------------------
                             88 ;../_memset.c:44: void *memset (void *s, int c, size_t n)
                             89 ;	-----------------------------------------
                             90 ;	 function memset
                             91 ;	-----------------------------------------
                             92 ;	Register assignment is optimal.
                             93 ;	Stack space usage: 0 bytes.
   0000                      94 _memset:
   0000 C7r00r05      [ 4]   95 	sta	(_memset_s_65536_61 + 1)
   0003 CFr00r04      [ 4]   96 	stx	_memset_s_65536_61
                             97 ;../_memset.c:189: register size_t sz = n;
   0006 32r00r02      [ 5]   98 	ldhx	_memset_PARM_3
   0009 35*00         [ 4]   99 	sthx	*_memset_sz_65536_62
                            100 ;../_memset.c:190: if (sz != 0)
   000B C6r00r02      [ 4]  101 	lda	_memset_PARM_3
   000E CAr00r03      [ 4]  102 	ora	(_memset_PARM_3 + 1)
   0011 27 21         [ 3]  103 	beq	00105$
                            104 ;../_memset.c:192: register char *dst = s;
   0013 32r00r04      [ 5]  105 	ldhx	_memset_s_65536_61
                            106 ;../_memset.c:193: register char data = (char)c;
   0016 C6r00r01      [ 4]  107 	lda	(_memset_PARM_2 + 1)
                            108 ;../_memset.c:194: do {
   0019 4E*00*02      [ 6]  109 	mov	*_memset_sz_65536_62,*_memset_sloc0_1_0
   001C 4E*01*03      [ 6]  110 	mov	*(_memset_sz_65536_62 + 1),*(_memset_sloc0_1_0 + 1)
   001F                     111 00101$:
                            112 ;../_memset.c:195: *dst++ = data;
   001F F7            [ 2]  113 	sta	,x
   0020 AF 01         [ 2]  114 	aix	#1
                            115 ;../_memset.c:196: } while (--sz);
   0022 89            [ 2]  116 	pshx
   0023 8B            [ 2]  117 	pshh
   0024 55*02         [ 4]  118 	ldhx	*_memset_sloc0_1_0
   0026 AF FF         [ 2]  119 	aix	#-1
   0028 35*02         [ 4]  120 	sthx	*_memset_sloc0_1_0
   002A 8A            [ 3]  121 	pulh
   002B 88            [ 3]  122 	pulx
   002C 3D*03         [ 4]  123 	tst	*(_memset_sloc0_1_0 + 1)
   002E 26 02         [ 3]  124 	bne	00120$
   0030 3D*02         [ 4]  125 	tst	*_memset_sloc0_1_0
   0032                     126 00120$:
   0032 26 EB         [ 3]  127 	bne	00101$
   0034                     128 00105$:
                            129 ;../_memset.c:198: return s;
   0034 CEr00r04      [ 4]  130 	ldx	_memset_s_65536_61
   0037 C6r00r05      [ 4]  131 	lda	(_memset_s_65536_61 + 1)
                            132 ;../_memset.c:199: }
   003A 81            [ 6]  133 	rts
                            134 	.area CSEG    (CODE)
                            135 	.area CONST   (CODE)
                            136 	.area XINIT   (CODE)
                            137 	.area CABS    (ABS,CODE)
