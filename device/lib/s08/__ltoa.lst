                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.cs08
                              6 	.module __ltoa
                              7 	.optsdcc -ms08
                              8 	
                              9 	.area HOME    (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT  (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG    (CODE)
                             14 	.area XINIT   (CODE)
                             15 	.area CONST   (CODE)
                             16 	.area DSEG    (PAG)
                             17 	.area OSEG    (PAG, OVR)
                             18 	.area XSEG
                             19 	.area XISEG
                             20 ;--------------------------------------------------------
                             21 ; Public variables in this module
                             22 ;--------------------------------------------------------
                             23 	.globl ___ltoa_PARM_3
                             24 	.globl ___ltoa_PARM_2
                             25 	.globl ___ltoa_PARM_1
                             26 	.globl ___ultoa_PARM_3
                             27 	.globl ___ultoa_PARM_2
                             28 	.globl ___ultoa_PARM_1
                             29 	.globl ___ultoa
                             30 	.globl ___ltoa
                             31 ;--------------------------------------------------------
                             32 ; ram data
                             33 ;--------------------------------------------------------
                             34 	.area DSEG    (PAG)
   0000                      35 ___ultoa_sloc0_1_0:
   0000                      36 	.ds 1
   0001                      37 ___ultoa_sloc1_1_0:
   0001                      38 	.ds 4
   0005                      39 ___ultoa_sloc2_1_0:
   0005                      40 	.ds 4
                             41 ;--------------------------------------------------------
                             42 ; overlayable items in ram
                             43 ;--------------------------------------------------------
                             44 ;--------------------------------------------------------
                             45 ; absolute ram data
                             46 ;--------------------------------------------------------
                             47 	.area IABS    (ABS)
                             48 	.area IABS    (ABS)
                             49 ;--------------------------------------------------------
                             50 ; absolute external ram data
                             51 ;--------------------------------------------------------
                             52 	.area XABS    (ABS)
                             53 ;--------------------------------------------------------
                             54 ; initialized external ram data
                             55 ;--------------------------------------------------------
                             56 	.area XISEG
                             57 ;--------------------------------------------------------
                             58 ; extended address mode data
                             59 ;--------------------------------------------------------
                             60 	.area XSEG
   0000                      61 ___ultoa_PARM_1:
   0000                      62 	.ds 4
   0004                      63 ___ultoa_PARM_2:
   0004                      64 	.ds 2
   0006                      65 ___ultoa_PARM_3:
   0006                      66 	.ds 1
   0007                      67 ___ultoa_buffer_65536_37:
   0007                      68 	.ds 32
   0027                      69 ___ltoa_PARM_1:
   0027                      70 	.ds 4
   002B                      71 ___ltoa_PARM_2:
   002B                      72 	.ds 2
   002D                      73 ___ltoa_PARM_3:
   002D                      74 	.ds 1
                             75 ;--------------------------------------------------------
                             76 ; global & static initialisations
                             77 ;--------------------------------------------------------
                             78 	.area HOME    (CODE)
                             79 	.area GSINIT  (CODE)
                             80 	.area GSFINAL (CODE)
                             81 	.area GSINIT  (CODE)
                             82 ;--------------------------------------------------------
                             83 ; Home
                             84 ;--------------------------------------------------------
                             85 	.area HOME    (CODE)
                             86 	.area HOME    (CODE)
                             87 ;--------------------------------------------------------
                             88 ; code
                             89 ;--------------------------------------------------------
                             90 	.area CSEG    (CODE)
                             91 ;------------------------------------------------------------
                             92 ;Allocation info for local variables in function '__ultoa'
                             93 ;------------------------------------------------------------
                             94 ;sloc0                     Allocated with name '___ultoa_sloc0_1_0'
                             95 ;sloc1                     Allocated with name '___ultoa_sloc1_1_0'
                             96 ;sloc2                     Allocated with name '___ultoa_sloc2_1_0'
                             97 ;value                     Allocated with name '___ultoa_PARM_1'
                             98 ;string                    Allocated with name '___ultoa_PARM_2'
                             99 ;radix                     Allocated with name '___ultoa_PARM_3'
                            100 ;buffer                    Allocated with name '___ultoa_buffer_65536_37'
                            101 ;index                     Allocated to registers 
                            102 ;c                         Allocated to registers a 
                            103 ;------------------------------------------------------------
                            104 ;../__ltoa.c:58: void __ultoa(unsigned long value, char* string, unsigned char radix)
                            105 ;	-----------------------------------------
                            106 ;	 function __ultoa
                            107 ;	-----------------------------------------
                            108 ;	Register assignment is optimal.
                            109 ;	Stack space usage: 0 bytes.
   0000                     110 ___ultoa:
                            111 ;../__ltoa.c:63: do {
   0000 6E 20*00      [ 4]  112 	mov	#0x20,*___ultoa_sloc0_1_0
   0003                     113 00103$:
                            114 ;../__ltoa.c:64: unsigned char c = '0' + (value % radix);
   0003 C6r00r06      [ 4]  115 	lda	___ultoa_PARM_3
   0006 B7*04         [ 3]  116 	sta	*(___ultoa_sloc1_1_0 + 3)
   0008 6E 00*03      [ 4]  117 	mov	#0x00,*(___ultoa_sloc1_1_0 + 2)
   000B 6E 00*02      [ 4]  118 	mov	#0x00,*(___ultoa_sloc1_1_0 + 1)
   000E 6E 00*01      [ 4]  119 	mov	#0x00,*___ultoa_sloc1_1_0
   0011 32r00r00      [ 5]  120 	ldhx	___ultoa_PARM_1
   0014 96r00r00      [ 5]  121 	sthx	__modulong_PARM_1
   0017 32r00r02      [ 5]  122 	ldhx	(___ultoa_PARM_1 + 2)
   001A 96r00r02      [ 5]  123 	sthx	(__modulong_PARM_1 + 2)
   001D B6*01         [ 3]  124 	lda	*___ultoa_sloc1_1_0
   001F C7r00r00      [ 4]  125 	sta	__modulong_PARM_2
   0022 B6*02         [ 3]  126 	lda	*(___ultoa_sloc1_1_0 + 1)
   0024 C7r00r01      [ 4]  127 	sta	(__modulong_PARM_2 + 1)
   0027 B6*03         [ 3]  128 	lda	*(___ultoa_sloc1_1_0 + 2)
   0029 C7r00r02      [ 4]  129 	sta	(__modulong_PARM_2 + 2)
   002C B6*04         [ 3]  130 	lda	*(___ultoa_sloc1_1_0 + 3)
   002E C7r00r03      [ 4]  131 	sta	(__modulong_PARM_2 + 3)
   0031 CDr00r00      [ 6]  132 	jsr	__modulong
   0034 B7*08         [ 3]  133 	sta	*(___ultoa_sloc2_1_0 + 3)
   0036 BF*07         [ 3]  134 	stx	*(___ultoa_sloc2_1_0 + 2)
   0038 4E*00*06      [ 6]  135 	mov	*___SDCC_hc08_ret2,*(___ultoa_sloc2_1_0 + 1)
   003B 4E*00*05      [ 6]  136 	mov	*___SDCC_hc08_ret3,*___ultoa_sloc2_1_0
   003E B6*08         [ 3]  137 	lda	*(___ultoa_sloc2_1_0 + 3)
   0040 AB 30         [ 2]  138 	add	#0x30
                            139 ;../__ltoa.c:65: if (c > (unsigned char)'9')
   0042 A1 39         [ 2]  140 	cmp	#0x39
   0044 23 02         [ 3]  141 	bls	00102$
                            142 ;../__ltoa.c:66: c += 'A' - '9' - 1;
   0046 AB 07         [ 2]  143 	add	#0x07
   0048                     144 00102$:
                            145 ;../__ltoa.c:67: buffer[--index] = c;
   0048 3A*00         [ 5]  146 	dec	*___ultoa_sloc0_1_0
   004A BE*00         [ 3]  147 	ldx	*___ultoa_sloc0_1_0
   004C 8C            [ 1]  148 	clrh
   004D D7r00r07      [ 4]  149 	sta	(___ultoa_buffer_65536_37),x
                            150 ;../__ltoa.c:68: value /= radix;
   0050 32r00r00      [ 5]  151 	ldhx	___ultoa_PARM_1
   0053 96r00r00      [ 5]  152 	sthx	__divulong_PARM_1
   0056 32r00r02      [ 5]  153 	ldhx	(___ultoa_PARM_1 + 2)
   0059 96r00r02      [ 5]  154 	sthx	(__divulong_PARM_1 + 2)
   005C B6*01         [ 3]  155 	lda	*___ultoa_sloc1_1_0
   005E C7r00r00      [ 4]  156 	sta	__divulong_PARM_2
   0061 B6*02         [ 3]  157 	lda	*(___ultoa_sloc1_1_0 + 1)
   0063 C7r00r01      [ 4]  158 	sta	(__divulong_PARM_2 + 1)
   0066 B6*03         [ 3]  159 	lda	*(___ultoa_sloc1_1_0 + 2)
   0068 C7r00r02      [ 4]  160 	sta	(__divulong_PARM_2 + 2)
   006B B6*04         [ 3]  161 	lda	*(___ultoa_sloc1_1_0 + 3)
   006D C7r00r03      [ 4]  162 	sta	(__divulong_PARM_2 + 3)
   0070 CDr00r00      [ 6]  163 	jsr	__divulong
   0073 C7r00r03      [ 4]  164 	sta	(___ultoa_PARM_1 + 3)
   0076 CFr00r02      [ 4]  165 	stx	(___ultoa_PARM_1 + 2)
   0079 B6*00         [ 3]  166 	lda	*___SDCC_hc08_ret2
   007B C7r00r01      [ 4]  167 	sta	(___ultoa_PARM_1 + 1)
   007E B6*00         [ 3]  168 	lda	*___SDCC_hc08_ret3
   0080 C7r00r00      [ 4]  169 	sta	___ultoa_PARM_1
                            170 ;../__ltoa.c:69: } while (value);
   0083 C6r00r00      [ 4]  171 	lda	___ultoa_PARM_1
   0086 CAr00r01      [ 4]  172 	ora	(___ultoa_PARM_1 + 1)
   0089 CAr00r02      [ 4]  173 	ora	(___ultoa_PARM_1 + 2)
   008C CAr00r03      [ 4]  174 	ora	(___ultoa_PARM_1 + 3)
   008F 27 03         [ 3]  175 	beq	00138$
   0091 CCr00r03      [ 4]  176 	jmp	00103$
   0094                     177 00138$:
                            178 ;../__ltoa.c:71: do {
   0094 32r00r04      [ 5]  179 	ldhx	___ultoa_PARM_2
   0097 35*05         [ 4]  180 	sthx	*___ultoa_sloc2_1_0
   0099 B6*00         [ 3]  181 	lda	*___ultoa_sloc0_1_0
   009B                     182 00106$:
                            183 ;../__ltoa.c:72: *string++ = buffer[index];
   009B 97            [ 1]  184 	tax
   009C 8C            [ 1]  185 	clrh
   009D DEr00r07      [ 4]  186 	ldx	(___ultoa_buffer_65536_37),x
   00A0 87            [ 2]  187 	psha
   00A1 9F            [ 1]  188 	txa
   00A2 55*05         [ 4]  189 	ldhx	*___ultoa_sloc2_1_0
   00A4 F7            [ 2]  190 	sta	,x
   00A5 AF 01         [ 2]  191 	aix	#1
   00A7 35*05         [ 4]  192 	sthx	*___ultoa_sloc2_1_0
   00A9 86            [ 3]  193 	pula
                            194 ;../__ltoa.c:73: } while ( ++index != NUMBER_OF_DIGITS );
   00AA 4C            [ 1]  195 	inca
   00AB A1 20         [ 2]  196 	cmp	#0x20
   00AD 26 EC         [ 3]  197 	bne	00106$
                            198 ;../__ltoa.c:75: *string = 0;  /* string terminator */
   00AF 55*05         [ 4]  199 	ldhx	*___ultoa_sloc2_1_0
   00B1 4F            [ 1]  200 	clra
   00B2 F7            [ 2]  201 	sta	,x
                            202 ;../__ltoa.c:76: }
   00B3 81            [ 6]  203 	rts
                            204 ;------------------------------------------------------------
                            205 ;Allocation info for local variables in function '__ltoa'
                            206 ;------------------------------------------------------------
                            207 ;value                     Allocated with name '___ltoa_PARM_1'
                            208 ;string                    Allocated with name '___ltoa_PARM_2'
                            209 ;radix                     Allocated with name '___ltoa_PARM_3'
                            210 ;------------------------------------------------------------
                            211 ;../__ltoa.c:78: void __ltoa(long value, char* string, unsigned char radix)
                            212 ;	-----------------------------------------
                            213 ;	 function __ltoa
                            214 ;	-----------------------------------------
                            215 ;	Register assignment is optimal.
                            216 ;	Stack space usage: 0 bytes.
   00B4                     217 ___ltoa:
                            218 ;../__ltoa.c:80: if (value < 0 && radix == 10) {
   00B4 C6r00r27      [ 4]  219 	lda	___ltoa_PARM_1
   00B7 A0 00         [ 2]  220 	sub	#0x00
   00B9 90 32         [ 3]  221 	bge	00102$
   00BB C6r00r2D      [ 4]  222 	lda	___ltoa_PARM_3
   00BE A1 0A         [ 2]  223 	cmp	#0x0a
   00C0 26 2B         [ 3]  224 	bne	00102$
                            225 ;../__ltoa.c:81: *string++ = '-';
   00C2 32r00r2B      [ 5]  226 	ldhx	___ltoa_PARM_2
   00C5 89            [ 2]  227 	pshx
   00C6 8B            [ 2]  228 	pshh
   00C7 A6 2D         [ 2]  229 	lda	#0x2d
   00C9 F7            [ 2]  230 	sta	,x
   00CA 8A            [ 3]  231 	pulh
   00CB 88            [ 3]  232 	pulx
   00CC AF 01         [ 2]  233 	aix	#1
   00CE 96r00r2B      [ 5]  234 	sthx	___ltoa_PARM_2
                            235 ;../__ltoa.c:82: value = -value;
   00D1 4F            [ 1]  236 	clra
   00D2 C0r00r2A      [ 4]  237 	sub	(___ltoa_PARM_1 + 3)
   00D5 C7r00r2A      [ 4]  238 	sta	(___ltoa_PARM_1 + 3)
   00D8 4F            [ 1]  239 	clra
   00D9 C2r00r29      [ 4]  240 	sbc	(___ltoa_PARM_1 + 2)
   00DC C7r00r29      [ 4]  241 	sta	(___ltoa_PARM_1 + 2)
   00DF 4F            [ 1]  242 	clra
   00E0 C2r00r28      [ 4]  243 	sbc	(___ltoa_PARM_1 + 1)
   00E3 C7r00r28      [ 4]  244 	sta	(___ltoa_PARM_1 + 1)
   00E6 4F            [ 1]  245 	clra
   00E7 C2r00r27      [ 4]  246 	sbc	___ltoa_PARM_1
   00EA C7r00r27      [ 4]  247 	sta	___ltoa_PARM_1
   00ED                     248 00102$:
                            249 ;../__ltoa.c:84: __ultoa(value, string, radix);
   00ED 32r00r27      [ 5]  250 	ldhx	___ltoa_PARM_1
   00F0 96r00r00      [ 5]  251 	sthx	___ultoa_PARM_1
   00F3 32r00r29      [ 5]  252 	ldhx	(___ltoa_PARM_1 + 2)
   00F6 96r00r02      [ 5]  253 	sthx	(___ultoa_PARM_1 + 2)
   00F9 32r00r2B      [ 5]  254 	ldhx	___ltoa_PARM_2
   00FC 96r00r04      [ 5]  255 	sthx	___ultoa_PARM_2
   00FF C6r00r2D      [ 4]  256 	lda	___ltoa_PARM_3
   0102 C7r00r06      [ 4]  257 	sta	___ultoa_PARM_3
                            258 ;../__ltoa.c:85: }
   0105 CCr00r00      [ 4]  259 	jmp	___ultoa
                            260 	.area CSEG    (CODE)
                            261 	.area CONST   (CODE)
                            262 	.area XINIT   (CODE)
                            263 	.area CABS    (ABS,CODE)
