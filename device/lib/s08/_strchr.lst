                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.cs08
                              6 	.module _strchr
                              7 	.optsdcc -ms08
                              8 	
                              9 	.area HOME    (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT  (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG    (CODE)
                             14 	.area XINIT   (CODE)
                             15 	.area CONST   (CODE)
                             16 	.area DSEG    (PAG)
                             17 	.area OSEG    (PAG, OVR)
                             18 	.area XSEG
                             19 	.area XISEG
                             20 ;--------------------------------------------------------
                             21 ; Public variables in this module
                             22 ;--------------------------------------------------------
                             23 	.globl _strchr_PARM_2
                             24 	.globl _strchr
                             25 ;--------------------------------------------------------
                             26 ; ram data
                             27 ;--------------------------------------------------------
                             28 	.area DSEG    (PAG)
                             29 ;--------------------------------------------------------
                             30 ; overlayable items in ram
                             31 ;--------------------------------------------------------
                             32 	.area	OSEG    (PAG, OVR)
   0000                      33 _strchr_sloc0_1_0:
   0000                      34 	.ds 1
                             35 ;--------------------------------------------------------
                             36 ; absolute ram data
                             37 ;--------------------------------------------------------
                             38 	.area IABS    (ABS)
                             39 	.area IABS    (ABS)
                             40 ;--------------------------------------------------------
                             41 ; absolute external ram data
                             42 ;--------------------------------------------------------
                             43 	.area XABS    (ABS)
                             44 ;--------------------------------------------------------
                             45 ; initialized external ram data
                             46 ;--------------------------------------------------------
                             47 	.area XISEG
                             48 ;--------------------------------------------------------
                             49 ; extended address mode data
                             50 ;--------------------------------------------------------
                             51 	.area XSEG
   0000                      52 _strchr_PARM_2:
   0000                      53 	.ds 2
                             54 ;--------------------------------------------------------
                             55 ; global & static initialisations
                             56 ;--------------------------------------------------------
                             57 	.area HOME    (CODE)
                             58 	.area GSINIT  (CODE)
                             59 	.area GSFINAL (CODE)
                             60 	.area GSINIT  (CODE)
                             61 ;--------------------------------------------------------
                             62 ; Home
                             63 ;--------------------------------------------------------
                             64 	.area HOME    (CODE)
                             65 	.area HOME    (CODE)
                             66 ;--------------------------------------------------------
                             67 ; code
                             68 ;--------------------------------------------------------
                             69 	.area CSEG    (CODE)
                             70 ;------------------------------------------------------------
                             71 ;Allocation info for local variables in function 'strchr'
                             72 ;------------------------------------------------------------
                             73 ;ch                        Allocated with name '_strchr_PARM_2'
                             74 ;string                    Allocated to registers 
                             75 ;sloc0                     Allocated with name '_strchr_sloc0_1_0'
                             76 ;------------------------------------------------------------
                             77 ;../_strchr.c:36: char * strchr ( const char * string, int ch )
                             78 ;	-----------------------------------------
                             79 ;	 function strchr
                             80 ;	-----------------------------------------
                             81 ;	Register assignment is optimal.
                             82 ;	Stack space usage: 0 bytes.
   0000                      83 _strchr:
   0000 89            [ 2]   84 	pshx
   0001 97            [ 1]   85 	tax
   0002 8A            [ 3]   86 	pulh
                             87 ;../_strchr.c:39: while (*string && *string != (char)ch)
   0003                      88 00102$:
   0003 F6            [ 3]   89 	lda	,x
   0004 B7*00         [ 3]   90 	sta	*_strchr_sloc0_1_0
   0006 C6r00r01      [ 4]   91 	lda	(_strchr_PARM_2 + 1)
   0009 31*00 03      [ 5]   92 	cbeq	*_strchr_sloc0_1_0,00131$
   000C 4F            [ 1]   93 	clra
   000D 20 02         [ 3]   94 	bra	00130$
   000F                      95 00131$:
   000F A6 01         [ 2]   96 	lda	#0x01
   0011                      97 00130$:
   0011 3D*00         [ 4]   98 	tst	*_strchr_sloc0_1_0
   0013 27 07         [ 3]   99 	beq	00104$
   0015 4D            [ 1]  100 	tsta
   0016 26 04         [ 3]  101 	bne	00104$
                            102 ;../_strchr.c:40: string++;
   0018 AF 01         [ 2]  103 	aix	#1
   001A 20 E7         [ 3]  104 	bra	00102$
   001C                     105 00104$:
                            106 ;../_strchr.c:42: if (*string == (char)ch)
   001C 4D            [ 1]  107 	tsta
   001D 27 05         [ 3]  108 	beq	00106$
                            109 ;../_strchr.c:43: return((char *)string);
   001F 89            [ 2]  110 	pshx
   0020 8B            [ 2]  111 	pshh
   0021 88            [ 3]  112 	pulx
   0022 86            [ 3]  113 	pula
   0023 81            [ 6]  114 	rts
   0024                     115 00106$:
                            116 ;../_strchr.c:44: return ( NULL );
   0024 4F            [ 1]  117 	clra
   0025 97            [ 1]  118 	tax
                            119 ;../_strchr.c:45: }
   0026 81            [ 6]  120 	rts
                            121 	.area CSEG    (CODE)
                            122 	.area CONST   (CODE)
                            123 	.area XINIT   (CODE)
                            124 	.area CABS    (ABS,CODE)
