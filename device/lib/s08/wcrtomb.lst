                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.cs08
                              6 	.module wcrtomb
                              7 	.optsdcc -ms08
                              8 	
                              9 	.area HOME    (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT  (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG    (CODE)
                             14 	.area XINIT   (CODE)
                             15 	.area CONST   (CODE)
                             16 	.area DSEG    (PAG)
                             17 	.area OSEG    (PAG, OVR)
                             18 	.area XSEG
                             19 	.area XISEG
                             20 ;--------------------------------------------------------
                             21 ; Public variables in this module
                             22 ;--------------------------------------------------------
                             23 	.globl _wctomb
                             24 	.globl _wcrtomb_PARM_3
                             25 	.globl _wcrtomb_PARM_2
                             26 	.globl _wcrtomb
                             27 ;--------------------------------------------------------
                             28 ; ram data
                             29 ;--------------------------------------------------------
                             30 	.area DSEG    (PAG)
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in ram
                             33 ;--------------------------------------------------------
                             34 ;--------------------------------------------------------
                             35 ; absolute ram data
                             36 ;--------------------------------------------------------
                             37 	.area IABS    (ABS)
                             38 	.area IABS    (ABS)
                             39 ;--------------------------------------------------------
                             40 ; absolute external ram data
                             41 ;--------------------------------------------------------
                             42 	.area XABS    (ABS)
                             43 ;--------------------------------------------------------
                             44 ; initialized external ram data
                             45 ;--------------------------------------------------------
                             46 	.area XISEG
                             47 ;--------------------------------------------------------
                             48 ; extended address mode data
                             49 ;--------------------------------------------------------
                             50 	.area XSEG
   0000                      51 _wcrtomb_PARM_2:
   0000                      52 	.ds 4
   0004                      53 _wcrtomb_PARM_3:
   0004                      54 	.ds 2
   0006                      55 _wcrtomb_s_65536_44:
   0006                      56 	.ds 2
   0008                      57 _wcrtomb_ret_65536_45:
   0008                      58 	.ds 2
                             59 ;--------------------------------------------------------
                             60 ; global & static initialisations
                             61 ;--------------------------------------------------------
                             62 	.area HOME    (CODE)
                             63 	.area GSINIT  (CODE)
                             64 	.area GSFINAL (CODE)
                             65 	.area GSINIT  (CODE)
                             66 ;--------------------------------------------------------
                             67 ; Home
                             68 ;--------------------------------------------------------
                             69 	.area HOME    (CODE)
                             70 	.area HOME    (CODE)
                             71 ;--------------------------------------------------------
                             72 ; code
                             73 ;--------------------------------------------------------
                             74 	.area CSEG    (CODE)
                             75 ;------------------------------------------------------------
                             76 ;Allocation info for local variables in function 'wcrtomb'
                             77 ;------------------------------------------------------------
                             78 ;wc                        Allocated with name '_wcrtomb_PARM_2'
                             79 ;ps                        Allocated with name '_wcrtomb_PARM_3'
                             80 ;s                         Allocated with name '_wcrtomb_s_65536_44'
                             81 ;ret                       Allocated with name '_wcrtomb_ret_65536_45'
                             82 ;------------------------------------------------------------
                             83 ;../wcrtomb.c:34: size_t wcrtomb(char *restrict s, wchar_t wc, mbstate_t *restrict ps)
                             84 ;	-----------------------------------------
                             85 ;	 function wcrtomb
                             86 ;	-----------------------------------------
                             87 ;	Register assignment is optimal.
                             88 ;	Stack space usage: 0 bytes.
   0000                      89 _wcrtomb:
   0000 C7r00r07      [ 4]   90 	sta	(_wcrtomb_s_65536_44 + 1)
   0003 CFr00r06      [ 4]   91 	stx	_wcrtomb_s_65536_44
                             92 ;../wcrtomb.c:40: ret = wctomb(s, wc);
   0006 32r00r00      [ 5]   93 	ldhx	_wcrtomb_PARM_2
   0009 96r00r00      [ 5]   94 	sthx	_wctomb_PARM_2
   000C 32r00r02      [ 5]   95 	ldhx	(_wcrtomb_PARM_2 + 2)
   000F 96r00r02      [ 5]   96 	sthx	(_wctomb_PARM_2 + 2)
   0012 C6r00r07      [ 4]   97 	lda	(_wcrtomb_s_65536_44 + 1)
   0015 CEr00r06      [ 4]   98 	ldx	_wcrtomb_s_65536_44
   0018 CDr00r00      [ 6]   99 	jsr	_wctomb
   001B C7r00r09      [ 4]  100 	sta	(_wcrtomb_ret_65536_45 + 1)
   001E CFr00r08      [ 4]  101 	stx	_wcrtomb_ret_65536_45
                            102 ;../wcrtomb.c:42: if(ret == (size_t)(-1))
   0021 C6r00r09      [ 4]  103 	lda	(_wcrtomb_ret_65536_45 + 1)
   0024 A1 FF         [ 2]  104 	cmp	#0xff
   0026 26 06         [ 3]  105 	bne	00110$
   0028 C6r00r08      [ 4]  106 	lda	_wcrtomb_ret_65536_45
   002B 41 FF 02      [ 4]  107 	cbeqa	#0xff,00111$
   002E                     108 00110$:
   002E 20 06         [ 3]  109 	bra	00102$
   0030                     110 00111$:
                            111 ;../wcrtomb.c:43: errno = EILSEQ;
   0030 45 00 54      [ 3]  112 	ldhx	#0x0054
   0033 96r00r00      [ 5]  113 	sthx	_errno
   0036                     114 00102$:
                            115 ;../wcrtomb.c:45: return(ret);
   0036 CEr00r08      [ 4]  116 	ldx	_wcrtomb_ret_65536_45
   0039 C6r00r09      [ 4]  117 	lda	(_wcrtomb_ret_65536_45 + 1)
                            118 ;../wcrtomb.c:46: }
   003C 81            [ 6]  119 	rts
                            120 	.area CSEG    (CODE)
                            121 	.area CONST   (CODE)
                            122 	.area XINIT   (CODE)
                            123 	.area CABS    (ABS,CODE)
