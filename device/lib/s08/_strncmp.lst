                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.cs08
                              6 	.module _strncmp
                              7 	.optsdcc -ms08
                              8 	
                              9 	.area HOME    (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT  (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG    (CODE)
                             14 	.area XINIT   (CODE)
                             15 	.area CONST   (CODE)
                             16 	.area DSEG    (PAG)
                             17 	.area OSEG    (PAG, OVR)
                             18 	.area XSEG
                             19 	.area XISEG
                             20 ;--------------------------------------------------------
                             21 ; Public variables in this module
                             22 ;--------------------------------------------------------
                             23 	.globl _strncmp_PARM_3
                             24 	.globl _strncmp_PARM_2
                             25 	.globl _strncmp
                             26 ;--------------------------------------------------------
                             27 ; ram data
                             28 ;--------------------------------------------------------
                             29 	.area DSEG    (PAG)
                             30 ;--------------------------------------------------------
                             31 ; overlayable items in ram
                             32 ;--------------------------------------------------------
                             33 	.area	OSEG    (PAG, OVR)
   0000                      34 _strncmp_sloc0_1_0:
   0000                      35 	.ds 2
   0002                      36 _strncmp_sloc1_1_0:
   0002                      37 	.ds 2
   0004                      38 _strncmp_sloc2_1_0:
   0004                      39 	.ds 2
   0006                      40 _strncmp_sloc3_1_0:
   0006                      41 	.ds 1
                             42 ;--------------------------------------------------------
                             43 ; absolute ram data
                             44 ;--------------------------------------------------------
                             45 	.area IABS    (ABS)
                             46 	.area IABS    (ABS)
                             47 ;--------------------------------------------------------
                             48 ; absolute external ram data
                             49 ;--------------------------------------------------------
                             50 	.area XABS    (ABS)
                             51 ;--------------------------------------------------------
                             52 ; initialized external ram data
                             53 ;--------------------------------------------------------
                             54 	.area XISEG
                             55 ;--------------------------------------------------------
                             56 ; extended address mode data
                             57 ;--------------------------------------------------------
                             58 	.area XSEG
   0000                      59 _strncmp_PARM_2:
   0000                      60 	.ds 2
   0002                      61 _strncmp_PARM_3:
   0002                      62 	.ds 2
                             63 ;--------------------------------------------------------
                             64 ; global & static initialisations
                             65 ;--------------------------------------------------------
                             66 	.area HOME    (CODE)
                             67 	.area GSINIT  (CODE)
                             68 	.area GSFINAL (CODE)
                             69 	.area GSINIT  (CODE)
                             70 ;--------------------------------------------------------
                             71 ; Home
                             72 ;--------------------------------------------------------
                             73 	.area HOME    (CODE)
                             74 	.area HOME    (CODE)
                             75 ;--------------------------------------------------------
                             76 ; code
                             77 ;--------------------------------------------------------
                             78 	.area CSEG    (CODE)
                             79 ;------------------------------------------------------------
                             80 ;Allocation info for local variables in function 'strncmp'
                             81 ;------------------------------------------------------------
                             82 ;last                      Allocated with name '_strncmp_PARM_2'
                             83 ;count                     Allocated with name '_strncmp_PARM_3'
                             84 ;first                     Allocated to registers x h 
                             85 ;sloc0                     Allocated with name '_strncmp_sloc0_1_0'
                             86 ;sloc1                     Allocated with name '_strncmp_sloc1_1_0'
                             87 ;sloc2                     Allocated with name '_strncmp_sloc2_1_0'
                             88 ;sloc3                     Allocated with name '_strncmp_sloc3_1_0'
                             89 ;------------------------------------------------------------
                             90 ;../_strncmp.c:31: int strncmp ( const char * first, const char * last, size_t count )
                             91 ;	-----------------------------------------
                             92 ;	 function strncmp
                             93 ;	-----------------------------------------
                             94 ;	Register assignment is optimal.
                             95 ;	Stack space usage: 0 bytes.
   0000                      96 _strncmp:
   0000 89            [ 2]   97 	pshx
   0001 97            [ 1]   98 	tax
   0002 8A            [ 3]   99 	pulh
                            100 ;../_strncmp.c:33: if (!count)
   0003 C6r00r02      [ 4]  101 	lda	_strncmp_PARM_3
   0006 CAr00r03      [ 4]  102 	ora	(_strncmp_PARM_3 + 1)
   0009 26 03         [ 3]  103 	bne	00114$
                            104 ;../_strncmp.c:34: return(0);
   000B 4F            [ 1]  105 	clra
   000C 97            [ 1]  106 	tax
   000D 81            [ 6]  107 	rts
                            108 ;../_strncmp.c:36: while (--count && *first && *first == *last) {
   000E                     109 00114$:
   000E 35*00         [ 4]  110 	sthx	*_strncmp_sloc0_1_0
   0010 32r00r00      [ 5]  111 	ldhx	_strncmp_PARM_2
   0013 35*02         [ 4]  112 	sthx	*_strncmp_sloc1_1_0
   0015 32r00r02      [ 5]  113 	ldhx	_strncmp_PARM_3
   0018 35*04         [ 4]  114 	sthx	*_strncmp_sloc2_1_0
   001A                     115 00105$:
   001A 55*04         [ 4]  116 	ldhx	*_strncmp_sloc2_1_0
   001C AF FF         [ 2]  117 	aix	#-1
   001E 35*04         [ 4]  118 	sthx	*_strncmp_sloc2_1_0
   0020 55*00         [ 4]  119 	ldhx	*_strncmp_sloc0_1_0
   0022 F6            [ 3]  120 	lda	,x
   0023 55*02         [ 4]  121 	ldhx	*_strncmp_sloc1_1_0
   0025 FE            [ 3]  122 	ldx	,x
   0026 BF*06         [ 3]  123 	stx	*_strncmp_sloc3_1_0
   0028 3D*05         [ 4]  124 	tst	*(_strncmp_sloc2_1_0 + 1)
   002A 26 02         [ 3]  125 	bne	00137$
   002C 3D*04         [ 4]  126 	tst	*_strncmp_sloc2_1_0
   002E                     127 00137$:
   002E 27 15         [ 3]  128 	beq	00107$
   0030 4D            [ 1]  129 	tsta
   0031 27 12         [ 3]  130 	beq	00107$
   0033 B1*06         [ 3]  131 	cmp	*_strncmp_sloc3_1_0
   0035 26 0E         [ 3]  132 	bne	00107$
                            133 ;../_strncmp.c:37: first++;
   0037 55*00         [ 4]  134 	ldhx	*_strncmp_sloc0_1_0
   0039 AF 01         [ 2]  135 	aix	#1
   003B 35*00         [ 4]  136 	sthx	*_strncmp_sloc0_1_0
                            137 ;../_strncmp.c:38: last++;
   003D 55*02         [ 4]  138 	ldhx	*_strncmp_sloc1_1_0
   003F AF 01         [ 2]  139 	aix	#1
   0041 35*02         [ 4]  140 	sthx	*_strncmp_sloc1_1_0
   0043 20 D5         [ 3]  141 	bra	00105$
   0045                     142 00107$:
                            143 ;../_strncmp.c:41: return( *first - *last );
   0045 5F            [ 1]  144 	clrx
   0046 4E*06*05      [ 6]  145 	mov	*_strncmp_sloc3_1_0,*(_strncmp_sloc2_1_0 + 1)
   0049 BF*04         [ 3]  146 	stx	*_strncmp_sloc2_1_0
   004B B0*05         [ 3]  147 	sub	*(_strncmp_sloc2_1_0 + 1)
   004D 87            [ 2]  148 	psha
   004E 9F            [ 1]  149 	txa
   004F B2*04         [ 3]  150 	sbc	*_strncmp_sloc2_1_0
   0051 97            [ 1]  151 	tax
   0052 86            [ 3]  152 	pula
                            153 ;../_strncmp.c:42: }
   0053 81            [ 6]  154 	rts
                            155 	.area CSEG    (CODE)
                            156 	.area CONST   (CODE)
                            157 	.area XINIT   (CODE)
                            158 	.area CABS    (ABS,CODE)
