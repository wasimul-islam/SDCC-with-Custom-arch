                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module _strncmp
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _strncmp_PARM_3
                                     12 	.globl _strncmp_PARM_2
                                     13 	.globl _strncmp
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable items in internal ram
                                     35 ;--------------------------------------------------------
                                     36 	.area	OSEG    (OVR,DATA)
      000000                         37 _strncmp_sloc0_1_0:
      000000                         38 	.ds 2
      000002                         39 _strncmp_sloc1_1_0:
      000002                         40 	.ds 1
                                     41 ;--------------------------------------------------------
                                     42 ; indirectly addressable internal ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area ISEG    (DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; absolute internal ram data
                                     47 ;--------------------------------------------------------
                                     48 	.area IABS    (ABS,DATA)
                                     49 	.area IABS    (ABS,DATA)
                                     50 ;--------------------------------------------------------
                                     51 ; bit data
                                     52 ;--------------------------------------------------------
                                     53 	.area BSEG    (BIT)
                                     54 ;--------------------------------------------------------
                                     55 ; paged external ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area PSEG    (PAG,XDATA)
      000000                         58 _strncmp_PARM_2:
      000000                         59 	.ds 3
      000003                         60 _strncmp_PARM_3:
      000003                         61 	.ds 2
                                     62 ;--------------------------------------------------------
                                     63 ; uninitialized external ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area XSEG    (XDATA)
                                     66 ;--------------------------------------------------------
                                     67 ; absolute external ram data
                                     68 ;--------------------------------------------------------
                                     69 	.area XABS    (ABS,XDATA)
                                     70 ;--------------------------------------------------------
                                     71 ; initialized external ram data
                                     72 ;--------------------------------------------------------
                                     73 	.area XISEG   (XDATA)
                                     74 	.area HOME    (CODE)
                                     75 	.area GSINIT0 (CODE)
                                     76 	.area GSINIT1 (CODE)
                                     77 	.area GSINIT2 (CODE)
                                     78 	.area GSINIT3 (CODE)
                                     79 	.area GSINIT4 (CODE)
                                     80 	.area GSINIT5 (CODE)
                                     81 	.area GSINIT  (CODE)
                                     82 	.area GSFINAL (CODE)
                                     83 	.area CSEG    (CODE)
                                     84 ;--------------------------------------------------------
                                     85 ; global & static initialisations
                                     86 ;--------------------------------------------------------
                                     87 	.area HOME    (CODE)
                                     88 	.area GSINIT  (CODE)
                                     89 	.area GSFINAL (CODE)
                                     90 	.area GSINIT  (CODE)
                                     91 ;--------------------------------------------------------
                                     92 ; Home
                                     93 ;--------------------------------------------------------
                                     94 	.area HOME    (CODE)
                                     95 	.area HOME    (CODE)
                                     96 ;--------------------------------------------------------
                                     97 ; code
                                     98 ;--------------------------------------------------------
                                     99 	.area CSEG    (CODE)
                                    100 ;------------------------------------------------------------
                                    101 ;Allocation info for local variables in function 'strncmp'
                                    102 ;------------------------------------------------------------
                                    103 ;sloc0                     Allocated with name '_strncmp_sloc0_1_0'
                                    104 ;sloc1                     Allocated with name '_strncmp_sloc1_1_0'
                                    105 ;------------------------------------------------------------
                                    106 ;	_strncmp.c:31: int strncmp ( const char * first, const char * last, size_t count )
                                    107 ;	-----------------------------------------
                                    108 ;	 function strncmp
                                    109 ;	-----------------------------------------
      000000                        110 _strncmp:
                           000007   111 	ar7 = 0x07
                           000006   112 	ar6 = 0x06
                           000005   113 	ar5 = 0x05
                           000004   114 	ar4 = 0x04
                           000003   115 	ar3 = 0x03
                           000002   116 	ar2 = 0x02
                           000001   117 	ar1 = 0x01
                           000000   118 	ar0 = 0x00
      000000 AD 82            [24]  119 	mov	r5,dpl
      000002 AE 83            [24]  120 	mov	r6,dph
      000004 AF F0            [24]  121 	mov	r7,b
                                    122 ;	_strncmp.c:33: if (!count)
      000006 78r03            [12]  123 	mov	r0,#_strncmp_PARM_3
      000008 E2               [24]  124 	movx	a,@r0
      000009 F5 F0            [12]  125 	mov	b,a
      00000B 08               [12]  126 	inc	r0
      00000C E2               [24]  127 	movx	a,@r0
      00000D 45 F0            [12]  128 	orl	a,b
      00000F 70 04            [24]  129 	jnz	00114$
                                    130 ;	_strncmp.c:34: return(0);
      000011 90 00 00         [24]  131 	mov	dptr,#0x0000
      000014 22               [24]  132 	ret
                                    133 ;	_strncmp.c:36: while (--count && *first && *first == *last) {
      000015                        134 00114$:
      000015 78r00            [12]  135 	mov	r0,#_strncmp_PARM_2
      000017 E2               [24]  136 	movx	a,@r0
      000018 FA               [12]  137 	mov	r2,a
      000019 08               [12]  138 	inc	r0
      00001A E2               [24]  139 	movx	a,@r0
      00001B FB               [12]  140 	mov	r3,a
      00001C 08               [12]  141 	inc	r0
      00001D E2               [24]  142 	movx	a,@r0
      00001E FC               [12]  143 	mov	r4,a
      00001F 78r03            [12]  144 	mov	r0,#_strncmp_PARM_3
      000021 E2               [24]  145 	movx	a,@r0
      000022 F5*00            [12]  146 	mov	_strncmp_sloc0_1_0,a
      000024 08               [12]  147 	inc	r0
      000025 E2               [24]  148 	movx	a,@r0
      000026 F5*01            [12]  149 	mov	(_strncmp_sloc0_1_0 + 1),a
      000028                        150 00105$:
      000028 15*00            [12]  151 	dec	_strncmp_sloc0_1_0
      00002A 74 FF            [12]  152 	mov	a,#0xff
      00002C B5*00 02         [24]  153 	cjne	a,_strncmp_sloc0_1_0,00132$
      00002F 15*01            [12]  154 	dec	(_strncmp_sloc0_1_0 + 1)
      000031                        155 00132$:
      000031 E5*00            [12]  156 	mov	a,_strncmp_sloc0_1_0
      000033 45*01            [12]  157 	orl	a,(_strncmp_sloc0_1_0 + 1)
      000035 60 3C            [24]  158 	jz	00107$
      000037 8D 82            [24]  159 	mov	dpl,r5
      000039 8E 83            [24]  160 	mov	dph,r6
      00003B 8F F0            [24]  161 	mov	b,r7
      00003D 12r00r00         [24]  162 	lcall	__gptrget
      000040 F5*02            [12]  163 	mov	_strncmp_sloc1_1_0,a
      000042 60 2F            [24]  164 	jz	00107$
      000044 C0 05            [24]  165 	push	ar5
      000046 C0 06            [24]  166 	push	ar6
      000048 C0 07            [24]  167 	push	ar7
      00004A 8A 82            [24]  168 	mov	dpl,r2
      00004C 8B 83            [24]  169 	mov	dph,r3
      00004E 8C F0            [24]  170 	mov	b,r4
      000050 12r00r00         [24]  171 	lcall	__gptrget
      000053 FF               [12]  172 	mov	r7,a
      000054 B5*02 02         [24]  173 	cjne	a,_strncmp_sloc1_1_0,00135$
      000057 80 08            [24]  174 	sjmp	00136$
      000059                        175 00135$:
      000059 D0 07            [24]  176 	pop	ar7
      00005B D0 06            [24]  177 	pop	ar6
      00005D D0 05            [24]  178 	pop	ar5
      00005F 80 12            [24]  179 	sjmp	00107$
      000061                        180 00136$:
      000061 D0 07            [24]  181 	pop	ar7
      000063 D0 06            [24]  182 	pop	ar6
      000065 D0 05            [24]  183 	pop	ar5
                                    184 ;	_strncmp.c:37: first++;
      000067 0D               [12]  185 	inc	r5
      000068 BD 00 01         [24]  186 	cjne	r5,#0x00,00137$
      00006B 0E               [12]  187 	inc	r6
      00006C                        188 00137$:
                                    189 ;	_strncmp.c:38: last++;
      00006C 0A               [12]  190 	inc	r2
      00006D BA 00 B8         [24]  191 	cjne	r2,#0x00,00105$
      000070 0B               [12]  192 	inc	r3
      000071 80 B5            [24]  193 	sjmp	00105$
      000073                        194 00107$:
                                    195 ;	_strncmp.c:41: return( *first - *last );
      000073 8D 82            [24]  196 	mov	dpl,r5
      000075 8E 83            [24]  197 	mov	dph,r6
      000077 8F F0            [24]  198 	mov	b,r7
      000079 12r00r00         [24]  199 	lcall	__gptrget
      00007C FD               [12]  200 	mov	r5,a
      00007D 7F 00            [12]  201 	mov	r7,#0x00
      00007F 8A 82            [24]  202 	mov	dpl,r2
      000081 8B 83            [24]  203 	mov	dph,r3
      000083 8C F0            [24]  204 	mov	b,r4
      000085 12r00r00         [24]  205 	lcall	__gptrget
      000088 FA               [12]  206 	mov	r2,a
      000089 7E 00            [12]  207 	mov	r6,#0x00
      00008B ED               [12]  208 	mov	a,r5
      00008C C3               [12]  209 	clr	c
      00008D 9A               [12]  210 	subb	a,r2
      00008E F5 82            [12]  211 	mov	dpl,a
      000090 EF               [12]  212 	mov	a,r7
      000091 9E               [12]  213 	subb	a,r6
      000092 F5 83            [12]  214 	mov	dph,a
                                    215 ;	_strncmp.c:42: }
      000094 22               [24]  216 	ret
                                    217 	.area CSEG    (CODE)
                                    218 	.area CONST   (CODE)
                                    219 	.area XINIT   (CODE)
                                    220 	.area CABS    (ABS,CODE)
