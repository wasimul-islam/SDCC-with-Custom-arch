                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module atoi
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _atoi
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
      000000                         31 _atoi_sloc1_1_0:
      000000                         32 	.ds 3
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable items in internal ram
                                     35 ;--------------------------------------------------------
                                     36 ;--------------------------------------------------------
                                     37 ; indirectly addressable internal ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area ISEG    (DATA)
                                     40 ;--------------------------------------------------------
                                     41 ; absolute internal ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area IABS    (ABS,DATA)
                                     44 	.area IABS    (ABS,DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; bit data
                                     47 ;--------------------------------------------------------
                                     48 	.area BSEG    (BIT)
      000000                         49 _atoi_sloc0_1_0:
      000000                         50 	.ds 1
                                     51 ;--------------------------------------------------------
                                     52 ; paged external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area PSEG    (PAG,XDATA)
      000000                         55 _atoi_nptr_65536_59:
      000000                         56 	.ds 3
      000003                         57 _atoi_neg_65536_60:
      000003                         58 	.ds 1
                                     59 ;--------------------------------------------------------
                                     60 ; uninitialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'atoi'
                                     99 ;------------------------------------------------------------
                                    100 ;sloc1                     Allocated with name '_atoi_sloc1_1_0'
                                    101 ;------------------------------------------------------------
                                    102 ;	atoi.c:34: int atoi(const char *nptr)
                                    103 ;	-----------------------------------------
                                    104 ;	 function atoi
                                    105 ;	-----------------------------------------
      000000                        106 _atoi:
                           000007   107 	ar7 = 0x07
                           000006   108 	ar6 = 0x06
                           000005   109 	ar5 = 0x05
                           000004   110 	ar4 = 0x04
                           000003   111 	ar3 = 0x03
                           000002   112 	ar2 = 0x02
                           000001   113 	ar1 = 0x01
                           000000   114 	ar0 = 0x00
      000000 AD 82            [24]  115 	mov	r5,dpl
      000002 AE 83            [24]  116 	mov	r6,dph
      000004 AF F0            [24]  117 	mov	r7,b
                                    118 ;	atoi.c:36: int ret = 0;
      000006 7B 00            [12]  119 	mov	r3,#0x00
      000008 7C 00            [12]  120 	mov	r4,#0x00
                                    121 ;	atoi.c:39: while (isblank (*nptr))
      00000A                        122 00101$:
      00000A 8D 82            [24]  123 	mov	dpl,r5
      00000C 8E 83            [24]  124 	mov	dph,r6
      00000E 8F F0            [24]  125 	mov	b,r7
      000010 12r00r00         [24]  126 	lcall	__gptrget
      000013 FA               [12]  127 	mov	r2,a
                                    128 ;	../../device/include/ctype.h:53: return ((unsigned char)c == ' ' || (unsigned char)c == '\t');
      000014 BA 20 02         [24]  129 	cjne	r2,#0x20,00161$
      000017 80 03            [24]  130 	sjmp	00115$
      000019                        131 00161$:
      000019 BA 09 07         [24]  132 	cjne	r2,#0x09,00131$
      00001C                        133 00115$:
                                    134 ;	atoi.c:40: nptr++;
      00001C 0D               [12]  135 	inc	r5
      00001D BD 00 EA         [24]  136 	cjne	r5,#0x00,00101$
      000020 0E               [12]  137 	inc	r6
      000021 80 E7            [24]  138 	sjmp	00101$
      000023                        139 00131$:
      000023 78r00            [12]  140 	mov	r0,#_atoi_nptr_65536_59
      000025 ED               [12]  141 	mov	a,r5
      000026 F2               [24]  142 	movx	@r0,a
      000027 EE               [12]  143 	mov	a,r6
      000028 08               [12]  144 	inc	r0
      000029 F2               [24]  145 	movx	@r0,a
      00002A EF               [12]  146 	mov	a,r7
      00002B 08               [12]  147 	inc	r0
      00002C F2               [24]  148 	movx	@r0,a
                                    149 ;	atoi.c:42: neg = (*nptr == '-');
      00002D 8D 82            [24]  150 	mov	dpl,r5
      00002F 8E 83            [24]  151 	mov	dph,r6
      000031 8F F0            [24]  152 	mov	b,r7
      000033 12r00r00         [24]  153 	lcall	__gptrget
      000036 FF               [12]  154 	mov	r7,a
      000037 78r03            [12]  155 	mov	r0,#_atoi_neg_65536_60
      000039 E4               [12]  156 	clr	a
      00003A BF 2D 01         [24]  157 	cjne	r7,#0x2d,00165$
      00003D 04               [12]  158 	inc	a
      00003E                        159 00165$:
      00003E F2               [24]  160 	movx	@r0,a
                                    161 ;	atoi.c:44: if (*nptr == '-' || *nptr == '+')
      00003F BF 2D 02         [24]  162 	cjne	r7,#0x2d,00167$
      000042 80 03            [24]  163 	sjmp	00104$
      000044                        164 00167$:
      000044 BF 2B 0B         [24]  165 	cjne	r7,#0x2b,00129$
      000047                        166 00104$:
                                    167 ;	atoi.c:45: nptr++;
      000047 78r00            [12]  168 	mov	r0,#_atoi_nptr_65536_59
      000049 E2               [24]  169 	movx	a,@r0
      00004A 24 01            [12]  170 	add	a,#0x01
      00004C F2               [24]  171 	movx	@r0,a
      00004D 08               [12]  172 	inc	r0
      00004E E2               [24]  173 	movx	a,@r0
      00004F 34 00            [12]  174 	addc	a,#0x00
      000051 F2               [24]  175 	movx	@r0,a
                                    176 ;	atoi.c:47: while (isdigit (*nptr))
      000052                        177 00129$:
      000052 78r00            [12]  178 	mov	r0,#_atoi_nptr_65536_59
      000054 E2               [24]  179 	movx	a,@r0
      000055 F5*00            [12]  180 	mov	_atoi_sloc1_1_0,a
      000057 08               [12]  181 	inc	r0
      000058 E2               [24]  182 	movx	a,@r0
      000059 F5*01            [12]  183 	mov	(_atoi_sloc1_1_0 + 1),a
      00005B 08               [12]  184 	inc	r0
      00005C E2               [24]  185 	movx	a,@r0
      00005D F5*02            [12]  186 	mov	(_atoi_sloc1_1_0 + 2),a
      00005F                        187 00107$:
      00005F 85*00 82         [24]  188 	mov	dpl,_atoi_sloc1_1_0
      000062 85*01 83         [24]  189 	mov	dph,(_atoi_sloc1_1_0 + 1)
      000065 85*02 F0         [24]  190 	mov	b,(_atoi_sloc1_1_0 + 2)
      000068 12r00r00         [24]  191 	lcall	__gptrget
      00006B FA               [12]  192 	mov	r2,a
                                    193 ;	../../device/include/ctype.h:62: return ((unsigned char)c >= '0' && (unsigned char)c <= '9');
      00006C BA 30 00         [24]  194 	cjne	r2,#0x30,00170$
      00006F                        195 00170$:
      00006F 92*00            [24]  196 	mov	_atoi_sloc0_1_0,c
      000071 40 3E            [24]  197 	jc	00109$
      000073 EA               [12]  198 	mov	a,r2
      000074 24 C6            [12]  199 	add	a,#0xff - 0x39
      000076 92*00            [24]  200 	mov	_atoi_sloc0_1_0,c
      000078 40 37            [24]  201 	jc	00109$
                                    202 ;	atoi.c:48: ret = ret * 10 + (*(nptr++) - '0');
      00007A 78r00            [12]  203 	mov	r0,#__mulint_PARM_2
      00007C EB               [12]  204 	mov	a,r3
      00007D F2               [24]  205 	movx	@r0,a
      00007E EC               [12]  206 	mov	a,r4
      00007F 08               [12]  207 	inc	r0
      000080 F2               [24]  208 	movx	@r0,a
      000081 90 00 0A         [24]  209 	mov	dptr,#0x000a
      000084 12r00r00         [24]  210 	lcall	__mulint
      000087 AA 82            [24]  211 	mov	r2,dpl
      000089 AF 83            [24]  212 	mov	r7,dph
      00008B 85*00 82         [24]  213 	mov	dpl,_atoi_sloc1_1_0
      00008E 85*01 83         [24]  214 	mov	dph,(_atoi_sloc1_1_0 + 1)
      000091 85*02 F0         [24]  215 	mov	b,(_atoi_sloc1_1_0 + 2)
      000094 12r00r00         [24]  216 	lcall	__gptrget
      000097 FE               [12]  217 	mov	r6,a
      000098 A3               [24]  218 	inc	dptr
      000099 85 82*00         [24]  219 	mov	_atoi_sloc1_1_0,dpl
      00009C 85 83*01         [24]  220 	mov	(_atoi_sloc1_1_0 + 1),dph
      00009F 7D 00            [12]  221 	mov	r5,#0x00
      0000A1 EE               [12]  222 	mov	a,r6
      0000A2 24 D0            [12]  223 	add	a,#0xd0
      0000A4 FE               [12]  224 	mov	r6,a
      0000A5 ED               [12]  225 	mov	a,r5
      0000A6 34 FF            [12]  226 	addc	a,#0xff
      0000A8 FD               [12]  227 	mov	r5,a
      0000A9 EE               [12]  228 	mov	a,r6
      0000AA 2A               [12]  229 	add	a,r2
      0000AB FB               [12]  230 	mov	r3,a
      0000AC ED               [12]  231 	mov	a,r5
      0000AD 3F               [12]  232 	addc	a,r7
      0000AE FC               [12]  233 	mov	r4,a
      0000AF 80 AE            [24]  234 	sjmp	00107$
      0000B1                        235 00109$:
                                    236 ;	atoi.c:50: return (neg ? -ret : ret); // Since -INT_MIN is INT_MIN in sdcc, the result value always turns out ok.
      0000B1 78r03            [12]  237 	mov	r0,#_atoi_neg_65536_60
      0000B3 E2               [24]  238 	movx	a,@r0
      0000B4 60 09            [24]  239 	jz	00120$
      0000B6 C3               [12]  240 	clr	c
      0000B7 E4               [12]  241 	clr	a
      0000B8 9B               [12]  242 	subb	a,r3
      0000B9 FE               [12]  243 	mov	r6,a
      0000BA E4               [12]  244 	clr	a
      0000BB 9C               [12]  245 	subb	a,r4
      0000BC FF               [12]  246 	mov	r7,a
      0000BD 80 04            [24]  247 	sjmp	00121$
      0000BF                        248 00120$:
      0000BF 8B 06            [24]  249 	mov	ar6,r3
      0000C1 8C 07            [24]  250 	mov	ar7,r4
      0000C3                        251 00121$:
      0000C3 8E 82            [24]  252 	mov	dpl,r6
      0000C5 8F 83            [24]  253 	mov	dph,r7
                                    254 ;	atoi.c:51: }
      0000C7 22               [24]  255 	ret
                                    256 	.area CSEG    (CODE)
                                    257 	.area CONST   (CODE)
                                    258 	.area XINIT   (CODE)
                                    259 	.area CABS    (ABS,CODE)
