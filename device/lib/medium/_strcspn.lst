                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module _strcspn
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _strchr
                                     12 	.globl _strcspn_PARM_2
                                     13 	.globl _strcspn
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
      000000                         33 _strcspn_count_65536_27:
      000000                         34 	.ds 2
      000002                         35 _strcspn_sloc0_1_0:
      000002                         36 	.ds 1
                                     37 ;--------------------------------------------------------
                                     38 ; overlayable items in internal ram
                                     39 ;--------------------------------------------------------
                                     40 ;--------------------------------------------------------
                                     41 ; indirectly addressable internal ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area ISEG    (DATA)
                                     44 ;--------------------------------------------------------
                                     45 ; absolute internal ram data
                                     46 ;--------------------------------------------------------
                                     47 	.area IABS    (ABS,DATA)
                                     48 	.area IABS    (ABS,DATA)
                                     49 ;--------------------------------------------------------
                                     50 ; bit data
                                     51 ;--------------------------------------------------------
                                     52 	.area BSEG    (BIT)
                                     53 ;--------------------------------------------------------
                                     54 ; paged external ram data
                                     55 ;--------------------------------------------------------
                                     56 	.area PSEG    (PAG,XDATA)
      000000                         57 _strcspn_PARM_2:
      000000                         58 	.ds 3
                                     59 ;--------------------------------------------------------
                                     60 ; uninitialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'strcspn'
                                     99 ;------------------------------------------------------------
                                    100 ;count                     Allocated with name '_strcspn_count_65536_27'
                                    101 ;ch                        Allocated with name '_strcspn_sloc0_1_0'
                                    102 ;sloc0                     Allocated with name '_strcspn_sloc0_1_0'
                                    103 ;------------------------------------------------------------
                                    104 ;	_strcspn.c:31: size_t strcspn ( const char * string, const char * control )
                                    105 ;	-----------------------------------------
                                    106 ;	 function strcspn
                                    107 ;	-----------------------------------------
      000000                        108 _strcspn:
                           000007   109 	ar7 = 0x07
                           000006   110 	ar6 = 0x06
                           000005   111 	ar5 = 0x05
                           000004   112 	ar4 = 0x04
                           000003   113 	ar3 = 0x03
                           000002   114 	ar2 = 0x02
                           000001   115 	ar1 = 0x01
                           000000   116 	ar0 = 0x00
      000000 AD 82            [24]  117 	mov	r5,dpl
      000002 AE 83            [24]  118 	mov	r6,dph
      000004 AF F0            [24]  119 	mov	r7,b
                                    120 ;	_strcspn.c:36: while (ch = *string) {
      000006 E4               [12]  121 	clr	a
      000007 F5*00            [12]  122 	mov	_strcspn_count_65536_27,a
      000009 F5*01            [12]  123 	mov	(_strcspn_count_65536_27 + 1),a
      00000B                        124 00104$:
      00000B 8D 82            [24]  125 	mov	dpl,r5
      00000D 8E 83            [24]  126 	mov	dph,r6
      00000F 8F F0            [24]  127 	mov	b,r7
      000011 12r00r00         [24]  128 	lcall	__gptrget
      000014 FA               [12]  129 	mov	r2,a
      000015 8A*02            [24]  130 	mov	_strcspn_sloc0_1_0,r2
      000017 60 38            [24]  131 	jz	00106$
                                    132 ;	_strcspn.c:37: if (strchr(control,ch))
      000019 78r00            [12]  133 	mov	r0,#_strchr_PARM_2
      00001B E5*02            [12]  134 	mov	a,_strcspn_sloc0_1_0
      00001D F2               [24]  135 	movx	@r0,a
      00001E 78r00            [12]  136 	mov	r0,#_strcspn_PARM_2
      000020 E2               [24]  137 	movx	a,@r0
      000021 F5 82            [12]  138 	mov	dpl,a
      000023 08               [12]  139 	inc	r0
      000024 E2               [24]  140 	movx	a,@r0
      000025 F5 83            [12]  141 	mov	dph,a
      000027 08               [12]  142 	inc	r0
      000028 E2               [24]  143 	movx	a,@r0
      000029 F5 F0            [12]  144 	mov	b,a
      00002B C0 07            [24]  145 	push	ar7
      00002D C0 06            [24]  146 	push	ar6
      00002F C0 05            [24]  147 	push	ar5
      000031 12r00r00         [24]  148 	lcall	_strchr
      000034 AA 82            [24]  149 	mov	r2,dpl
      000036 AB 83            [24]  150 	mov	r3,dph
      000038 D0 05            [24]  151 	pop	ar5
      00003A D0 06            [24]  152 	pop	ar6
      00003C D0 07            [24]  153 	pop	ar7
      00003E EA               [12]  154 	mov	a,r2
      00003F 4B               [12]  155 	orl	a,r3
      000040 70 0F            [24]  156 	jnz	00106$
                                    157 ;	_strcspn.c:40: count++;
      000042 05*00            [12]  158 	inc	_strcspn_count_65536_27
      000044 E4               [12]  159 	clr	a
      000045 B5*00 02         [24]  160 	cjne	a,_strcspn_count_65536_27,00124$
      000048 05*01            [12]  161 	inc	(_strcspn_count_65536_27 + 1)
      00004A                        162 00124$:
                                    163 ;	_strcspn.c:41: string++;
      00004A 0D               [12]  164 	inc	r5
      00004B BD 00 BD         [24]  165 	cjne	r5,#0x00,00104$
      00004E 0E               [12]  166 	inc	r6
      00004F 80 BA            [24]  167 	sjmp	00104$
      000051                        168 00106$:
                                    169 ;	_strcspn.c:44: return count;
      000051 85*00 82         [24]  170 	mov	dpl,_strcspn_count_65536_27
      000054 85*01 83         [24]  171 	mov	dph,(_strcspn_count_65536_27 + 1)
                                    172 ;	_strcspn.c:45: }  
      000057 22               [24]  173 	ret
                                    174 	.area CSEG    (CODE)
                                    175 	.area CONST   (CODE)
                                    176 	.area XINIT   (CODE)
                                    177 	.area CABS    (ABS,CODE)
