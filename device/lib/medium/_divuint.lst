                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module _divuint
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl __divuint_PARM_2
                                     12 	.globl __divuint
                                     13 ;--------------------------------------------------------
                                     14 ; special function registers
                                     15 ;--------------------------------------------------------
                                     16 	.area RSEG    (ABS,DATA)
      000000                         17 	.org 0x0000
                                     18 ;--------------------------------------------------------
                                     19 ; special function bits
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; overlayable register banks
                                     25 ;--------------------------------------------------------
                                     26 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         27 	.ds 8
                                     28 ;--------------------------------------------------------
                                     29 ; internal ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area DSEG    (DATA)
                                     32 ;--------------------------------------------------------
                                     33 ; overlayable items in internal ram
                                     34 ;--------------------------------------------------------
                                     35 ;--------------------------------------------------------
                                     36 ; indirectly addressable internal ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area ISEG    (DATA)
                                     39 ;--------------------------------------------------------
                                     40 ; absolute internal ram data
                                     41 ;--------------------------------------------------------
                                     42 	.area IABS    (ABS,DATA)
                                     43 	.area IABS    (ABS,DATA)
                                     44 ;--------------------------------------------------------
                                     45 ; bit data
                                     46 ;--------------------------------------------------------
                                     47 	.area BSEG    (BIT)
                                     48 ;--------------------------------------------------------
                                     49 ; paged external ram data
                                     50 ;--------------------------------------------------------
                                     51 	.area PSEG    (PAG,XDATA)
      000000                         52 __divuint_PARM_2:
      000000                         53 	.ds 2
                                     54 ;--------------------------------------------------------
                                     55 ; uninitialized external ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area XSEG    (XDATA)
                                     58 ;--------------------------------------------------------
                                     59 ; absolute external ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area XABS    (ABS,XDATA)
                                     62 ;--------------------------------------------------------
                                     63 ; initialized external ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area XISEG   (XDATA)
                                     66 	.area HOME    (CODE)
                                     67 	.area GSINIT0 (CODE)
                                     68 	.area GSINIT1 (CODE)
                                     69 	.area GSINIT2 (CODE)
                                     70 	.area GSINIT3 (CODE)
                                     71 	.area GSINIT4 (CODE)
                                     72 	.area GSINIT5 (CODE)
                                     73 	.area GSINIT  (CODE)
                                     74 	.area GSFINAL (CODE)
                                     75 	.area CSEG    (CODE)
                                     76 ;--------------------------------------------------------
                                     77 ; global & static initialisations
                                     78 ;--------------------------------------------------------
                                     79 	.area HOME    (CODE)
                                     80 	.area GSINIT  (CODE)
                                     81 	.area GSFINAL (CODE)
                                     82 	.area GSINIT  (CODE)
                                     83 ;--------------------------------------------------------
                                     84 ; Home
                                     85 ;--------------------------------------------------------
                                     86 	.area HOME    (CODE)
                                     87 	.area HOME    (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; code
                                     90 ;--------------------------------------------------------
                                     91 	.area CSEG    (CODE)
                                     92 ;------------------------------------------------------------
                                     93 ;Allocation info for local variables in function '_divuint'
                                     94 ;------------------------------------------------------------
                                     95 ;	_divuint.c:161: _divuint (unsigned int x, unsigned int y) __SDCC_NONBANKED
                                     96 ;	-----------------------------------------
                                     97 ;	 function _divuint
                                     98 ;	-----------------------------------------
      000000                         99 __divuint:
                           000007   100 	ar7 = 0x07
                           000006   101 	ar6 = 0x06
                           000005   102 	ar5 = 0x05
                           000004   103 	ar4 = 0x04
                           000003   104 	ar3 = 0x03
                           000002   105 	ar2 = 0x02
                           000001   106 	ar1 = 0x01
                           000000   107 	ar0 = 0x00
      000000 AE 82            [24]  108 	mov	r6,dpl
      000002 AF 83            [24]  109 	mov	r7,dph
                                    110 ;	_divuint.c:163: unsigned int reste = 0;
      000004 7C 00            [12]  111 	mov	r4,#0x00
      000006 7D 00            [12]  112 	mov	r5,#0x00
                                    113 ;	_divuint.c:167: do
      000008 7B 10            [12]  114 	mov	r3,#0x10
      00000A                        115 00105$:
                                    116 ;	_divuint.c:170: c = MSB_SET(x);
      00000A EF               [12]  117 	mov	a,r7
      00000B 23               [12]  118 	rl	a
      00000C 54 01            [12]  119 	anl	a,#0x01
      00000E FA               [12]  120 	mov	r2,a
                                    121 ;	_divuint.c:171: x <<= 1;
      00000F EE               [12]  122 	mov	a,r6
      000010 2E               [12]  123 	add	a,r6
      000011 FE               [12]  124 	mov	r6,a
      000012 EF               [12]  125 	mov	a,r7
      000013 33               [12]  126 	rlc	a
      000014 FF               [12]  127 	mov	r7,a
                                    128 ;	_divuint.c:172: reste <<= 1;
      000015 EC               [12]  129 	mov	a,r4
      000016 2C               [12]  130 	add	a,r4
      000017 FC               [12]  131 	mov	r4,a
      000018 ED               [12]  132 	mov	a,r5
      000019 33               [12]  133 	rlc	a
      00001A FD               [12]  134 	mov	r5,a
                                    135 ;	_divuint.c:173: if (c)
      00001B EA               [12]  136 	mov	a,r2
      00001C 60 03            [24]  137 	jz	00102$
                                    138 ;	_divuint.c:174: reste |= 1;
      00001E 43 04 01         [24]  139 	orl	ar4,#0x01
      000021                        140 00102$:
                                    141 ;	_divuint.c:176: if (reste >= y)
      000021 78r00            [12]  142 	mov	r0,#__divuint_PARM_2
      000023 C3               [12]  143 	clr	c
      000024 E2               [24]  144 	movx	a,@r0
      000025 F5 F0            [12]  145 	mov	b,a
      000027 EC               [12]  146 	mov	a,r4
      000028 95 F0            [12]  147 	subb	a,b
      00002A 08               [12]  148 	inc	r0
      00002B E2               [24]  149 	movx	a,@r0
      00002C F5 F0            [12]  150 	mov	b,a
      00002E ED               [12]  151 	mov	a,r5
      00002F 95 F0            [12]  152 	subb	a,b
      000031 40 11            [24]  153 	jc	00106$
                                    154 ;	_divuint.c:178: reste -= y;
      000033 78r00            [12]  155 	mov	r0,#__divuint_PARM_2
      000035 D3               [12]  156 	setb	c
      000036 E2               [24]  157 	movx	a,@r0
      000037 9C               [12]  158 	subb	a,r4
      000038 F4               [12]  159 	cpl	a
      000039 B3               [12]  160 	cpl	c
      00003A FC               [12]  161 	mov	r4,a
      00003B B3               [12]  162 	cpl	c
      00003C 08               [12]  163 	inc	r0
      00003D E2               [24]  164 	movx	a,@r0
      00003E 9D               [12]  165 	subb	a,r5
      00003F F4               [12]  166 	cpl	a
      000040 FD               [12]  167 	mov	r5,a
                                    168 ;	_divuint.c:180: x |= 1;
      000041 43 06 01         [24]  169 	orl	ar6,#0x01
      000044                        170 00106$:
                                    171 ;	_divuint.c:183: while (--count);
      000044 DB C4            [24]  172 	djnz	r3,00105$
                                    173 ;	_divuint.c:184: return x;
      000046 8E 82            [24]  174 	mov	dpl,r6
      000048 8F 83            [24]  175 	mov	dph,r7
                                    176 ;	_divuint.c:185: }
      00004A 22               [24]  177 	ret
                                    178 	.area CSEG    (CODE)
                                    179 	.area CONST   (CODE)
                                    180 	.area XINIT   (CODE)
                                    181 	.area CABS    (ABS,CODE)
