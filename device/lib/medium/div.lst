                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module div
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _div_PARM_2
                                     12 	.globl _div_PARM_1
                                     13 	.globl _div
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable items in internal ram
                                     35 ;--------------------------------------------------------
                                     36 ;--------------------------------------------------------
                                     37 ; indirectly addressable internal ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area ISEG    (DATA)
                                     40 ;--------------------------------------------------------
                                     41 ; absolute internal ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area IABS    (ABS,DATA)
                                     44 	.area IABS    (ABS,DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; bit data
                                     47 ;--------------------------------------------------------
                                     48 	.area BSEG    (BIT)
                                     49 ;--------------------------------------------------------
                                     50 ; paged external ram data
                                     51 ;--------------------------------------------------------
                                     52 	.area PSEG    (PAG,XDATA)
      000000                         53 _div_PARM_1:
      000000                         54 	.ds 2
      000002                         55 _div_PARM_2:
      000002                         56 	.ds 2
      000004                         57 _div_ret_65536_40:
      000004                         58 	.ds 4
                                     59 ;--------------------------------------------------------
                                     60 ; uninitialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'div'
                                     99 ;------------------------------------------------------------
                                    100 ;	div.c:32: div_t div(int numer, int denom)
                                    101 ;	-----------------------------------------
                                    102 ;	 function div
                                    103 ;	-----------------------------------------
      000000                        104 _div:
                           000007   105 	ar7 = 0x07
                           000006   106 	ar6 = 0x06
                           000005   107 	ar5 = 0x05
                           000004   108 	ar4 = 0x04
                           000003   109 	ar3 = 0x03
                           000002   110 	ar2 = 0x02
                           000001   111 	ar1 = 0x01
                           000000   112 	ar0 = 0x00
                                    113 ;	div.c:35: ret.quot = numer / denom;
      000000 78r02            [12]  114 	mov	r0,#_div_PARM_2
      000002 79r00            [12]  115 	mov	r1,#__divsint_PARM_2
      000004 E2               [24]  116 	movx	a,@r0
      000005 F3               [24]  117 	movx	@r1,a
      000006 08               [12]  118 	inc	r0
      000007 E2               [24]  119 	movx	a,@r0
      000008 09               [12]  120 	inc	r1
      000009 F3               [24]  121 	movx	@r1,a
      00000A 78r00            [12]  122 	mov	r0,#_div_PARM_1
      00000C E2               [24]  123 	movx	a,@r0
      00000D F5 82            [12]  124 	mov	dpl,a
      00000F 08               [12]  125 	inc	r0
      000010 E2               [24]  126 	movx	a,@r0
      000011 F5 83            [12]  127 	mov	dph,a
      000013 12r00r00         [24]  128 	lcall	__divsint
      000016 AE 82            [24]  129 	mov	r6,dpl
      000018 AF 83            [24]  130 	mov	r7,dph
      00001A 78r04            [12]  131 	mov	r0,#_div_ret_65536_40
      00001C EE               [12]  132 	mov	a,r6
      00001D F2               [24]  133 	movx	@r0,a
      00001E 08               [12]  134 	inc	r0
      00001F EF               [12]  135 	mov	a,r7
      000020 F2               [24]  136 	movx	@r0,a
                                    137 ;	div.c:36: ret.rem = numer % denom;
      000021 78r02            [12]  138 	mov	r0,#_div_PARM_2
      000023 79r00            [12]  139 	mov	r1,#__modsint_PARM_2
      000025 E2               [24]  140 	movx	a,@r0
      000026 F3               [24]  141 	movx	@r1,a
      000027 08               [12]  142 	inc	r0
      000028 E2               [24]  143 	movx	a,@r0
      000029 09               [12]  144 	inc	r1
      00002A F3               [24]  145 	movx	@r1,a
      00002B 78r00            [12]  146 	mov	r0,#_div_PARM_1
      00002D E2               [24]  147 	movx	a,@r0
      00002E F5 82            [12]  148 	mov	dpl,a
      000030 08               [12]  149 	inc	r0
      000031 E2               [24]  150 	movx	a,@r0
      000032 F5 83            [12]  151 	mov	dph,a
      000034 12r00r00         [24]  152 	lcall	__modsint
      000037 AE 82            [24]  153 	mov	r6,dpl
      000039 AF 83            [24]  154 	mov	r7,dph
      00003B 78r06            [12]  155 	mov	r0,#(_div_ret_65536_40 + 0x0002)
      00003D EE               [12]  156 	mov	a,r6
      00003E F2               [24]  157 	movx	@r0,a
      00003F 08               [12]  158 	inc	r0
      000040 EF               [12]  159 	mov	a,r7
      000041 F2               [24]  160 	movx	@r0,a
                                    161 ;	div.c:37: return(ret);
      000042 78r04            [12]  162 	mov	r0,#_div_ret_65536_40
      000044 E5 81            [12]  163 	mov	a,sp
      000046 24 FC            [12]  164 	add	a,#0xfc
      000048 F9               [12]  165 	mov	r1,a
      000049 87 82            [24]  166 	mov	dpl,@r1
      00004B 09               [12]  167 	inc	r1
      00004C 87 83            [24]  168 	mov	dph,@r1
      00004E 09               [12]  169 	inc	r1
      00004F 87 F0            [24]  170 	mov	b,@r1
      000051 E2               [24]  171 	movx	a,@r0
      000052 12r00r00         [24]  172 	lcall	__gptrput
      000055 A3               [24]  173 	inc	dptr
      000056 08               [12]  174 	inc	r0
      000057 E2               [24]  175 	movx	a,@r0
      000058 12r00r00         [24]  176 	lcall	__gptrput
      00005B A3               [24]  177 	inc	dptr
      00005C 08               [12]  178 	inc	r0
      00005D E2               [24]  179 	movx	a,@r0
      00005E 12r00r00         [24]  180 	lcall	__gptrput
      000061 A3               [24]  181 	inc	dptr
      000062 08               [12]  182 	inc	r0
      000063 E2               [24]  183 	movx	a,@r0
                                    184 ;	div.c:38: }
      000064 02r00r00         [24]  185 	ljmp	__gptrput
                                    186 	.area CSEG    (CODE)
                                    187 	.area CONST   (CODE)
                                    188 	.area XINIT   (CODE)
                                    189 	.area CABS    (ABS,CODE)
