                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module __itoa
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl ___itoa_PARM_3
                                     12 	.globl ___itoa_PARM_2
                                     13 	.globl ___uitoa_PARM_3
                                     14 	.globl ___uitoa_PARM_2
                                     15 	.globl ___uitoa
                                     16 	.globl ___itoa
                                     17 ;--------------------------------------------------------
                                     18 ; special function registers
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; special function bits
                                     24 ;--------------------------------------------------------
                                     25 	.area RSEG    (ABS,DATA)
      000000                         26 	.org 0x0000
                                     27 ;--------------------------------------------------------
                                     28 ; overlayable register banks
                                     29 ;--------------------------------------------------------
                                     30 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         31 	.ds 8
                                     32 ;--------------------------------------------------------
                                     33 ; internal ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area DSEG    (DATA)
      000000                         36 ___uitoa_sloc0_1_0:
      000000                         37 	.ds 2
      000002                         38 ___uitoa_sloc1_1_0:
      000002                         39 	.ds 3
                                     40 ;--------------------------------------------------------
                                     41 ; overlayable items in internal ram
                                     42 ;--------------------------------------------------------
                                     43 ;--------------------------------------------------------
                                     44 ; indirectly addressable internal ram data
                                     45 ;--------------------------------------------------------
                                     46 	.area ISEG    (DATA)
                                     47 ;--------------------------------------------------------
                                     48 ; absolute internal ram data
                                     49 ;--------------------------------------------------------
                                     50 	.area IABS    (ABS,DATA)
                                     51 	.area IABS    (ABS,DATA)
                                     52 ;--------------------------------------------------------
                                     53 ; bit data
                                     54 ;--------------------------------------------------------
                                     55 	.area BSEG    (BIT)
                                     56 ;--------------------------------------------------------
                                     57 ; paged external ram data
                                     58 ;--------------------------------------------------------
                                     59 	.area PSEG    (PAG,XDATA)
      000000                         60 ___uitoa_PARM_2:
      000000                         61 	.ds 3
      000003                         62 ___uitoa_PARM_3:
      000003                         63 	.ds 1
      000004                         64 ___uitoa_value_65536_39:
      000004                         65 	.ds 2
      000006                         66 ___uitoa_i_65536_40:
      000006                         67 	.ds 1
      000007                         68 ___itoa_PARM_2:
      000007                         69 	.ds 3
      00000A                         70 ___itoa_PARM_3:
      00000A                         71 	.ds 1
                                     72 ;--------------------------------------------------------
                                     73 ; uninitialized external ram data
                                     74 ;--------------------------------------------------------
                                     75 	.area XSEG    (XDATA)
                                     76 ;--------------------------------------------------------
                                     77 ; absolute external ram data
                                     78 ;--------------------------------------------------------
                                     79 	.area XABS    (ABS,XDATA)
                                     80 ;--------------------------------------------------------
                                     81 ; initialized external ram data
                                     82 ;--------------------------------------------------------
                                     83 	.area XISEG   (XDATA)
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT0 (CODE)
                                     86 	.area GSINIT1 (CODE)
                                     87 	.area GSINIT2 (CODE)
                                     88 	.area GSINIT3 (CODE)
                                     89 	.area GSINIT4 (CODE)
                                     90 	.area GSINIT5 (CODE)
                                     91 	.area GSINIT  (CODE)
                                     92 	.area GSFINAL (CODE)
                                     93 	.area CSEG    (CODE)
                                     94 ;--------------------------------------------------------
                                     95 ; global & static initialisations
                                     96 ;--------------------------------------------------------
                                     97 	.area HOME    (CODE)
                                     98 	.area GSINIT  (CODE)
                                     99 	.area GSFINAL (CODE)
                                    100 	.area GSINIT  (CODE)
                                    101 ;--------------------------------------------------------
                                    102 ; Home
                                    103 ;--------------------------------------------------------
                                    104 	.area HOME    (CODE)
                                    105 	.area HOME    (CODE)
                                    106 ;--------------------------------------------------------
                                    107 ; code
                                    108 ;--------------------------------------------------------
                                    109 	.area CSEG    (CODE)
                                    110 ;------------------------------------------------------------
                                    111 ;Allocation info for local variables in function '__uitoa'
                                    112 ;------------------------------------------------------------
                                    113 ;sloc0                     Allocated with name '___uitoa_sloc0_1_0'
                                    114 ;sloc1                     Allocated with name '___uitoa_sloc1_1_0'
                                    115 ;------------------------------------------------------------
                                    116 ;	__itoa.c:42: void __uitoa(unsigned int value, char* string, unsigned char radix)
                                    117 ;	-----------------------------------------
                                    118 ;	 function __uitoa
                                    119 ;	-----------------------------------------
      000000                        120 ___uitoa:
                           000007   121 	ar7 = 0x07
                           000006   122 	ar6 = 0x06
                           000005   123 	ar5 = 0x05
                           000004   124 	ar4 = 0x04
                           000003   125 	ar3 = 0x03
                           000002   126 	ar2 = 0x02
                           000001   127 	ar1 = 0x01
                           000000   128 	ar0 = 0x00
      000000 AF 83            [24]  129 	mov	r7,dph
      000002 E5 82            [12]  130 	mov	a,dpl
      000004 78r04            [12]  131 	mov	r0,#___uitoa_value_65536_39
      000006 F2               [24]  132 	movx	@r0,a
      000007 EF               [12]  133 	mov	a,r7
      000008 08               [12]  134 	inc	r0
      000009 F2               [24]  135 	movx	@r0,a
                                    136 ;	__itoa.c:47: do {
      00000A 7E 00            [12]  137 	mov	r6,#0x00
      00000C                        138 00103$:
                                    139 ;	__itoa.c:48: string[index] = '0' + (value % radix);
      00000C EE               [12]  140 	mov	a,r6
      00000D FB               [12]  141 	mov	r3,a
      00000E 33               [12]  142 	rlc	a
      00000F 95 E0            [12]  143 	subb	a,acc
      000011 FC               [12]  144 	mov	r4,a
      000012 78r00            [12]  145 	mov	r0,#___uitoa_PARM_2
      000014 E2               [24]  146 	movx	a,@r0
      000015 2B               [12]  147 	add	a,r3
      000016 FB               [12]  148 	mov	r3,a
      000017 08               [12]  149 	inc	r0
      000018 E2               [24]  150 	movx	a,@r0
      000019 3C               [12]  151 	addc	a,r4
      00001A FA               [12]  152 	mov	r2,a
      00001B 08               [12]  153 	inc	r0
      00001C E2               [24]  154 	movx	a,@r0
      00001D FC               [12]  155 	mov	r4,a
      00001E 78r03            [12]  156 	mov	r0,#___uitoa_PARM_3
      000020 E2               [24]  157 	movx	a,@r0
      000021 F5*00            [12]  158 	mov	___uitoa_sloc0_1_0,a
      000023 75*01 00         [24]  159 	mov	(___uitoa_sloc0_1_0 + 1),#0x00
      000026 78r00            [12]  160 	mov	r0,#__moduint_PARM_2
      000028 E5*00            [12]  161 	mov	a,___uitoa_sloc0_1_0
      00002A F2               [24]  162 	movx	@r0,a
      00002B E5*01            [12]  163 	mov	a,(___uitoa_sloc0_1_0 + 1)
      00002D 08               [12]  164 	inc	r0
      00002E F2               [24]  165 	movx	@r0,a
      00002F 78r04            [12]  166 	mov	r0,#___uitoa_value_65536_39
      000031 E2               [24]  167 	movx	a,@r0
      000032 F5 82            [12]  168 	mov	dpl,a
      000034 08               [12]  169 	inc	r0
      000035 E2               [24]  170 	movx	a,@r0
      000036 F5 83            [12]  171 	mov	dph,a
      000038 C0 06            [24]  172 	push	ar6
      00003A C0 04            [24]  173 	push	ar4
      00003C C0 03            [24]  174 	push	ar3
      00003E C0 02            [24]  175 	push	ar2
      000040 12r00r00         [24]  176 	lcall	__moduint
      000043 AD 82            [24]  177 	mov	r5,dpl
      000045 D0 02            [24]  178 	pop	ar2
      000047 D0 03            [24]  179 	pop	ar3
      000049 D0 04            [24]  180 	pop	ar4
      00004B D0 06            [24]  181 	pop	ar6
      00004D 74 30            [12]  182 	mov	a,#0x30
      00004F 2D               [12]  183 	add	a,r5
      000050 8B 82            [24]  184 	mov	dpl,r3
      000052 8A 83            [24]  185 	mov	dph,r2
      000054 8C F0            [24]  186 	mov	b,r4
      000056 12r00r00         [24]  187 	lcall	__gptrput
                                    188 ;	__itoa.c:49: if (string[index] > '9')
      000059 8B 82            [24]  189 	mov	dpl,r3
      00005B 8A 83            [24]  190 	mov	dph,r2
      00005D 8C F0            [24]  191 	mov	b,r4
      00005F 12r00r00         [24]  192 	lcall	__gptrget
      000062 24 C6            [12]  193 	add	a,#0xff - 0x39
      000064 50 15            [24]  194 	jnc	00102$
                                    195 ;	__itoa.c:50: string[index] += 'A' - '9' - 1;
      000066 8B 82            [24]  196 	mov	dpl,r3
      000068 8A 83            [24]  197 	mov	dph,r2
      00006A 8C F0            [24]  198 	mov	b,r4
      00006C 12r00r00         [24]  199 	lcall	__gptrget
      00006F 24 07            [12]  200 	add	a,#0x07
      000071 FF               [12]  201 	mov	r7,a
      000072 8B 82            [24]  202 	mov	dpl,r3
      000074 8A 83            [24]  203 	mov	dph,r2
      000076 8C F0            [24]  204 	mov	b,r4
      000078 12r00r00         [24]  205 	lcall	__gptrput
      00007B                        206 00102$:
                                    207 ;	__itoa.c:51: value /= radix;
      00007B 78r00            [12]  208 	mov	r0,#__divuint_PARM_2
      00007D E5*00            [12]  209 	mov	a,___uitoa_sloc0_1_0
      00007F F2               [24]  210 	movx	@r0,a
      000080 E5*01            [12]  211 	mov	a,(___uitoa_sloc0_1_0 + 1)
      000082 08               [12]  212 	inc	r0
      000083 F2               [24]  213 	movx	@r0,a
      000084 78r04            [12]  214 	mov	r0,#___uitoa_value_65536_39
      000086 E2               [24]  215 	movx	a,@r0
      000087 F5 82            [12]  216 	mov	dpl,a
      000089 08               [12]  217 	inc	r0
      00008A E2               [24]  218 	movx	a,@r0
      00008B F5 83            [12]  219 	mov	dph,a
      00008D C0 06            [24]  220 	push	ar6
      00008F 12r00r00         [24]  221 	lcall	__divuint
      000092 78r04            [12]  222 	mov	r0,#___uitoa_value_65536_39
      000094 E5 82            [12]  223 	mov	a,dpl
      000096 F2               [24]  224 	movx	@r0,a
      000097 E5 83            [12]  225 	mov	a,dph
      000099 08               [12]  226 	inc	r0
      00009A F2               [24]  227 	movx	@r0,a
      00009B D0 06            [24]  228 	pop	ar6
                                    229 ;	__itoa.c:52: ++index;
      00009D 0E               [12]  230 	inc	r6
                                    231 ;	__itoa.c:53: } while (value != 0);
      00009E 78r04            [12]  232 	mov	r0,#___uitoa_value_65536_39
      0000A0 E2               [24]  233 	movx	a,@r0
      0000A1 F5 F0            [12]  234 	mov	b,a
      0000A3 08               [12]  235 	inc	r0
      0000A4 E2               [24]  236 	movx	a,@r0
      0000A5 45 F0            [12]  237 	orl	a,b
      0000A7 60 03            [24]  238 	jz	00134$
      0000A9 02r00r0C         [24]  239 	ljmp	00103$
      0000AC                        240 00134$:
                                    241 ;	__itoa.c:56: string[index--] = '\0';
      0000AC EE               [12]  242 	mov	a,r6
      0000AD 14               [12]  243 	dec	a
      0000AE FF               [12]  244 	mov	r7,a
      0000AF EE               [12]  245 	mov	a,r6
      0000B0 FD               [12]  246 	mov	r5,a
      0000B1 33               [12]  247 	rlc	a
      0000B2 95 E0            [12]  248 	subb	a,acc
      0000B4 FE               [12]  249 	mov	r6,a
      0000B5 78r00            [12]  250 	mov	r0,#___uitoa_PARM_2
      0000B7 E2               [24]  251 	movx	a,@r0
      0000B8 2D               [12]  252 	add	a,r5
      0000B9 FD               [12]  253 	mov	r5,a
      0000BA 08               [12]  254 	inc	r0
      0000BB E2               [24]  255 	movx	a,@r0
      0000BC 3E               [12]  256 	addc	a,r6
      0000BD FE               [12]  257 	mov	r6,a
      0000BE 08               [12]  258 	inc	r0
      0000BF E2               [24]  259 	movx	a,@r0
      0000C0 FC               [12]  260 	mov	r4,a
      0000C1 8D 82            [24]  261 	mov	dpl,r5
      0000C3 8E 83            [24]  262 	mov	dph,r6
      0000C5 8C F0            [24]  263 	mov	b,r4
      0000C7 E4               [12]  264 	clr	a
      0000C8 12r00r00         [24]  265 	lcall	__gptrput
                                    266 ;	__itoa.c:59: while (index > i) {
      0000CB 78r06            [12]  267 	mov	r0,#___uitoa_i_65536_40
      0000CD F2               [24]  268 	movx	@r0,a
      0000CE                        269 00106$:
      0000CE 78r06            [12]  270 	mov	r0,#___uitoa_i_65536_40
      0000D0 C3               [12]  271 	clr	c
      0000D1 E2               [24]  272 	movx	a,@r0
      0000D2 64 80            [12]  273 	xrl	a,#0x80
      0000D4 8F F0            [24]  274 	mov	b,r7
      0000D6 63 F0 80         [24]  275 	xrl	b,#0x80
      0000D9 95 F0            [12]  276 	subb	a,b
      0000DB 50 60            [24]  277 	jnc	00109$
                                    278 ;	__itoa.c:60: char tmp = string[i];
      0000DD 78r06            [12]  279 	mov	r0,#___uitoa_i_65536_40
      0000DF E2               [24]  280 	movx	a,@r0
      0000E0 FC               [12]  281 	mov	r4,a
      0000E1 E2               [24]  282 	movx	a,@r0
      0000E2 33               [12]  283 	rlc	a
      0000E3 95 E0            [12]  284 	subb	a,acc
      0000E5 FD               [12]  285 	mov	r5,a
      0000E6 78r00            [12]  286 	mov	r0,#___uitoa_PARM_2
      0000E8 E2               [24]  287 	movx	a,@r0
      0000E9 2C               [12]  288 	add	a,r4
      0000EA F5*02            [12]  289 	mov	___uitoa_sloc1_1_0,a
      0000EC 08               [12]  290 	inc	r0
      0000ED E2               [24]  291 	movx	a,@r0
      0000EE 3D               [12]  292 	addc	a,r5
      0000EF F5*03            [12]  293 	mov	(___uitoa_sloc1_1_0 + 1),a
      0000F1 08               [12]  294 	inc	r0
      0000F2 E2               [24]  295 	movx	a,@r0
      0000F3 F5*04            [12]  296 	mov	(___uitoa_sloc1_1_0 + 2),a
      0000F5 85*02 82         [24]  297 	mov	dpl,___uitoa_sloc1_1_0
      0000F8 85*03 83         [24]  298 	mov	dph,(___uitoa_sloc1_1_0 + 1)
      0000FB 85*04 F0         [24]  299 	mov	b,(___uitoa_sloc1_1_0 + 2)
      0000FE 12r00r00         [24]  300 	lcall	__gptrget
      000101 FB               [12]  301 	mov	r3,a
                                    302 ;	__itoa.c:61: string[i] = string[index];
      000102 EF               [12]  303 	mov	a,r7
      000103 FA               [12]  304 	mov	r2,a
      000104 33               [12]  305 	rlc	a
      000105 95 E0            [12]  306 	subb	a,acc
      000107 FE               [12]  307 	mov	r6,a
      000108 78r00            [12]  308 	mov	r0,#___uitoa_PARM_2
      00010A E2               [24]  309 	movx	a,@r0
      00010B 2A               [12]  310 	add	a,r2
      00010C FA               [12]  311 	mov	r2,a
      00010D 08               [12]  312 	inc	r0
      00010E E2               [24]  313 	movx	a,@r0
      00010F 3E               [12]  314 	addc	a,r6
      000110 FD               [12]  315 	mov	r5,a
      000111 08               [12]  316 	inc	r0
      000112 E2               [24]  317 	movx	a,@r0
      000113 FE               [12]  318 	mov	r6,a
      000114 8A 82            [24]  319 	mov	dpl,r2
      000116 8D 83            [24]  320 	mov	dph,r5
      000118 8E F0            [24]  321 	mov	b,r6
      00011A 12r00r00         [24]  322 	lcall	__gptrget
      00011D FC               [12]  323 	mov	r4,a
      00011E 85*02 82         [24]  324 	mov	dpl,___uitoa_sloc1_1_0
      000121 85*03 83         [24]  325 	mov	dph,(___uitoa_sloc1_1_0 + 1)
      000124 85*04 F0         [24]  326 	mov	b,(___uitoa_sloc1_1_0 + 2)
      000127 12r00r00         [24]  327 	lcall	__gptrput
                                    328 ;	__itoa.c:62: string[index] = tmp;
      00012A 8A 82            [24]  329 	mov	dpl,r2
      00012C 8D 83            [24]  330 	mov	dph,r5
      00012E 8E F0            [24]  331 	mov	b,r6
      000130 EB               [12]  332 	mov	a,r3
      000131 12r00r00         [24]  333 	lcall	__gptrput
                                    334 ;	__itoa.c:63: ++i;
      000134 78r06            [12]  335 	mov	r0,#___uitoa_i_65536_40
      000136 E2               [24]  336 	movx	a,@r0
      000137 24 01            [12]  337 	add	a,#0x01
      000139 F2               [24]  338 	movx	@r0,a
                                    339 ;	__itoa.c:64: --index;
      00013A 1F               [12]  340 	dec	r7
      00013B 80 91            [24]  341 	sjmp	00106$
      00013D                        342 00109$:
                                    343 ;	__itoa.c:66: }
      00013D 22               [24]  344 	ret
                                    345 ;------------------------------------------------------------
                                    346 ;Allocation info for local variables in function '__itoa'
                                    347 ;------------------------------------------------------------
                                    348 ;	__itoa.c:68: void __itoa(int value, char* string, unsigned char radix)
                                    349 ;	-----------------------------------------
                                    350 ;	 function __itoa
                                    351 ;	-----------------------------------------
      00013E                        352 ___itoa:
      00013E AE 82            [24]  353 	mov	r6,dpl
                                    354 ;	__itoa.c:70: if (value < 0 && radix == 10) {
      000140 E5 83            [12]  355 	mov	a,dph
      000142 FF               [12]  356 	mov	r7,a
      000143 30 E7 2F         [24]  357 	jnb	acc.7,00102$
      000146 78r0A            [12]  358 	mov	r0,#___itoa_PARM_3
      000148 E2               [24]  359 	movx	a,@r0
      000149 B4 0A 29         [24]  360 	cjne	a,#0x0a,00102$
                                    361 ;	__itoa.c:71: *string++ = '-';
      00014C 78r07            [12]  362 	mov	r0,#___itoa_PARM_2
      00014E E2               [24]  363 	movx	a,@r0
      00014F FB               [12]  364 	mov	r3,a
      000150 08               [12]  365 	inc	r0
      000151 E2               [24]  366 	movx	a,@r0
      000152 FC               [12]  367 	mov	r4,a
      000153 08               [12]  368 	inc	r0
      000154 E2               [24]  369 	movx	a,@r0
      000155 FD               [12]  370 	mov	r5,a
      000156 8B 82            [24]  371 	mov	dpl,r3
      000158 8C 83            [24]  372 	mov	dph,r4
      00015A 8D F0            [24]  373 	mov	b,r5
      00015C 74 2D            [12]  374 	mov	a,#0x2d
      00015E 12r00r00         [24]  375 	lcall	__gptrput
      000161 78r07            [12]  376 	mov	r0,#___itoa_PARM_2
      000163 74 01            [12]  377 	mov	a,#0x01
      000165 2B               [12]  378 	add	a,r3
      000166 F2               [24]  379 	movx	@r0,a
      000167 E4               [12]  380 	clr	a
      000168 3C               [12]  381 	addc	a,r4
      000169 08               [12]  382 	inc	r0
      00016A F2               [24]  383 	movx	@r0,a
      00016B ED               [12]  384 	mov	a,r5
      00016C 08               [12]  385 	inc	r0
      00016D F2               [24]  386 	movx	@r0,a
                                    387 ;	__itoa.c:72: value = -value;
      00016E C3               [12]  388 	clr	c
      00016F E4               [12]  389 	clr	a
      000170 9E               [12]  390 	subb	a,r6
      000171 FE               [12]  391 	mov	r6,a
      000172 E4               [12]  392 	clr	a
      000173 9F               [12]  393 	subb	a,r7
      000174 FF               [12]  394 	mov	r7,a
      000175                        395 00102$:
                                    396 ;	__itoa.c:74: __uitoa(value, string, radix);
      000175 78r07            [12]  397 	mov	r0,#___itoa_PARM_2
      000177 79r00            [12]  398 	mov	r1,#___uitoa_PARM_2
      000179 E2               [24]  399 	movx	a,@r0
      00017A F3               [24]  400 	movx	@r1,a
      00017B 08               [12]  401 	inc	r0
      00017C E2               [24]  402 	movx	a,@r0
      00017D 09               [12]  403 	inc	r1
      00017E F3               [24]  404 	movx	@r1,a
      00017F 08               [12]  405 	inc	r0
      000180 E2               [24]  406 	movx	a,@r0
      000181 09               [12]  407 	inc	r1
      000182 F3               [24]  408 	movx	@r1,a
      000183 78r0A            [12]  409 	mov	r0,#___itoa_PARM_3
      000185 79r03            [12]  410 	mov	r1,#___uitoa_PARM_3
      000187 E2               [24]  411 	movx	a,@r0
      000188 F3               [24]  412 	movx	@r1,a
      000189 8E 82            [24]  413 	mov	dpl,r6
      00018B 8F 83            [24]  414 	mov	dph,r7
                                    415 ;	__itoa.c:75: }
      00018D 02r00r00         [24]  416 	ljmp	___uitoa
                                    417 	.area CSEG    (CODE)
                                    418 	.area CONST   (CODE)
                                    419 	.area XINIT   (CODE)
                                    420 	.area CABS    (ABS,CODE)
