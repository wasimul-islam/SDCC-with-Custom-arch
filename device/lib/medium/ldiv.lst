                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module ldiv
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _ldiv_PARM_2
                                     12 	.globl _ldiv_PARM_1
                                     13 	.globl _ldiv
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable items in internal ram
                                     35 ;--------------------------------------------------------
                                     36 ;--------------------------------------------------------
                                     37 ; indirectly addressable internal ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area ISEG    (DATA)
                                     40 ;--------------------------------------------------------
                                     41 ; absolute internal ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area IABS    (ABS,DATA)
                                     44 	.area IABS    (ABS,DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; bit data
                                     47 ;--------------------------------------------------------
                                     48 	.area BSEG    (BIT)
                                     49 ;--------------------------------------------------------
                                     50 ; paged external ram data
                                     51 ;--------------------------------------------------------
                                     52 	.area PSEG    (PAG,XDATA)
      000000                         53 _ldiv_PARM_1:
      000000                         54 	.ds 4
      000004                         55 _ldiv_PARM_2:
      000004                         56 	.ds 4
      000008                         57 _ldiv_ret_65536_40:
      000008                         58 	.ds 8
                                     59 ;--------------------------------------------------------
                                     60 ; uninitialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'ldiv'
                                     99 ;------------------------------------------------------------
                                    100 ;	ldiv.c:32: ldiv_t ldiv(long int numer, long int denom)
                                    101 ;	-----------------------------------------
                                    102 ;	 function ldiv
                                    103 ;	-----------------------------------------
      000000                        104 _ldiv:
                           000007   105 	ar7 = 0x07
                           000006   106 	ar6 = 0x06
                           000005   107 	ar5 = 0x05
                           000004   108 	ar4 = 0x04
                           000003   109 	ar3 = 0x03
                           000002   110 	ar2 = 0x02
                           000001   111 	ar1 = 0x01
                           000000   112 	ar0 = 0x00
                                    113 ;	ldiv.c:35: ret.quot = numer / denom;
      000000 78r04            [12]  114 	mov	r0,#_ldiv_PARM_2
      000002 79r00            [12]  115 	mov	r1,#__divslong_PARM_2
      000004 E2               [24]  116 	movx	a,@r0
      000005 F3               [24]  117 	movx	@r1,a
      000006 08               [12]  118 	inc	r0
      000007 E2               [24]  119 	movx	a,@r0
      000008 09               [12]  120 	inc	r1
      000009 F3               [24]  121 	movx	@r1,a
      00000A 08               [12]  122 	inc	r0
      00000B E2               [24]  123 	movx	a,@r0
      00000C 09               [12]  124 	inc	r1
      00000D F3               [24]  125 	movx	@r1,a
      00000E 08               [12]  126 	inc	r0
      00000F E2               [24]  127 	movx	a,@r0
      000010 09               [12]  128 	inc	r1
      000011 F3               [24]  129 	movx	@r1,a
      000012 78r00            [12]  130 	mov	r0,#_ldiv_PARM_1
      000014 E2               [24]  131 	movx	a,@r0
      000015 F5 82            [12]  132 	mov	dpl,a
      000017 08               [12]  133 	inc	r0
      000018 E2               [24]  134 	movx	a,@r0
      000019 F5 83            [12]  135 	mov	dph,a
      00001B 08               [12]  136 	inc	r0
      00001C E2               [24]  137 	movx	a,@r0
      00001D F5 F0            [12]  138 	mov	b,a
      00001F 08               [12]  139 	inc	r0
      000020 E2               [24]  140 	movx	a,@r0
      000021 12r00r00         [24]  141 	lcall	__divslong
      000024 AC 82            [24]  142 	mov	r4,dpl
      000026 AD 83            [24]  143 	mov	r5,dph
      000028 AE F0            [24]  144 	mov	r6,b
      00002A FF               [12]  145 	mov	r7,a
      00002B 78r08            [12]  146 	mov	r0,#_ldiv_ret_65536_40
      00002D EC               [12]  147 	mov	a,r4
      00002E F2               [24]  148 	movx	@r0,a
      00002F 08               [12]  149 	inc	r0
      000030 ED               [12]  150 	mov	a,r5
      000031 F2               [24]  151 	movx	@r0,a
      000032 08               [12]  152 	inc	r0
      000033 EE               [12]  153 	mov	a,r6
      000034 F2               [24]  154 	movx	@r0,a
      000035 08               [12]  155 	inc	r0
      000036 EF               [12]  156 	mov	a,r7
      000037 F2               [24]  157 	movx	@r0,a
                                    158 ;	ldiv.c:36: ret.rem = numer % denom;
      000038 78r04            [12]  159 	mov	r0,#_ldiv_PARM_2
      00003A 79r00            [12]  160 	mov	r1,#__modslong_PARM_2
      00003C E2               [24]  161 	movx	a,@r0
      00003D F3               [24]  162 	movx	@r1,a
      00003E 08               [12]  163 	inc	r0
      00003F E2               [24]  164 	movx	a,@r0
      000040 09               [12]  165 	inc	r1
      000041 F3               [24]  166 	movx	@r1,a
      000042 08               [12]  167 	inc	r0
      000043 E2               [24]  168 	movx	a,@r0
      000044 09               [12]  169 	inc	r1
      000045 F3               [24]  170 	movx	@r1,a
      000046 08               [12]  171 	inc	r0
      000047 E2               [24]  172 	movx	a,@r0
      000048 09               [12]  173 	inc	r1
      000049 F3               [24]  174 	movx	@r1,a
      00004A 78r00            [12]  175 	mov	r0,#_ldiv_PARM_1
      00004C E2               [24]  176 	movx	a,@r0
      00004D F5 82            [12]  177 	mov	dpl,a
      00004F 08               [12]  178 	inc	r0
      000050 E2               [24]  179 	movx	a,@r0
      000051 F5 83            [12]  180 	mov	dph,a
      000053 08               [12]  181 	inc	r0
      000054 E2               [24]  182 	movx	a,@r0
      000055 F5 F0            [12]  183 	mov	b,a
      000057 08               [12]  184 	inc	r0
      000058 E2               [24]  185 	movx	a,@r0
      000059 12r00r00         [24]  186 	lcall	__modslong
      00005C AC 82            [24]  187 	mov	r4,dpl
      00005E AD 83            [24]  188 	mov	r5,dph
      000060 AE F0            [24]  189 	mov	r6,b
      000062 FF               [12]  190 	mov	r7,a
      000063 78r0C            [12]  191 	mov	r0,#(_ldiv_ret_65536_40 + 0x0004)
      000065 EC               [12]  192 	mov	a,r4
      000066 F2               [24]  193 	movx	@r0,a
      000067 08               [12]  194 	inc	r0
      000068 ED               [12]  195 	mov	a,r5
      000069 F2               [24]  196 	movx	@r0,a
      00006A 08               [12]  197 	inc	r0
      00006B EE               [12]  198 	mov	a,r6
      00006C F2               [24]  199 	movx	@r0,a
      00006D 08               [12]  200 	inc	r0
      00006E EF               [12]  201 	mov	a,r7
      00006F F2               [24]  202 	movx	@r0,a
                                    203 ;	ldiv.c:37: return(ret);
      000070 78r08            [12]  204 	mov	r0,#_ldiv_ret_65536_40
      000072 E5 81            [12]  205 	mov	a,sp
      000074 24 FC            [12]  206 	add	a,#0xfc
      000076 F9               [12]  207 	mov	r1,a
      000077 87 82            [24]  208 	mov	dpl,@r1
      000079 09               [12]  209 	inc	r1
      00007A 87 83            [24]  210 	mov	dph,@r1
      00007C 09               [12]  211 	inc	r1
      00007D 87 F0            [24]  212 	mov	b,@r1
      00007F E2               [24]  213 	movx	a,@r0
      000080 12r00r00         [24]  214 	lcall	__gptrput
      000083 A3               [24]  215 	inc	dptr
      000084 08               [12]  216 	inc	r0
      000085 E2               [24]  217 	movx	a,@r0
      000086 12r00r00         [24]  218 	lcall	__gptrput
      000089 A3               [24]  219 	inc	dptr
      00008A 08               [12]  220 	inc	r0
      00008B E2               [24]  221 	movx	a,@r0
      00008C 12r00r00         [24]  222 	lcall	__gptrput
      00008F A3               [24]  223 	inc	dptr
      000090 08               [12]  224 	inc	r0
      000091 E2               [24]  225 	movx	a,@r0
      000092 12r00r00         [24]  226 	lcall	__gptrput
      000095 A3               [24]  227 	inc	dptr
      000096 08               [12]  228 	inc	r0
      000097 E2               [24]  229 	movx	a,@r0
      000098 12r00r00         [24]  230 	lcall	__gptrput
      00009B A3               [24]  231 	inc	dptr
      00009C 08               [12]  232 	inc	r0
      00009D E2               [24]  233 	movx	a,@r0
      00009E 12r00r00         [24]  234 	lcall	__gptrput
      0000A1 A3               [24]  235 	inc	dptr
      0000A2 08               [12]  236 	inc	r0
      0000A3 E2               [24]  237 	movx	a,@r0
      0000A4 12r00r00         [24]  238 	lcall	__gptrput
      0000A7 A3               [24]  239 	inc	dptr
      0000A8 08               [12]  240 	inc	r0
      0000A9 E2               [24]  241 	movx	a,@r0
                                    242 ;	ldiv.c:38: }
      0000AA 02r00r00         [24]  243 	ljmp	__gptrput
                                    244 	.area CSEG    (CODE)
                                    245 	.area CONST   (CODE)
                                    246 	.area XINIT   (CODE)
                                    247 	.area CABS    (ABS,CODE)
