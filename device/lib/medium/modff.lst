                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module modff
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _modff_PARM_2
                                     12 	.globl _modff
                                     13 ;--------------------------------------------------------
                                     14 ; special function registers
                                     15 ;--------------------------------------------------------
                                     16 	.area RSEG    (ABS,DATA)
      000000                         17 	.org 0x0000
                                     18 ;--------------------------------------------------------
                                     19 ; special function bits
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; overlayable register banks
                                     25 ;--------------------------------------------------------
                                     26 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         27 	.ds 8
                                     28 ;--------------------------------------------------------
                                     29 ; internal ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area DSEG    (DATA)
      000000                         32 _modff_sloc0_1_0:
      000000                         33 	.ds 3
                                     34 ;--------------------------------------------------------
                                     35 ; overlayable items in internal ram
                                     36 ;--------------------------------------------------------
                                     37 ;--------------------------------------------------------
                                     38 ; indirectly addressable internal ram data
                                     39 ;--------------------------------------------------------
                                     40 	.area ISEG    (DATA)
                                     41 ;--------------------------------------------------------
                                     42 ; absolute internal ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area IABS    (ABS,DATA)
                                     45 	.area IABS    (ABS,DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; bit data
                                     48 ;--------------------------------------------------------
                                     49 	.area BSEG    (BIT)
                                     50 ;--------------------------------------------------------
                                     51 ; paged external ram data
                                     52 ;--------------------------------------------------------
                                     53 	.area PSEG    (PAG,XDATA)
      000000                         54 _modff_PARM_2:
      000000                         55 	.ds 3
      000003                         56 _modff_x_65536_25:
      000003                         57 	.ds 4
                                     58 ;--------------------------------------------------------
                                     59 ; uninitialized external ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area XSEG    (XDATA)
                                     62 ;--------------------------------------------------------
                                     63 ; absolute external ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area XABS    (ABS,XDATA)
                                     66 ;--------------------------------------------------------
                                     67 ; initialized external ram data
                                     68 ;--------------------------------------------------------
                                     69 	.area XISEG   (XDATA)
                                     70 	.area HOME    (CODE)
                                     71 	.area GSINIT0 (CODE)
                                     72 	.area GSINIT1 (CODE)
                                     73 	.area GSINIT2 (CODE)
                                     74 	.area GSINIT3 (CODE)
                                     75 	.area GSINIT4 (CODE)
                                     76 	.area GSINIT5 (CODE)
                                     77 	.area GSINIT  (CODE)
                                     78 	.area GSFINAL (CODE)
                                     79 	.area CSEG    (CODE)
                                     80 ;--------------------------------------------------------
                                     81 ; global & static initialisations
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME    (CODE)
                                     84 	.area GSINIT  (CODE)
                                     85 	.area GSFINAL (CODE)
                                     86 	.area GSINIT  (CODE)
                                     87 ;--------------------------------------------------------
                                     88 ; Home
                                     89 ;--------------------------------------------------------
                                     90 	.area HOME    (CODE)
                                     91 	.area HOME    (CODE)
                                     92 ;--------------------------------------------------------
                                     93 ; code
                                     94 ;--------------------------------------------------------
                                     95 	.area CSEG    (CODE)
                                     96 ;------------------------------------------------------------
                                     97 ;Allocation info for local variables in function 'modff'
                                     98 ;------------------------------------------------------------
                                     99 ;sloc0                     Allocated with name '_modff_sloc0_1_0'
                                    100 ;------------------------------------------------------------
                                    101 ;	modff.c:33: float modff(float x, float * y)
                                    102 ;	-----------------------------------------
                                    103 ;	 function modff
                                    104 ;	-----------------------------------------
      000000                        105 _modff:
                           000007   106 	ar7 = 0x07
                           000006   107 	ar6 = 0x06
                           000005   108 	ar5 = 0x05
                           000004   109 	ar4 = 0x04
                           000003   110 	ar3 = 0x03
                           000002   111 	ar2 = 0x02
                           000001   112 	ar1 = 0x01
                           000000   113 	ar0 = 0x00
      000000 AF 82            [24]  114 	mov	r7,dpl
      000002 AE 83            [24]  115 	mov	r6,dph
      000004 AD F0            [24]  116 	mov	r5,b
      000006 FC               [12]  117 	mov	r4,a
      000007 78r03            [12]  118 	mov	r0,#_modff_x_65536_25
      000009 EF               [12]  119 	mov	a,r7
      00000A F2               [24]  120 	movx	@r0,a
      00000B EE               [12]  121 	mov	a,r6
      00000C 08               [12]  122 	inc	r0
      00000D F2               [24]  123 	movx	@r0,a
      00000E ED               [12]  124 	mov	a,r5
      00000F 08               [12]  125 	inc	r0
      000010 F2               [24]  126 	movx	@r0,a
      000011 EC               [12]  127 	mov	a,r4
      000012 08               [12]  128 	inc	r0
      000013 F2               [24]  129 	movx	@r0,a
                                    130 ;	modff.c:35: *y=(long)x;
      000014 78r00            [12]  131 	mov	r0,#_modff_PARM_2
      000016 E2               [24]  132 	movx	a,@r0
      000017 F5*00            [12]  133 	mov	_modff_sloc0_1_0,a
      000019 08               [12]  134 	inc	r0
      00001A E2               [24]  135 	movx	a,@r0
      00001B F5*01            [12]  136 	mov	(_modff_sloc0_1_0 + 1),a
      00001D 08               [12]  137 	inc	r0
      00001E E2               [24]  138 	movx	a,@r0
      00001F F5*02            [12]  139 	mov	(_modff_sloc0_1_0 + 2),a
      000021 78r03            [12]  140 	mov	r0,#_modff_x_65536_25
      000023 E2               [24]  141 	movx	a,@r0
      000024 F5 82            [12]  142 	mov	dpl,a
      000026 08               [12]  143 	inc	r0
      000027 E2               [24]  144 	movx	a,@r0
      000028 F5 83            [12]  145 	mov	dph,a
      00002A 08               [12]  146 	inc	r0
      00002B E2               [24]  147 	movx	a,@r0
      00002C F5 F0            [12]  148 	mov	b,a
      00002E 08               [12]  149 	inc	r0
      00002F E2               [24]  150 	movx	a,@r0
      000030 12r00r00         [24]  151 	lcall	___fs2slong
      000033 12r00r00         [24]  152 	lcall	___slong2fs
      000036 AC 82            [24]  153 	mov	r4,dpl
      000038 AD 83            [24]  154 	mov	r5,dph
      00003A AE F0            [24]  155 	mov	r6,b
      00003C FF               [12]  156 	mov	r7,a
      00003D 85*00 82         [24]  157 	mov	dpl,_modff_sloc0_1_0
      000040 85*01 83         [24]  158 	mov	dph,(_modff_sloc0_1_0 + 1)
      000043 85*02 F0         [24]  159 	mov	b,(_modff_sloc0_1_0 + 2)
      000046 EC               [12]  160 	mov	a,r4
      000047 12r00r00         [24]  161 	lcall	__gptrput
      00004A A3               [24]  162 	inc	dptr
      00004B ED               [12]  163 	mov	a,r5
      00004C 12r00r00         [24]  164 	lcall	__gptrput
      00004F A3               [24]  165 	inc	dptr
      000050 EE               [12]  166 	mov	a,r6
      000051 12r00r00         [24]  167 	lcall	__gptrput
      000054 A3               [24]  168 	inc	dptr
      000055 EF               [12]  169 	mov	a,r7
      000056 12r00r00         [24]  170 	lcall	__gptrput
                                    171 ;	modff.c:36: return (x-*y);
      000059 C0 04            [24]  172 	push	ar4
      00005B C0 05            [24]  173 	push	ar5
      00005D C0 06            [24]  174 	push	ar6
      00005F C0 07            [24]  175 	push	ar7
      000061 78r03            [12]  176 	mov	r0,#_modff_x_65536_25
      000063 E2               [24]  177 	movx	a,@r0
      000064 F5 82            [12]  178 	mov	dpl,a
      000066 08               [12]  179 	inc	r0
      000067 E2               [24]  180 	movx	a,@r0
      000068 F5 83            [12]  181 	mov	dph,a
      00006A 08               [12]  182 	inc	r0
      00006B E2               [24]  183 	movx	a,@r0
      00006C F5 F0            [12]  184 	mov	b,a
      00006E 08               [12]  185 	inc	r0
      00006F E2               [24]  186 	movx	a,@r0
      000070 12r00r00         [24]  187 	lcall	___fssub
      000073 AC 82            [24]  188 	mov	r4,dpl
      000075 AD 83            [24]  189 	mov	r5,dph
      000077 AE F0            [24]  190 	mov	r6,b
      000079 FF               [12]  191 	mov	r7,a
      00007A E5 81            [12]  192 	mov	a,sp
      00007C 24 FC            [12]  193 	add	a,#0xfc
      00007E F5 81            [12]  194 	mov	sp,a
      000080 8C 82            [24]  195 	mov	dpl,r4
      000082 8D 83            [24]  196 	mov	dph,r5
      000084 8E F0            [24]  197 	mov	b,r6
      000086 EF               [12]  198 	mov	a,r7
                                    199 ;	modff.c:37: }
      000087 22               [24]  200 	ret
                                    201 	.area CSEG    (CODE)
                                    202 	.area CONST   (CODE)
                                    203 	.area XINIT   (CODE)
                                    204 	.area CABS    (ABS,CODE)
