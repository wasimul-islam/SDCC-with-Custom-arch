                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module wcslen
                                      6 	.optsdcc -mmcs51 --model-medium
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _wcslen
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in internal ram
                                     33 ;--------------------------------------------------------
                                     34 	.area	OSEG    (OVR,DATA)
      000000                         35 _wcslen_n_65536_10:
      000000                         36 	.ds 2
                                     37 ;--------------------------------------------------------
                                     38 ; indirectly addressable internal ram data
                                     39 ;--------------------------------------------------------
                                     40 	.area ISEG    (DATA)
                                     41 ;--------------------------------------------------------
                                     42 ; absolute internal ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area IABS    (ABS,DATA)
                                     45 	.area IABS    (ABS,DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; bit data
                                     48 ;--------------------------------------------------------
                                     49 	.area BSEG    (BIT)
                                     50 ;--------------------------------------------------------
                                     51 ; paged external ram data
                                     52 ;--------------------------------------------------------
                                     53 	.area PSEG    (PAG,XDATA)
                                     54 ;--------------------------------------------------------
                                     55 ; uninitialized external ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area XSEG    (XDATA)
                                     58 ;--------------------------------------------------------
                                     59 ; absolute external ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area XABS    (ABS,XDATA)
                                     62 ;--------------------------------------------------------
                                     63 ; initialized external ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area XISEG   (XDATA)
                                     66 	.area HOME    (CODE)
                                     67 	.area GSINIT0 (CODE)
                                     68 	.area GSINIT1 (CODE)
                                     69 	.area GSINIT2 (CODE)
                                     70 	.area GSINIT3 (CODE)
                                     71 	.area GSINIT4 (CODE)
                                     72 	.area GSINIT5 (CODE)
                                     73 	.area GSINIT  (CODE)
                                     74 	.area GSFINAL (CODE)
                                     75 	.area CSEG    (CODE)
                                     76 ;--------------------------------------------------------
                                     77 ; global & static initialisations
                                     78 ;--------------------------------------------------------
                                     79 	.area HOME    (CODE)
                                     80 	.area GSINIT  (CODE)
                                     81 	.area GSFINAL (CODE)
                                     82 	.area GSINIT  (CODE)
                                     83 ;--------------------------------------------------------
                                     84 ; Home
                                     85 ;--------------------------------------------------------
                                     86 	.area HOME    (CODE)
                                     87 	.area HOME    (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; code
                                     90 ;--------------------------------------------------------
                                     91 	.area CSEG    (CODE)
                                     92 ;------------------------------------------------------------
                                     93 ;Allocation info for local variables in function 'wcslen'
                                     94 ;------------------------------------------------------------
                                     95 ;n                         Allocated with name '_wcslen_n_65536_10'
                                     96 ;------------------------------------------------------------
                                     97 ;	wcslen.c:31: size_t wcslen(const wchar_t *s)
                                     98 ;	-----------------------------------------
                                     99 ;	 function wcslen
                                    100 ;	-----------------------------------------
      000000                        101 _wcslen:
                           000007   102 	ar7 = 0x07
                           000006   103 	ar6 = 0x06
                           000005   104 	ar5 = 0x05
                           000004   105 	ar4 = 0x04
                           000003   106 	ar3 = 0x03
                           000002   107 	ar2 = 0x02
                           000001   108 	ar1 = 0x01
                           000000   109 	ar0 = 0x00
      000000 AD 82            [24]  110 	mov	r5,dpl
      000002 AE 83            [24]  111 	mov	r6,dph
      000004 AF F0            [24]  112 	mov	r7,b
                                    113 ;	wcslen.c:34: while (*s)
      000006 E4               [12]  114 	clr	a
      000007 F5*00            [12]  115 	mov	_wcslen_n_65536_10,a
      000009 F5*01            [12]  116 	mov	(_wcslen_n_65536_10 + 1),a
      00000B                        117 00101$:
      00000B 8D 82            [24]  118 	mov	dpl,r5
      00000D 8E 83            [24]  119 	mov	dph,r6
      00000F 8F F0            [24]  120 	mov	b,r7
      000011 12r00r00         [24]  121 	lcall	__gptrget
      000014 F8               [12]  122 	mov	r0,a
      000015 A3               [24]  123 	inc	dptr
      000016 12r00r00         [24]  124 	lcall	__gptrget
      000019 F9               [12]  125 	mov	r1,a
      00001A A3               [24]  126 	inc	dptr
      00001B 12r00r00         [24]  127 	lcall	__gptrget
      00001E FA               [12]  128 	mov	r2,a
      00001F A3               [24]  129 	inc	dptr
      000020 12r00r00         [24]  130 	lcall	__gptrget
      000023 FC               [12]  131 	mov	r4,a
      000024 E8               [12]  132 	mov	a,r0
      000025 49               [12]  133 	orl	a,r1
      000026 4A               [12]  134 	orl	a,r2
      000027 4C               [12]  135 	orl	a,r4
      000028 60 11            [24]  136 	jz	00103$
                                    137 ;	wcslen.c:36: n++;
      00002A 05*00            [12]  138 	inc	_wcslen_n_65536_10
      00002C E4               [12]  139 	clr	a
      00002D B5*00 02         [24]  140 	cjne	a,_wcslen_n_65536_10,00116$
      000030 05*01            [12]  141 	inc	(_wcslen_n_65536_10 + 1)
      000032                        142 00116$:
                                    143 ;	wcslen.c:37: s++;
      000032 74 04            [12]  144 	mov	a,#0x04
      000034 2D               [12]  145 	add	a,r5
      000035 FD               [12]  146 	mov	r5,a
      000036 E4               [12]  147 	clr	a
      000037 3E               [12]  148 	addc	a,r6
      000038 FE               [12]  149 	mov	r6,a
      000039 80 D0            [24]  150 	sjmp	00101$
      00003B                        151 00103$:
                                    152 ;	wcslen.c:40: return n;
      00003B 85*00 82         [24]  153 	mov	dpl,_wcslen_n_65536_10
      00003E 85*01 83         [24]  154 	mov	dph,(_wcslen_n_65536_10 + 1)
                                    155 ;	wcslen.c:41: }
      000041 22               [24]  156 	ret
                                    157 	.area CSEG    (CODE)
                                    158 	.area CONST   (CODE)
                                    159 	.area XINIT   (CODE)
                                    160 	.area CABS    (ABS,CODE)
