                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module realloc
                                      6 	.optsdcc -mds390 --model-flat24
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; CPU specific extensions
                                     10 ;--------------------------------------------------------
                                     11 	.DS80C390
                                     12 	.amode	2	; 24 bit flat addressing
                           000082    13 dpl	=	0x82
                           000083    14 dph	=	0x83
                           000084    15 dpl1	=	0x84
                           000085    16 dph1	=	0x85
                           000086    17 dps	=	0x86
                           000093    18 dpx	=	0x93
                           000095    19 dpx1	=	0x95
                           00009B    20 esp	=	0x9B
                           00009C    21 ap	=	0x9C
                           00009C    22 acc1	=	0x9C
                           0000D1    23 mcnt0	=	0xD1
                           0000D2    24 mcnt1	=	0xD2
                           0000D3    25 ma	=	0xD3
                           0000D4    26 mb	=	0xD4
                           0000D5    27 mc	=	0xD5
                           00009D    28 acon	=	0x9D
                           0000C6    29 mcon	=	0xC6
                           0000D1    30 F1	=	0xD1	; user flag
                                     31 ;--------------------------------------------------------
                                     32 ; Public variables in this module
                                     33 ;--------------------------------------------------------
                                     34 	.globl ___sdcc_heap_init
                                     35 	.globl ___memcpy
                                     36 	.globl _memmove
                                     37 	.globl _free
                                     38 	.globl _malloc
                                     39 	.globl _realloc_PARM_2
                                     40 	.globl _realloc
                                     41 ;--------------------------------------------------------
                                     42 ; special function registers
                                     43 ;--------------------------------------------------------
                                     44 ;--------------------------------------------------------
                                     45 ; special function bits
                                     46 ;--------------------------------------------------------
                                     47 ;--------------------------------------------------------
                                     48 ; overlayable register banks
                                     49 ;--------------------------------------------------------
                                     50 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         51 	.ds 8
                                     52 ;--------------------------------------------------------
                                     53 ; internal ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area DSEG    (DATA)
                                     56 ;--------------------------------------------------------
                                     57 ; overlayable items in internal ram
                                     58 ;--------------------------------------------------------
                                     59 ;--------------------------------------------------------
                                     60 ; indirectly addressable internal ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area ISEG    (DATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute internal ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area IABS    (ABS,DATA)
                                     67 	.area IABS    (ABS,DATA)
                                     68 ;--------------------------------------------------------
                                     69 ; bit data
                                     70 ;--------------------------------------------------------
                                     71 	.area BSEG    (BIT)
      000000                         72 _realloc_sloc2_1_0:
      000000                         73 	.ds 1
                                     74 ;--------------------------------------------------------
                                     75 ; paged external ram data
                                     76 ;--------------------------------------------------------
                                     77 	.area PSEG    (PAG,XDATA)
                                     78 ;--------------------------------------------------------
                                     79 ; uninitialized external ram data
                                     80 ;--------------------------------------------------------
                                     81 	.area XSEG    (XDATA)
      000000                         82 _realloc_PARM_2:
      000000                         83 	.ds 2
      000002                         84 _realloc_ptr_65536_64:
      000002                         85 	.ds 4
      000006                         86 _realloc_h_65536_65:
      000006                         87 	.ds 3
      000009                         88 _realloc_next_free_65536_65:
      000009                         89 	.ds 3
      00000C                         90 _realloc_prev_free_65536_65:
      00000C                         91 	.ds 3
      00000F                         92 _realloc_f_65536_65:
      00000F                         93 	.ds 3
      000012                         94 _realloc_pf_65536_65:
      000012                         95 	.ds 3
      000015                         96 _realloc_blocksize_65536_65:
      000015                         97 	.ds 2
      000017                         98 _realloc_oldblocksize_65536_65:
      000017                         99 	.ds 2
      000019                        100 _realloc_maxblocksize_65536_65:
      000019                        101 	.ds 2
      00001B                        102 _realloc_newheader_196608_71:
      00001B                        103 	.ds 3
      00001E                        104 _realloc_oldsize_131072_72:
      00001E                        105 	.ds 2
      000020                        106 _realloc_sloc0_1_0:
      000020                        107 	.ds 4
      000024                        108 _realloc_sloc1_1_0:
      000024                        109 	.ds 3
                                    110 ;--------------------------------------------------------
                                    111 ; absolute external ram data
                                    112 ;--------------------------------------------------------
                                    113 	.area XABS    (ABS,XDATA)
                                    114 ;--------------------------------------------------------
                                    115 ; initialized external ram data
                                    116 ;--------------------------------------------------------
                                    117 	.area XISEG   (XDATA)
                                    118 ;--------------------------------------------------------
                                    119 ; global & static initialisations
                                    120 ;--------------------------------------------------------
                                    121 	.area HOME    (CODE)
                                    122 	.area GSINIT  (CODE)
                                    123 	.area GSFINAL (CODE)
                                    124 	.area GSINIT  (CODE)
                                    125 ;--------------------------------------------------------
                                    126 ; Home
                                    127 ;--------------------------------------------------------
                                    128 	.area HOME    (CODE)
                                    129 	.area HOME    (CODE)
                                    130 ;--------------------------------------------------------
                                    131 ; code
                                    132 ;--------------------------------------------------------
                                    133 	.area CSEG    (CODE)
                                    134 ;------------------------------------------------------------
                                    135 ;Allocation info for local variables in function 'realloc'
                                    136 ;------------------------------------------------------------
                                    137 ;size                      Allocated with name '_realloc_PARM_2'
                                    138 ;ptr                       Allocated with name '_realloc_ptr_65536_64'
                                    139 ;ret                       Allocated to registers r5 r6 r7 
                                    140 ;h                         Allocated with name '_realloc_h_65536_65'
                                    141 ;next_free                 Allocated with name '_realloc_next_free_65536_65'
                                    142 ;prev_free                 Allocated with name '_realloc_prev_free_65536_65'
                                    143 ;f                         Allocated with name '_realloc_f_65536_65'
                                    144 ;pf                        Allocated with name '_realloc_pf_65536_65'
                                    145 ;blocksize                 Allocated with name '_realloc_blocksize_65536_65'
                                    146 ;oldblocksize              Allocated with name '_realloc_oldblocksize_65536_65'
                                    147 ;maxblocksize              Allocated with name '_realloc_maxblocksize_65536_65'
                                    148 ;newheader                 Allocated with name '_realloc_newheader_196608_71'
                                    149 ;oldsize                   Allocated with name '_realloc_oldsize_131072_72'
                                    150 ;sloc0                     Allocated with name '_realloc_sloc0_1_0'
                                    151 ;sloc1                     Allocated with name '_realloc_sloc1_1_0'
                                    152 ;------------------------------------------------------------
                                    153 ;	realloc.c:58: void HEAPSPACE *realloc(void *ptr, size_t size)
                                    154 ;	-----------------------------------------
                                    155 ;	 function realloc
                                    156 ;	-----------------------------------------
      000000                        157 _realloc:
                           000002   158 	ar2 = 0x02
                           000003   159 	ar3 = 0x03
                           000004   160 	ar4 = 0x04
                           000005   161 	ar5 = 0x05
                           000006   162 	ar6 = 0x06
                           000007   163 	ar7 = 0x07
                           000000   164 	ar0 = 0x00
                           000001   165 	ar1 = 0x01
      000000 75 86 01         [12]  166 	mov     dps, #1
      000003 90s00r00r02      [12]  167 	mov     dptr, #_realloc_ptr_65536_64
      000007 E5 82            [ 8]  168 	mov	a,dpl
      000009 F0               [ 8]  169 	movx	@dptr,a
      00000A A3               [12]  170 	inc	dptr
      00000B E5 83            [ 8]  171 	mov	a,dph
      00000D F0               [ 8]  172 	movx	@dptr,a
      00000E A3               [12]  173 	inc	dptr
      00000F E5 93            [ 8]  174 	mov	a,dpx
      000011 F0               [ 8]  175 	movx	@dptr,a
      000012 A3               [12]  176 	inc	dptr
      000013 E5 F0            [ 8]  177 	mov	a,b
      000015 F0               [ 8]  178 	movx	@dptr,a
      000016 75 86 00         [12]  179 	mov	dps,#0
                                    180 ;	realloc.c:69: if(!__sdcc_heap_free)
      000019 90s00r00r00      [12]  181 	mov	dptr,#___sdcc_heap_free
      00001D E0               [ 8]  182 	movx	a,@dptr
      00001E F5 F0            [ 8]  183 	mov	b,a
      000020 A3               [12]  184 	inc	dptr
      000021 E0               [ 8]  185 	movx	a,@dptr
      000022 42 F0            [ 8]  186 	orl	b,a
      000024 A3               [12]  187 	inc	dptr
      000025 E0               [ 8]  188 	movx	a,@dptr
      000026 45 F0            [ 8]  189 	orl	a,b
      000028 70 04            [12]  190 	jnz  00102$
      00002A                        191 00239$:
                                    192 ;	realloc.c:70: __sdcc_heap_init();
      00002A 12s00r00r00      [16]  193 	lcall	___sdcc_heap_init
      00002E                        194 00102$:
                                    195 ;	realloc.c:73: if(!ptr)
      00002E 90s00r00r02      [12]  196 	mov	dptr,#_realloc_ptr_65536_64
      000032 E0               [ 8]  197 	movx	a,@dptr
      000033 F5 F0            [ 8]  198 	mov	b,a
      000035 A3               [12]  199 	inc	dptr
      000036 E0               [ 8]  200 	movx	a,@dptr
      000037 42 F0            [ 8]  201 	orl	b,a
      000039 A3               [12]  202 	inc	dptr
      00003A E0               [ 8]  203 	movx	a,@dptr
      00003B 45 F0            [ 8]  204 	orl	a,b
      00003D 70 18            [12]  205 	jnz  00104$
      00003F                        206 00240$:
                                    207 ;	realloc.c:74: return(malloc(size));
      00003F 05 86            [ 8]  208 	inc	dps
      000041 90s00r00r00      [12]  209 	mov	dptr,#_realloc_PARM_2
      000045 E0               [ 8]  210 	movx	a,@dptr
      000046 F5 82            [ 8]  211 	mov	dpl,a
      000048 A3               [12]  212 	inc	dptr
      000049 E0               [ 8]  213 	movx	a,@dptr
      00004A F5 83            [ 8]  214 	mov	dph,a
      00004C 75 86 00         [12]  215 	mov	dps,#0
      00004F 12s00r00r00      [16]  216 	lcall	_malloc
      000053 02s00r07rD5      [16]  217 	ljmp	00133$
      000057                        218 00104$:
                                    219 ;	realloc.c:76: if(!size)
      000057 90s00r00r00      [12]  220 	mov	dptr,#_realloc_PARM_2
      00005B E0               [ 8]  221 	movx	a,@dptr
      00005C F5 F0            [ 8]  222 	mov	b,a
      00005E A3               [12]  223 	inc	dptr
      00005F E0               [ 8]  224 	movx	a,@dptr
      000060 45 F0            [ 8]  225 	orl	a,b
      000062 70 24            [12]  226 	jnz  00106$
      000064                        227 00241$:
                                    228 ;	realloc.c:78: free(ptr);
      000064 05 86            [ 8]  229 	inc	dps
      000066 90s00r00r02      [12]  230 	mov	dptr,#_realloc_ptr_65536_64
      00006A E0               [ 8]  231 	movx	a,@dptr
      00006B F5 82            [ 8]  232 	mov	dpl,a
      00006D A3               [12]  233 	inc	dptr
      00006E E0               [ 8]  234 	movx	a,@dptr
      00006F F5 83            [ 8]  235 	mov	dph,a
      000071 A3               [12]  236 	inc	dptr
      000072 E0               [ 8]  237 	movx	a,@dptr
      000073 F5 93            [ 8]  238 	mov	dpx,a
      000075 A3               [12]  239 	inc	dptr
      000076 E0               [ 8]  240 	movx	a,@dptr
      000077 F5 F0            [ 8]  241 	mov	b,a
      000079 75 86 00         [12]  242 	mov	dps,#0
      00007C 12s00r00r00      [16]  243 	lcall	_free
                                    244 ;	realloc.c:79: return(0);
      000080 90 00 00 00      [12]  245 	mov  dptr,#0x0000
      000084 02s00r07rD5      [16]  246 	ljmp	00133$
      000088                        247 00106$:
                                    248 ;	realloc.c:82: prev_free = 0, pf = 0;
                                    249 ;	genAssign: resultIsFar = TRUE
      000088 90s00r00r0C      [12]  250 	mov	dptr,#_realloc_prev_free_65536_65
      00008C E4               [ 4]  251 	clr	a
      00008D F0               [ 8]  252 	movx	@dptr,a
      00008E A3               [12]  253 	inc	dptr
      00008F F0               [ 8]  254 	movx	@dptr,a
      000090 A3               [12]  255 	inc	dptr
      000091 F0               [ 8]  256 	movx	@dptr,a
                                    257 ;	genAssign: resultIsFar = TRUE
      000092 90s00r00r12      [12]  258 	mov	dptr,#_realloc_pf_65536_65
      000096 E4               [ 4]  259 	clr	a
      000097 F0               [ 8]  260 	movx	@dptr,a
      000098 A3               [12]  261 	inc	dptr
      000099 F0               [ 8]  262 	movx	@dptr,a
      00009A A3               [12]  263 	inc	dptr
      00009B F0               [ 8]  264 	movx	@dptr,a
                                    265 ;	realloc.c:83: for(h = __sdcc_heap_free, f = &__sdcc_heap_free; h && h < ptr; prev_free = h, pf = f, f = &(h->next_free), h = h->next_free); // Find adjacent blocks in free list
      00009C 90s00r00r00      [12]  266 	mov	dptr,#___sdcc_heap_free
                                    267 ;	genAssign: resultIsFar = FALSE
      0000A0 E0               [ 8]  268 	movx	a,@dptr
      0000A1 F9               [ 4]  269 	mov	r1,a
      0000A2 A3               [12]  270 	inc	dptr
      0000A3 E0               [ 8]  271 	movx	a,@dptr
      0000A4 FA               [ 4]  272 	mov	r2,a
      0000A5 A3               [12]  273 	inc	dptr
      0000A6 E0               [ 8]  274 	movx	a,@dptr
      0000A7 FB               [ 4]  275 	mov	r3,a
                                    276 ;	genAssign: resultIsFar = TRUE
      0000A8 90s00r00r0F      [12]  277 	mov	dptr,#_realloc_f_65536_65
      0000AC 74r00            [ 8]  278 	mov	a,#___sdcc_heap_free
      0000AE F0               [ 8]  279 	movx	@dptr,a
      0000AF A3               [12]  280 	inc	dptr
      0000B0 74s00            [ 8]  281 	mov	a,#(___sdcc_heap_free >> 8)
      0000B2 F0               [ 8]  282 	movx	@dptr,a
      0000B3 A3               [12]  283 	inc	dptr
      0000B4 74s00            [ 8]  284 	mov	a,#(___sdcc_heap_free >> 16)
      0000B6 F0               [ 8]  285 	movx	@dptr,a
      0000B7 90s00r00r02      [12]  286 	mov	dptr,#_realloc_ptr_65536_64
                                    287 ;	genAssign: resultIsFar = TRUE
      0000BB 75 86 21         [12]  288 	mov	dps,#0x21
      0000BE 90s00r00r20      [12]  289 	mov	dptr,#_realloc_sloc0_1_0
      0000C2 E0               [ 8]  290 	movx	a,@dptr
      0000C3 F0               [ 8]  291 	movx	@dptr,a
      0000C4 A3               [12]  292 	inc	dptr
      0000C5 A3               [12]  293 	inc	dptr
      0000C6 E0               [ 8]  294 	movx	a,@dptr
      0000C7 F0               [ 8]  295 	movx	@dptr,a
      0000C8 A3               [12]  296 	inc	dptr
      0000C9 A3               [12]  297 	inc	dptr
      0000CA E0               [ 8]  298 	movx	a,@dptr
      0000CB F0               [ 8]  299 	movx	@dptr,a
      0000CC A3               [12]  300 	inc	dptr
      0000CD A3               [12]  301 	inc	dptr
      0000CE E0               [ 8]  302 	movx	a,@dptr
      0000CF F0               [ 8]  303 	movx	@dptr,a
      0000D0 75 86 00         [12]  304 	mov	dps,#0
      0000D3                        305 00131$:
      0000D3 E9               [ 4]  306 	mov	a,r1
      0000D4 4A               [ 4]  307 	orl	a,r2
      0000D5 4B               [ 4]  308 	orl	a,r3
      0000D6 70 04            [12]  309 	jnz	00242$
      0000D8 02s00r01r5F      [16]  310 	ljmp	00107$
      0000DC                        311 00242$:
                                    312 ;	genAssign: resultIsFar = TRUE
      0000DC 90s00r00r24      [12]  313 	mov	dptr,#_realloc_sloc1_1_0
      0000E0 E9               [ 4]  314 	mov	a,r1
      0000E1 F0               [ 8]  315 	movx	@dptr,a
      0000E2 A3               [12]  316 	inc	dptr
      0000E3 EA               [ 4]  317 	mov	a,r2
      0000E4 F0               [ 8]  318 	movx	@dptr,a
      0000E5 A3               [12]  319 	inc	dptr
      0000E6 EB               [ 4]  320 	mov	a,r3
      0000E7 F0               [ 8]  321 	movx	@dptr,a
      0000E8 90s00r00r20      [12]  322 	mov	dptr,#_realloc_sloc0_1_0
      0000EC E0               [ 8]  323 	movx	a,@dptr
      0000ED FF               [ 4]  324 	mov	r7,a
      0000EE A3               [12]  325 	inc	dptr
      0000EF E0               [ 8]  326 	movx	a,@dptr
      0000F0 F8               [ 4]  327 	mov	r0,a
      0000F1 A3               [12]  328 	inc	dptr
      0000F2 E0               [ 8]  329 	movx	a,@dptr
      0000F3 FC               [ 4]  330 	mov	r4,a
      0000F4 90s00r00r24      [12]  331 	mov	dptr,#_realloc_sloc1_1_0
      0000F8 C3               [ 4]  332 	clr	c
      0000F9 E0               [ 8]  333 	movx	a,@dptr
      0000FA 9F               [ 4]  334 	subb	a,r7
      0000FB A3               [12]  335 	inc	dptr
      0000FC E0               [ 8]  336 	movx	a,@dptr
      0000FD 98               [ 4]  337 	subb	a,r0
      0000FE A3               [12]  338 	inc	dptr
      0000FF E0               [ 8]  339 	movx	a,@dptr
      000100 9C               [ 4]  340 	subb	a,r4
      000101 50 5C            [12]  341 	jnc  00107$
      000103                        342 00243$:
                                    343 ;	genAssign: resultIsFar = TRUE
      000103 90s00r00r0C      [12]  344 	mov	dptr,#_realloc_prev_free_65536_65
      000107 E9               [ 4]  345 	mov	a,r1
      000108 F0               [ 8]  346 	movx	@dptr,a
      000109 A3               [12]  347 	inc	dptr
      00010A EA               [ 4]  348 	mov	a,r2
      00010B F0               [ 8]  349 	movx	@dptr,a
      00010C A3               [12]  350 	inc	dptr
      00010D EB               [ 4]  351 	mov	a,r3
      00010E F0               [ 8]  352 	movx	@dptr,a
      00010F 90s00r00r0F      [12]  353 	mov	dptr,#_realloc_f_65536_65
                                    354 ;	genAssign: resultIsFar = TRUE
      000113 75 86 21         [12]  355 	mov	dps,#0x21
      000116 90s00r00r12      [12]  356 	mov	dptr,#_realloc_pf_65536_65
      00011A E0               [ 8]  357 	movx	a,@dptr
      00011B F0               [ 8]  358 	movx	@dptr,a
      00011C A3               [12]  359 	inc	dptr
      00011D A3               [12]  360 	inc	dptr
      00011E E0               [ 8]  361 	movx	a,@dptr
      00011F F0               [ 8]  362 	movx	@dptr,a
      000120 A3               [12]  363 	inc	dptr
      000121 A3               [12]  364 	inc	dptr
      000122 E0               [ 8]  365 	movx	a,@dptr
      000123 F0               [ 8]  366 	movx	@dptr,a
      000124 75 86 00         [12]  367 	mov	dps,#0
      000127 74 03            [ 8]  368 	mov	a,#0x03
      000129 29               [ 4]  369 	add	a,r1
      00012A F5 84            [ 8]  370 	mov	dpl1,a
      00012C E4               [ 4]  371 	clr	a
      00012D 3A               [ 4]  372 	addc	a,r2
      00012E F5 85            [ 8]  373 	mov	dph1,a
      000130 E4               [ 4]  374 	clr	a
      000131 3B               [ 4]  375 	addc	a,r3
      000132 F5 95            [ 8]  376 	mov	dpx1,a
                                    377 ;	genAssign: resultIsFar = TRUE
      000134 90s00r00r0F      [12]  378 	mov	dptr,#_realloc_f_65536_65
      000138 E5 84            [ 8]  379 	mov	a,dpl1
      00013A F0               [ 8]  380 	movx	@dptr,a
      00013B A3               [12]  381 	inc	dptr
      00013C E5 85            [ 8]  382 	mov	a,dph1
      00013E F0               [ 8]  383 	movx	@dptr,a
      00013F A3               [12]  384 	inc	dptr
      000140 E5 95            [ 8]  385 	mov	a,dpx1
      000142 F0               [ 8]  386 	movx	@dptr,a
      000143 05 86            [ 8]  387 	inc	dps
      000145 E0               [ 8]  388 	movx	a,@dptr
      000146 A3               [12]  389 	inc	dptr
      000147 F9               [ 4]  390 	mov	r1,a
      000148 E0               [ 8]  391 	movx	a,@dptr
      000149 A3               [12]  392 	inc	dptr
      00014A FA               [ 4]  393 	mov	r2,a
      00014B E0               [ 8]  394 	movx	a,@dptr
      00014C FB               [ 4]  395 	mov	r3,a
      00014D 75 86 01         [12]  396 	mov     dps, #1
      000150 12s00r00r00      [16]  397 	lcall	__decdptr
      000154 12s00r00r00      [16]  398 	lcall	__decdptr
      000158 75 86 00         [12]  399 	mov	dps,#0
      00015B 02s00r00rD3      [16]  400 	ljmp	00131$
      00015F                        401 00107$:
                                    402 ;	realloc.c:84: next_free = h;
                                    403 ;	genAssign: resultIsFar = TRUE
      00015F 90s00r00r09      [12]  404 	mov	dptr,#_realloc_next_free_65536_65
      000163 E9               [ 4]  405 	mov	a,r1
      000164 F0               [ 8]  406 	movx	@dptr,a
      000165 A3               [12]  407 	inc	dptr
      000166 EA               [ 4]  408 	mov	a,r2
      000167 F0               [ 8]  409 	movx	@dptr,a
      000168 A3               [12]  410 	inc	dptr
      000169 EB               [ 4]  411 	mov	a,r3
      00016A F0               [ 8]  412 	movx	@dptr,a
                                    413 ;	realloc.c:86: if(size + offsetof(struct header, next_free) < size) // Handle overflow
      00016B 90s00r00r00      [12]  414 	mov	dptr,#_realloc_PARM_2
      00016F E0               [ 8]  415 	movx	a,@dptr
      000170 24 03            [ 8]  416 	add	a,#0x03
      000172 FD               [ 4]  417 	mov	r5,a
      000173 A3               [12]  418 	inc	dptr
      000174 E0               [ 8]  419 	movx	a,@dptr
      000175 34 00            [ 8]  420 	addc	a,#0x00
      000177 FE               [ 4]  421 	mov	r6,a
      000178 90s00r00r00      [12]  422 	mov	dptr,#_realloc_PARM_2
      00017C C3               [ 4]  423 	clr	c
      00017D ED               [ 4]  424 	mov	a,r5
      00017E C5 F0            [ 8]  425 	xch	a, b
      000180 E0               [ 8]  426 	movx	a,@dptr
      000181 C5 F0            [ 8]  427 	xch	a, b
      000183 95 F0            [ 8]  428 	subb	a,b
      000185 EE               [ 4]  429 	mov	a,r6
      000186 C5 F0            [ 8]  430 	xch	a, b
      000188 A3               [12]  431 	inc	dptr
      000189 E0               [ 8]  432 	movx	a,@dptr
      00018A C5 F0            [ 8]  433 	xch	a, b
      00018C 95 F0            [ 8]  434 	subb	a,b
      00018E 50 08            [12]  435 	jnc  00109$
      000190                        436 00244$:
                                    437 ;	realloc.c:87: return(0);
      000190 90 00 00 00      [12]  438 	mov  dptr,#0x0000
      000194 02s00r07rD5      [16]  439 	ljmp	00133$
      000198                        440 00109$:
                                    441 ;	realloc.c:88: blocksize = size + offsetof(struct header, next_free);
      000198 90s00r00r00      [12]  442 	mov	dptr,#_realloc_PARM_2
      00019C E0               [ 8]  443 	movx	a,@dptr
      00019D 24 03            [ 8]  444 	add	a,#0x03
      00019F FD               [ 4]  445 	mov	r5,a
      0001A0 A3               [12]  446 	inc	dptr
      0001A1 E0               [ 8]  447 	movx	a,@dptr
      0001A2 34 00            [ 8]  448 	addc	a,#0x00
      0001A4 FE               [ 4]  449 	mov	r6,a
                                    450 ;	genAssign: resultIsFar = TRUE
      0001A5 90s00r00r15      [12]  451 	mov	dptr,#_realloc_blocksize_65536_65
      0001A9 ED               [ 4]  452 	mov	a,r5
      0001AA F0               [ 8]  453 	movx	@dptr,a
      0001AB A3               [12]  454 	inc	dptr
      0001AC EE               [ 4]  455 	mov	a,r6
      0001AD F0               [ 8]  456 	movx	@dptr,a
                                    457 ;	realloc.c:89: if(blocksize < sizeof(struct header)) // Requiring a minimum size makes it easier to implement free(), and avoid memory leaks.
      0001AE 90s00r00r15      [12]  458 	mov	dptr,#_realloc_blocksize_65536_65
      0001B2 C3               [ 4]  459 	clr	c
      0001B3 E0               [ 8]  460 	movx	a,@dptr
      0001B4 94 06            [ 8]  461 	subb	a,#0x06
      0001B6 A3               [12]  462 	inc	dptr
      0001B7 E0               [ 8]  463 	movx	a,@dptr
      0001B8 94 00            [ 8]  464 	subb	a,#0x00
      0001BA 50 0A            [12]  465 	jnc  00111$
      0001BC                        466 00245$:
                                    467 ;	realloc.c:90: blocksize = sizeof(struct header);
                                    468 ;	genAssign: resultIsFar = TRUE
      0001BC 90s00r00r15      [12]  469 	mov	dptr,#_realloc_blocksize_65536_65
      0001C0 74 06            [ 8]  470 	mov	a,#0x06
      0001C2 F0               [ 8]  471 	movx	@dptr,a
      0001C3 E4               [ 4]  472 	clr	a
      0001C4 A3               [12]  473 	inc	dptr
      0001C5 F0               [ 8]  474 	movx	@dptr,a
      0001C6                        475 00111$:
                                    476 ;	realloc.c:92: h = (void HEAPSPACE *)((char HEAPSPACE *)(ptr) - offsetof(struct header, next_free));
      0001C6 90s00r00r02      [12]  477 	mov	dptr,#_realloc_ptr_65536_64
                                    478 ;	genAssign: resultIsFar = FALSE
      0001CA E0               [ 8]  479 	movx	a,@dptr
      0001CB FF               [ 4]  480 	mov	r7,a
      0001CC A3               [12]  481 	inc	dptr
      0001CD E0               [ 8]  482 	movx	a,@dptr
      0001CE F8               [ 4]  483 	mov	r0,a
      0001CF A3               [12]  484 	inc	dptr
      0001D0 E0               [ 8]  485 	movx	a,@dptr
      0001D1 F9               [ 4]  486 	mov	r1,a
      0001D2 A3               [12]  487 	inc	dptr
      0001D3 E0               [ 8]  488 	movx	a,@dptr
      0001D4 FD               [ 4]  489 	mov	r5,a
      0001D5 EF               [ 4]  490 	mov	a,r7
      0001D6 24 FD            [ 8]  491 	add	a,#0xfd
      0001D8 FF               [ 4]  492 	mov	r7,a
      0001D9 E8               [ 4]  493 	mov	a,r0
      0001DA 34 FF            [ 8]  494 	addc	a,#0xff
      0001DC F8               [ 4]  495 	mov	r0,a
      0001DD E9               [ 4]  496 	mov	a,r1
      0001DE 34 FF            [ 8]  497 	addc	a,#0xff
      0001E0 F9               [ 4]  498 	mov	r1,a
      0001E1 90s00r00r06      [12]  499 	mov	dptr,#_realloc_h_65536_65
      0001E5 EF               [ 4]  500 	mov	a,r7
      0001E6 F0               [ 8]  501 	movx	@dptr,a
      0001E7 A3               [12]  502 	inc	dptr
      0001E8 E8               [ 4]  503 	mov	a,r0
      0001E9 F0               [ 8]  504 	movx	@dptr,a
      0001EA A3               [12]  505 	inc	dptr
      0001EB E9               [ 4]  506 	mov	a,r1
      0001EC F0               [ 8]  507 	movx	@dptr,a
                                    508 ;	realloc.c:93: oldblocksize = (char HEAPSPACE *)(h->next) - (char HEAPSPACE *)h;
      0001ED 90s00r00r06      [12]  509 	mov	dptr,#_realloc_h_65536_65
      0001F1 E0               [ 8]  510 	movx	a,@dptr
      0001F2 C0 E0            [ 8]  511 	push	acc
      0001F4 A3               [12]  512 	inc	dptr
      0001F5 E0               [ 8]  513 	movx	a,@dptr
      0001F6 C0 E0            [ 8]  514 	push	acc
      0001F8 A3               [12]  515 	inc	dptr
      0001F9 E0               [ 8]  516 	movx	a,@dptr
      0001FA F5 93            [ 8]  517 	mov	dpx,a
      0001FC D0 83            [ 8]  518 	pop	dph
      0001FE D0 82            [ 8]  519 	pop	dpl
      000200 75 86 01         [12]  520 	mov	dps, #1
      000203 90s00r00r24      [12]  521 	mov	dptr, #_realloc_sloc1_1_0
      000207 15 86            [ 8]  522 	dec	dps
      000209 E0               [ 8]  523 	movx	a,@dptr
      00020A A3               [12]  524 	inc	dptr
      00020B 05 86            [ 8]  525 	inc	dps
      00020D F0               [ 8]  526 	movx	@dptr,a
      00020E 15 86            [ 8]  527 	dec	dps
      000210 E0               [ 8]  528 	movx	a,@dptr
      000211 A3               [12]  529 	inc	dptr
      000212 05 86            [ 8]  530 	inc	dps
      000214 A3               [12]  531 	inc	dptr
      000215 F0               [ 8]  532 	movx	@dptr,a
      000216 15 86            [ 8]  533 	dec	dps
      000218 E0               [ 8]  534 	movx	a,@dptr
      000219 05 86            [ 8]  535 	inc	dps
      00021B A3               [12]  536 	inc	dptr
      00021C F0               [ 8]  537 	movx	@dptr,a
      00021D 75 86 00         [12]  538 	mov	dps,#0
      000220 90s00r00r24      [12]  539 	mov	dptr,#_realloc_sloc1_1_0
      000224 E0               [ 8]  540 	movx	a,@dptr
      000225 FD               [ 4]  541 	mov	r5,a
      000226 A3               [12]  542 	inc	dptr
      000227 E0               [ 8]  543 	movx	a,@dptr
      000228 FE               [ 4]  544 	mov	r6,a
      000229 A3               [12]  545 	inc	dptr
      00022A E0               [ 8]  546 	movx	a,@dptr
      00022B FF               [ 4]  547 	mov	r7,a
      00022C 90s00r00r06      [12]  548 	mov	dptr,#_realloc_h_65536_65
                                    549 ;	genAssign: resultIsFar = FALSE
      000230 E0               [ 8]  550 	movx	a,@dptr
      000231 F8               [ 4]  551 	mov	r0,a
      000232 A3               [12]  552 	inc	dptr
      000233 E0               [ 8]  553 	movx	a,@dptr
      000234 F9               [ 4]  554 	mov	r1,a
      000235 A3               [12]  555 	inc	dptr
      000236 E0               [ 8]  556 	movx	a,@dptr
      000237 FA               [ 4]  557 	mov	r2,a
      000238 90s00r00r17      [12]  558 	mov	dptr,#_realloc_oldblocksize_65536_65
      00023C C3               [ 4]  559 	clr	c
      00023D ED               [ 4]  560 	mov	a,r5
      00023E 98               [ 4]  561 	subb	a,r0
      00023F F0               [ 8]  562 	movx	@dptr,a
      000240 EE               [ 4]  563 	mov	a,r6
      000241 99               [ 4]  564 	subb	a,r1
      000242 A3               [12]  565 	inc	dptr
      000243 F0               [ 8]  566 	movx	@dptr,a
                                    567 ;	realloc.c:95: maxblocksize = oldblocksize;
      000244 90s00r00r17      [12]  568 	mov	dptr,#_realloc_oldblocksize_65536_65
                                    569 ;	genAssign: resultIsFar = TRUE
      000248 75 86 21         [12]  570 	mov	dps,#0x21
      00024B 90s00r00r19      [12]  571 	mov	dptr,#_realloc_maxblocksize_65536_65
      00024F E0               [ 8]  572 	movx	a,@dptr
      000250 F0               [ 8]  573 	movx	@dptr,a
      000251 A3               [12]  574 	inc	dptr
      000252 A3               [12]  575 	inc	dptr
      000253 E0               [ 8]  576 	movx	a,@dptr
      000254 F0               [ 8]  577 	movx	@dptr,a
      000255 75 86 00         [12]  578 	mov	dps,#0
                                    579 ;	realloc.c:96: if(prev_free && prev_free->next == h) // Can merge with previous block
      000258 90s00r00r0C      [12]  580 	mov	dptr,#_realloc_prev_free_65536_65
      00025C E0               [ 8]  581 	movx	a,@dptr
      00025D F5 F0            [ 8]  582 	mov	b,a
      00025F A3               [12]  583 	inc	dptr
      000260 E0               [ 8]  584 	movx	a,@dptr
      000261 42 F0            [ 8]  585 	orl	b,a
      000263 A3               [12]  586 	inc	dptr
      000264 E0               [ 8]  587 	movx	a,@dptr
      000265 45 F0            [ 8]  588 	orl	a,b
      000267 60 74            [12]  589 	jz  00113$
      000269                        590 00246$:
      000269 90s00r00r0C      [12]  591 	mov	dptr,#_realloc_prev_free_65536_65
      00026D E0               [ 8]  592 	movx	a,@dptr
      00026E C0 E0            [ 8]  593 	push	acc
      000270 A3               [12]  594 	inc	dptr
      000271 E0               [ 8]  595 	movx	a,@dptr
      000272 C0 E0            [ 8]  596 	push	acc
      000274 A3               [12]  597 	inc	dptr
      000275 E0               [ 8]  598 	movx	a,@dptr
      000276 F5 93            [ 8]  599 	mov	dpx,a
      000278 D0 83            [ 8]  600 	pop	dph
      00027A D0 82            [ 8]  601 	pop	dpl
      00027C E0               [ 8]  602 	movx	a,@dptr
      00027D A3               [12]  603 	inc	dptr
      00027E FA               [ 4]  604 	mov	r2,a
      00027F E0               [ 8]  605 	movx	a,@dptr
      000280 A3               [12]  606 	inc	dptr
      000281 FB               [ 4]  607 	mov	r3,a
      000282 E0               [ 8]  608 	movx	a,@dptr
      000283 FC               [ 4]  609 	mov	r4,a
      000284 90s00r00r06      [12]  610 	mov	dptr,#_realloc_h_65536_65
      000288 8A F0            [ 8]  611 	mov	b,r2
      00028A E0               [ 8]  612 	movx	a,@dptr
      00028B B5 F0 10         [16]  613 	cjne	a,b,00247$
      00028E 8B F0            [ 8]  614 	mov	b,r3
      000290 A3               [12]  615 	inc	dptr
      000291 E0               [ 8]  616 	movx	a,@dptr
      000292 B5 F0 09         [16]  617 	cjne	a,b,00247$
      000295 8C F0            [ 8]  618 	mov	b,r4
      000297 A3               [12]  619 	inc	dptr
      000298 E0               [ 8]  620 	movx	a,@dptr
      000299 B5 F0 02         [16]  621 	cjne	a,b,00247$
      00029C 80 02            [12]  622 	sjmp	00248$
      00029E                        623 00247$:
      00029E 80 3D            [12]  624 	sjmp 00113$
      0002A0                        625 00248$:
                                    626 ;	realloc.c:97: maxblocksize += (char HEAPSPACE *)h - (char HEAPSPACE *)prev_free;
      0002A0 90s00r00r06      [12]  627 	mov	dptr,#_realloc_h_65536_65
                                    628 ;	genAssign: resultIsFar = FALSE
      0002A4 E0               [ 8]  629 	movx	a,@dptr
      0002A5 FA               [ 4]  630 	mov	r2,a
      0002A6 A3               [12]  631 	inc	dptr
      0002A7 E0               [ 8]  632 	movx	a,@dptr
      0002A8 FB               [ 4]  633 	mov	r3,a
      0002A9 A3               [12]  634 	inc	dptr
      0002AA E0               [ 8]  635 	movx	a,@dptr
      0002AB FC               [ 4]  636 	mov	r4,a
      0002AC 90s00r00r0C      [12]  637 	mov	dptr,#_realloc_prev_free_65536_65
                                    638 ;	genAssign: resultIsFar = FALSE
      0002B0 E0               [ 8]  639 	movx	a,@dptr
      0002B1 FF               [ 4]  640 	mov	r7,a
      0002B2 A3               [12]  641 	inc	dptr
      0002B3 E0               [ 8]  642 	movx	a,@dptr
      0002B4 F8               [ 4]  643 	mov	r0,a
      0002B5 A3               [12]  644 	inc	dptr
      0002B6 E0               [ 8]  645 	movx	a,@dptr
      0002B7 F9               [ 4]  646 	mov	r1,a
      0002B8 C3               [ 4]  647 	clr	c
      0002B9 EA               [ 4]  648 	mov	a,r2
      0002BA 9F               [ 4]  649 	subb	a,r7
      0002BB FA               [ 4]  650 	mov	r2,a
      0002BC EB               [ 4]  651 	mov	a,r3
      0002BD 98               [ 4]  652 	subb	a,r0
      0002BE FB               [ 4]  653 	mov	r3,a
      0002BF 90s00r00r17      [12]  654 	mov	dptr,#_realloc_oldblocksize_65536_65
      0002C3 75 86 01         [12]  655 	mov	dps, #1
      0002C6 90s00r00r19      [12]  656 	mov	dptr, #_realloc_maxblocksize_65536_65
      0002CA 15 86            [ 8]  657 	dec	dps
      0002CC E0               [ 8]  658 	movx	a,@dptr
      0002CD 2A               [ 4]  659 	add	a,r2
      0002CE 05 86            [ 8]  660 	inc	dps
      0002D0 F0               [ 8]  661 	movx	@dptr,a
      0002D1 15 86            [ 8]  662 	dec	dps
      0002D3 A3               [12]  663 	inc	dptr
      0002D4 E0               [ 8]  664 	movx	a,@dptr
      0002D5 3B               [ 4]  665 	addc	a,r3
      0002D6 05 86            [ 8]  666 	inc	dps
      0002D8 A3               [12]  667 	inc	dptr
      0002D9 F0               [ 8]  668 	movx	@dptr,a
      0002DA 75 86 00         [12]  669 	mov	dps,#0
      0002DD                        670 00113$:
                                    671 ;	realloc.c:98: if(next_free == h->next) // Can merge with next block
      0002DD 90s00r00r24      [12]  672 	mov	dptr,#_realloc_sloc1_1_0
      0002E1 75 86 01         [12]  673 	mov     dps, #1
      0002E4 90s00r00r09      [12]  674 	mov     dptr, #_realloc_next_free_65536_65
      0002E8 E0               [ 8]  675 	movx	a,@dptr
      0002E9 75 86 00         [12]  676 	mov	dps,#0
      0002EC F5 F0            [ 8]  677 	mov	b,a
      0002EE E0               [ 8]  678 	movx	a,@dptr
      0002EF B5 F0 20         [16]  679 	cjne	a,b,00249$
      0002F2 75 86 01         [12]  680 	mov	dps,#1
      0002F5 A3               [12]  681 	inc	dptr
      0002F6 E0               [ 8]  682 	movx	a,@dptr
      0002F7 75 86 00         [12]  683 	mov	dps,#0
      0002FA F5 F0            [ 8]  684 	mov	b,a
      0002FC A3               [12]  685 	inc	dptr
      0002FD E0               [ 8]  686 	movx	a,@dptr
      0002FE B5 F0 11         [16]  687 	cjne	a,b,00249$
      000301 75 86 01         [12]  688 	mov	dps,#1
      000304 A3               [12]  689 	inc	dptr
      000305 E0               [ 8]  690 	movx	a,@dptr
      000306 75 86 00         [12]  691 	mov	dps,#0
      000309 F5 F0            [ 8]  692 	mov	b,a
      00030B A3               [12]  693 	inc	dptr
      00030C E0               [ 8]  694 	movx	a,@dptr
      00030D B5 F0 02         [16]  695 	cjne	a,b,00249$
      000310 80 02            [12]  696 	sjmp	00250$
      000312                        697 00249$:
      000312 80 39            [12]  698 	sjmp 00116$
      000314                        699 00250$:
                                    700 ;	realloc.c:99: maxblocksize += (char HEAPSPACE *)(next_free->next) - (char HEAPSPACE *)next_free;
      000314 90s00r00r09      [12]  701 	mov	dptr,#_realloc_next_free_65536_65
      000318 E0               [ 8]  702 	movx	a,@dptr
      000319 C0 E0            [ 8]  703 	push	acc
      00031B A3               [12]  704 	inc	dptr
      00031C E0               [ 8]  705 	movx	a,@dptr
      00031D C0 E0            [ 8]  706 	push	acc
      00031F A3               [12]  707 	inc	dptr
      000320 E0               [ 8]  708 	movx	a,@dptr
      000321 F5 93            [ 8]  709 	mov	dpx,a
      000323 D0 83            [ 8]  710 	pop	dph
      000325 D0 82            [ 8]  711 	pop	dpl
      000327 E0               [ 8]  712 	movx	a,@dptr
      000328 A3               [12]  713 	inc	dptr
      000329 FA               [ 4]  714 	mov	r2,a
      00032A E0               [ 8]  715 	movx	a,@dptr
      00032B A3               [12]  716 	inc	dptr
      00032C FB               [ 4]  717 	mov	r3,a
      00032D E0               [ 8]  718 	movx	a,@dptr
      00032E FC               [ 4]  719 	mov	r4,a
      00032F 90s00r00r09      [12]  720 	mov	dptr,#_realloc_next_free_65536_65
                                    721 ;	genAssign: resultIsFar = FALSE
      000333 E0               [ 8]  722 	movx	a,@dptr
      000334 FF               [ 4]  723 	mov	r7,a
      000335 A3               [12]  724 	inc	dptr
      000336 E0               [ 8]  725 	movx	a,@dptr
      000337 F8               [ 4]  726 	mov	r0,a
      000338 A3               [12]  727 	inc	dptr
      000339 E0               [ 8]  728 	movx	a,@dptr
      00033A F9               [ 4]  729 	mov	r1,a
      00033B C3               [ 4]  730 	clr	c
      00033C EA               [ 4]  731 	mov	a,r2
      00033D 9F               [ 4]  732 	subb	a,r7
      00033E FA               [ 4]  733 	mov	r2,a
      00033F EB               [ 4]  734 	mov	a,r3
      000340 98               [ 4]  735 	subb	a,r0
      000341 FB               [ 4]  736 	mov	r3,a
      000342 90s00r00r19      [12]  737 	mov	dptr,#_realloc_maxblocksize_65536_65
      000346 E0               [ 8]  738 	movx	a,@dptr
      000347 2A               [ 4]  739 	add	a,r2
      000348 F0               [ 8]  740 	movx	@dptr,a
      000349 A3               [12]  741 	inc	dptr
      00034A E0               [ 8]  742 	movx	a,@dptr
      00034B 3B               [ 4]  743 	addc	a,r3
      00034C F0               [ 8]  744 	movx	@dptr,a
      00034D                        745 00116$:
                                    746 ;	realloc.c:101: if(blocksize <= maxblocksize) // Can resize in place.
      00034D 90s00r00r19      [12]  747 	mov	dptr,#_realloc_maxblocksize_65536_65
      000351 75 86 01         [12]  748 	mov	dps, #1
      000354 90s00r00r15      [12]  749 	mov	dptr, #_realloc_blocksize_65536_65
      000358 15 86            [ 8]  750 	dec	dps
      00035A C3               [ 4]  751 	clr	c
      00035B E0               [ 8]  752 	movx	a,@dptr
      00035C 75 86 01         [12]  753 	mov	dps,#1
      00035F C5 F0            [ 8]  754 	xch	a, b
      000361 E0               [ 8]  755 	movx	a,@dptr
      000362 75 86 00         [12]  756 	mov	dps,#0
      000365 C5 F0            [ 8]  757 	xch	a, b
      000367 95 F0            [ 8]  758 	subb	a,b
      000369 A3               [12]  759 	inc	dptr
      00036A E0               [ 8]  760 	movx	a,@dptr
      00036B 75 86 01         [12]  761 	mov	dps,#1
      00036E C5 F0            [ 8]  762 	xch	a, b
      000370 A3               [12]  763 	inc	dptr
      000371 E0               [ 8]  764 	movx	a,@dptr
      000372 75 86 00         [12]  765 	mov	dps,#0
      000375 C5 F0            [ 8]  766 	xch	a, b
      000377 95 F0            [ 8]  767 	subb	a,b
      000379 50 04            [12]  768 	jnc	00251$
      00037B 02s00r06rB8      [16]  769 	ljmp	00126$
      00037F                        770 00251$:
                                    771 ;	realloc.c:103: if(prev_free && prev_free->next == h) // Always move into previous block to defragment
      00037F 90s00r00r0C      [12]  772 	mov	dptr,#_realloc_prev_free_65536_65
      000383 E0               [ 8]  773 	movx	a,@dptr
      000384 F5 F0            [ 8]  774 	mov	b,a
      000386 A3               [12]  775 	inc	dptr
      000387 E0               [ 8]  776 	movx	a,@dptr
      000388 42 F0            [ 8]  777 	orl	b,a
      00038A A3               [12]  778 	inc	dptr
      00038B E0               [ 8]  779 	movx	a,@dptr
      00038C 45 F0            [ 8]  780 	orl	a,b
      00038E 70 04            [12]  781 	jnz	00252$
      000390 02s00r04rD3      [16]  782 	ljmp	00118$
      000394                        783 00252$:
      000394 90s00r00r0C      [12]  784 	mov	dptr,#_realloc_prev_free_65536_65
      000398 E0               [ 8]  785 	movx	a,@dptr
      000399 C0 E0            [ 8]  786 	push	acc
      00039B A3               [12]  787 	inc	dptr
      00039C E0               [ 8]  788 	movx	a,@dptr
      00039D C0 E0            [ 8]  789 	push	acc
      00039F A3               [12]  790 	inc	dptr
      0003A0 E0               [ 8]  791 	movx	a,@dptr
      0003A1 F5 93            [ 8]  792 	mov	dpx,a
      0003A3 D0 83            [ 8]  793 	pop	dph
      0003A5 D0 82            [ 8]  794 	pop	dpl
      0003A7 E0               [ 8]  795 	movx	a,@dptr
      0003A8 A3               [12]  796 	inc	dptr
      0003A9 FA               [ 4]  797 	mov	r2,a
      0003AA E0               [ 8]  798 	movx	a,@dptr
      0003AB A3               [12]  799 	inc	dptr
      0003AC FB               [ 4]  800 	mov	r3,a
      0003AD E0               [ 8]  801 	movx	a,@dptr
      0003AE FC               [ 4]  802 	mov	r4,a
      0003AF 90s00r00r06      [12]  803 	mov	dptr,#_realloc_h_65536_65
      0003B3 8A F0            [ 8]  804 	mov	b,r2
      0003B5 E0               [ 8]  805 	movx	a,@dptr
      0003B6 B5 F0 10         [16]  806 	cjne	a,b,00253$
      0003B9 8B F0            [ 8]  807 	mov	b,r3
      0003BB A3               [12]  808 	inc	dptr
      0003BC E0               [ 8]  809 	movx	a,@dptr
      0003BD B5 F0 09         [16]  810 	cjne	a,b,00253$
      0003C0 8C F0            [ 8]  811 	mov	b,r4
      0003C2 A3               [12]  812 	inc	dptr
      0003C3 E0               [ 8]  813 	movx	a,@dptr
      0003C4 B5 F0 02         [16]  814 	cjne	a,b,00253$
      0003C7 80 04            [12]  815 	sjmp	00254$
      0003C9                        816 00253$:
      0003C9 02s00r04rD3      [16]  817 	ljmp	00118$
      0003CD                        818 00254$:
                                    819 ;	realloc.c:105: memmove(prev_free, h, blocksize <= oldblocksize ? blocksize : oldblocksize);
      0003CD 90s00r00r0C      [12]  820 	mov	dptr,#_realloc_prev_free_65536_65
                                    821 ;	genAssign: resultIsFar = FALSE
      0003D1 E0               [ 8]  822 	movx	a,@dptr
      0003D2 FA               [ 4]  823 	mov	r2,a
      0003D3 A3               [12]  824 	inc	dptr
      0003D4 E0               [ 8]  825 	movx	a,@dptr
      0003D5 FB               [ 4]  826 	mov	r3,a
      0003D6 A3               [12]  827 	inc	dptr
      0003D7 E0               [ 8]  828 	movx	a,@dptr
      0003D8 FC               [ 4]  829 	mov	r4,a
      0003D9 7F 00            [ 8]  830 	mov	r7,#0x00
      0003DB 90s00r00r06      [12]  831 	mov	dptr,#_realloc_h_65536_65
                                    832 ;	genAssign: resultIsFar = FALSE
      0003DF E0               [ 8]  833 	movx	a,@dptr
      0003E0 F8               [ 4]  834 	mov	r0,a
      0003E1 A3               [12]  835 	inc	dptr
      0003E2 E0               [ 8]  836 	movx	a,@dptr
      0003E3 F9               [ 4]  837 	mov	r1,a
      0003E4 A3               [12]  838 	inc	dptr
      0003E5 E0               [ 8]  839 	movx	a,@dptr
      0003E6 FD               [ 4]  840 	mov	r5,a
      0003E7 89 06            [ 8]  841 	mov	ar6,r1
      0003E9 79 00            [ 8]  842 	mov	r1,#0x00
      0003EB 90s00r00r17      [12]  843 	mov	dptr,#_realloc_oldblocksize_65536_65
      0003EF 75 86 01         [12]  844 	mov	dps, #1
      0003F2 90s00r00r15      [12]  845 	mov	dptr, #_realloc_blocksize_65536_65
      0003F6 15 86            [ 8]  846 	dec	dps
      0003F8 C3               [ 4]  847 	clr	c
      0003F9 E0               [ 8]  848 	movx	a,@dptr
      0003FA 75 86 01         [12]  849 	mov	dps,#1
      0003FD C5 F0            [ 8]  850 	xch	a, b
      0003FF E0               [ 8]  851 	movx	a,@dptr
      000400 75 86 00         [12]  852 	mov	dps,#0
      000403 C5 F0            [ 8]  853 	xch	a, b
      000405 95 F0            [ 8]  854 	subb	a,b
      000407 A3               [12]  855 	inc	dptr
      000408 E0               [ 8]  856 	movx	a,@dptr
      000409 75 86 01         [12]  857 	mov	dps,#1
      00040C C5 F0            [ 8]  858 	xch	a, b
      00040E A3               [12]  859 	inc	dptr
      00040F E0               [ 8]  860 	movx	a,@dptr
      000410 75 86 00         [12]  861 	mov	dps,#0
      000413 C5 F0            [ 8]  862 	xch	a, b
      000415 95 F0            [ 8]  863 	subb	a,b
      000417 92*00            [ 8]  864 	mov	_realloc_sloc2_1_0,c
      000419 20*00 16         [12]  865 	jb   _realloc_sloc2_1_0,00135$
      00041C                        866 00255$:
      00041C 90s00r00r15      [12]  867 	mov	dptr,#_realloc_blocksize_65536_65
                                    868 ;	genAssign: resultIsFar = TRUE
      000420 75 86 21         [12]  869 	mov	dps,#0x21
      000423 90s00r00r24      [12]  870 	mov	dptr,#_realloc_sloc1_1_0
      000427 E0               [ 8]  871 	movx	a,@dptr
      000428 F0               [ 8]  872 	movx	@dptr,a
      000429 A3               [12]  873 	inc	dptr
      00042A A3               [12]  874 	inc	dptr
      00042B E0               [ 8]  875 	movx	a,@dptr
      00042C F0               [ 8]  876 	movx	@dptr,a
      00042D 75 86 00         [12]  877 	mov	dps,#0
      000430 80 14            [12]  878 	sjmp 00136$
      000432                        879 00135$:
      000432 90s00r00r17      [12]  880 	mov	dptr,#_realloc_oldblocksize_65536_65
                                    881 ;	genAssign: resultIsFar = TRUE
      000436 75 86 21         [12]  882 	mov	dps,#0x21
      000439 90s00r00r24      [12]  883 	mov	dptr,#_realloc_sloc1_1_0
      00043D E0               [ 8]  884 	movx	a,@dptr
      00043E F0               [ 8]  885 	movx	@dptr,a
      00043F A3               [12]  886 	inc	dptr
      000440 A3               [12]  887 	inc	dptr
      000441 E0               [ 8]  888 	movx	a,@dptr
      000442 F0               [ 8]  889 	movx	@dptr,a
      000443 75 86 00         [12]  890 	mov	dps,#0
      000446                        891 00136$:
                                    892 ;	genAssign: resultIsFar = TRUE
      000446 90s00r00r00      [12]  893 	mov	dptr,#_memmove_PARM_2
      00044A E8               [ 4]  894 	mov	a,r0
      00044B F0               [ 8]  895 	movx	@dptr,a
      00044C A3               [12]  896 	inc	dptr
      00044D EE               [ 4]  897 	mov	a,r6
      00044E F0               [ 8]  898 	movx	@dptr,a
      00044F A3               [12]  899 	inc	dptr
      000450 ED               [ 4]  900 	mov	a,r5
      000451 F0               [ 8]  901 	movx	@dptr,a
      000452 A3               [12]  902 	inc	dptr
      000453 E9               [ 4]  903 	mov	a,r1
      000454 F0               [ 8]  904 	movx	@dptr,a
      000455 90s00r00r24      [12]  905 	mov	dptr,#_realloc_sloc1_1_0
                                    906 ;	genAssign: resultIsFar = TRUE
      000459 75 86 21         [12]  907 	mov	dps,#0x21
      00045C 90s00r00r00      [12]  908 	mov	dptr,#_memmove_PARM_3
      000460 E0               [ 8]  909 	movx	a,@dptr
      000461 F0               [ 8]  910 	movx	@dptr,a
      000462 A3               [12]  911 	inc	dptr
      000463 A3               [12]  912 	inc	dptr
      000464 E0               [ 8]  913 	movx	a,@dptr
      000465 F0               [ 8]  914 	movx	@dptr,a
      000466 75 86 00         [12]  915 	mov	dps,#0
      000469 8A 82            [ 8]  916 	mov	dpl,r2
      00046B 8B 83            [ 8]  917 	mov	dph,r3
      00046D 8C 93            [ 8]  918 	mov	dpx,r4
      00046F 8F F0            [ 8]  919 	mov	b,r7
      000471 12s00r00r00      [16]  920 	lcall	_memmove
                                    921 ;	realloc.c:106: h = prev_free;
      000475 90s00r00r0C      [12]  922 	mov	dptr,#_realloc_prev_free_65536_65
                                    923 ;	genAssign: resultIsFar = TRUE
      000479 75 86 21         [12]  924 	mov	dps,#0x21
      00047C 90s00r00r06      [12]  925 	mov	dptr,#_realloc_h_65536_65
      000480 E0               [ 8]  926 	movx	a,@dptr
      000481 F0               [ 8]  927 	movx	@dptr,a
      000482 A3               [12]  928 	inc	dptr
      000483 A3               [12]  929 	inc	dptr
      000484 E0               [ 8]  930 	movx	a,@dptr
      000485 F0               [ 8]  931 	movx	@dptr,a
      000486 A3               [12]  932 	inc	dptr
      000487 A3               [12]  933 	inc	dptr
      000488 E0               [ 8]  934 	movx	a,@dptr
      000489 F0               [ 8]  935 	movx	@dptr,a
      00048A 75 86 00         [12]  936 	mov	dps,#0
                                    937 ;	realloc.c:107: *pf = next_free;
      00048D 90s00r00r12      [12]  938 	mov	dptr,#_realloc_pf_65536_65
      000491 E0               [ 8]  939 	movx	a,@dptr
      000492 C0 E0            [ 8]  940 	push	acc
      000494 A3               [12]  941 	inc	dptr
      000495 E0               [ 8]  942 	movx	a,@dptr
      000496 C0 E0            [ 8]  943 	push	acc
      000498 A3               [12]  944 	inc	dptr
      000499 E0               [ 8]  945 	movx	a,@dptr
      00049A F5 93            [ 8]  946 	mov	dpx,a
      00049C D0 83            [ 8]  947 	pop	dph
      00049E D0 82            [ 8]  948 	pop	dpl
      0004A0 75 86 01         [12]  949 	mov     dps, #1
      0004A3 90s00r00r09      [12]  950 	mov     dptr, #_realloc_next_free_65536_65
      0004A7 E0               [ 8]  951 	movx	a,@dptr
      0004A8 15 86            [ 8]  952 	dec	dps
      0004AA F0               [ 8]  953 	movx	@dptr,a
      0004AB A3               [12]  954 	inc	dptr
      0004AC 05 86            [ 8]  955 	inc	dps
      0004AE A3               [12]  956 	inc	dptr
      0004AF E0               [ 8]  957 	movx	a,@dptr
      0004B0 15 86            [ 8]  958 	dec	dps
      0004B2 F0               [ 8]  959 	movx	@dptr,a
      0004B3 A3               [12]  960 	inc	dptr
      0004B4 05 86            [ 8]  961 	inc	dps
      0004B6 A3               [12]  962 	inc	dptr
      0004B7 E0               [ 8]  963 	movx	a,@dptr
      0004B8 15 86            [ 8]  964 	dec	dps
      0004BA F0               [ 8]  965 	movx	@dptr,a
                                    966 ;	realloc.c:108: f = pf;
      0004BB 90s00r00r12      [12]  967 	mov	dptr,#_realloc_pf_65536_65
                                    968 ;	genAssign: resultIsFar = TRUE
      0004BF 75 86 21         [12]  969 	mov	dps,#0x21
      0004C2 90s00r00r0F      [12]  970 	mov	dptr,#_realloc_f_65536_65
      0004C6 E0               [ 8]  971 	movx	a,@dptr
      0004C7 F0               [ 8]  972 	movx	@dptr,a
      0004C8 A3               [12]  973 	inc	dptr
      0004C9 A3               [12]  974 	inc	dptr
      0004CA E0               [ 8]  975 	movx	a,@dptr
      0004CB F0               [ 8]  976 	movx	@dptr,a
      0004CC A3               [12]  977 	inc	dptr
      0004CD A3               [12]  978 	inc	dptr
      0004CE E0               [ 8]  979 	movx	a,@dptr
      0004CF F0               [ 8]  980 	movx	@dptr,a
      0004D0 75 86 00         [12]  981 	mov	dps,#0
      0004D3                        982 00118$:
                                    983 ;	realloc.c:111: if(next_free && next_free == h->next) // Merge with following block
      0004D3 90s00r00r09      [12]  984 	mov	dptr,#_realloc_next_free_65536_65
      0004D7 E0               [ 8]  985 	movx	a,@dptr
      0004D8 F5 F0            [ 8]  986 	mov	b,a
      0004DA A3               [12]  987 	inc	dptr
      0004DB E0               [ 8]  988 	movx	a,@dptr
      0004DC 42 F0            [ 8]  989 	orl	b,a
      0004DE A3               [12]  990 	inc	dptr
      0004DF E0               [ 8]  991 	movx	a,@dptr
      0004E0 45 F0            [ 8]  992 	orl	a,b
      0004E2 70 04            [12]  993 	jnz	00256$
      0004E4 02s00r05r8C      [16]  994 	ljmp	00121$
      0004E8                        995 00256$:
      0004E8 90s00r00r06      [12]  996 	mov	dptr,#_realloc_h_65536_65
      0004EC E0               [ 8]  997 	movx	a,@dptr
      0004ED C0 E0            [ 8]  998 	push	acc
      0004EF A3               [12]  999 	inc	dptr
      0004F0 E0               [ 8] 1000 	movx	a,@dptr
      0004F1 C0 E0            [ 8] 1001 	push	acc
      0004F3 A3               [12] 1002 	inc	dptr
      0004F4 E0               [ 8] 1003 	movx	a,@dptr
      0004F5 F5 93            [ 8] 1004 	mov	dpx,a
      0004F7 D0 83            [ 8] 1005 	pop	dph
      0004F9 D0 82            [ 8] 1006 	pop	dpl
      0004FB E0               [ 8] 1007 	movx	a,@dptr
      0004FC A3               [12] 1008 	inc	dptr
      0004FD FA               [ 4] 1009 	mov	r2,a
      0004FE E0               [ 8] 1010 	movx	a,@dptr
      0004FF A3               [12] 1011 	inc	dptr
      000500 FB               [ 4] 1012 	mov	r3,a
      000501 E0               [ 8] 1013 	movx	a,@dptr
      000502 FC               [ 4] 1014 	mov	r4,a
      000503 90s00r00r09      [12] 1015 	mov	dptr,#_realloc_next_free_65536_65
      000507 E0               [ 8] 1016 	movx	a,@dptr
      000508 B5 02 0C         [16] 1017 	cjne	a,ar2,00257$
      00050B A3               [12] 1018 	inc	dptr
      00050C E0               [ 8] 1019 	movx	a,@dptr
      00050D B5 03 07         [16] 1020 	cjne	a,ar3,00257$
      000510 A3               [12] 1021 	inc	dptr
      000511 E0               [ 8] 1022 	movx	a,@dptr
      000512 B5 04 02         [16] 1023 	cjne	a,ar4,00257$
      000515 80 02            [12] 1024 	sjmp	00258$
      000517                       1025 00257$:
      000517 80 73            [12] 1026 	sjmp 00121$
      000519                       1027 00258$:
                                   1028 ;	realloc.c:113: h->next = next_free->next;
      000519 90s00r00r09      [12] 1029 	mov	dptr,#_realloc_next_free_65536_65
      00051D E0               [ 8] 1030 	movx	a,@dptr
      00051E C0 E0            [ 8] 1031 	push	acc
      000520 A3               [12] 1032 	inc	dptr
      000521 E0               [ 8] 1033 	movx	a,@dptr
      000522 C0 E0            [ 8] 1034 	push	acc
      000524 A3               [12] 1035 	inc	dptr
      000525 E0               [ 8] 1036 	movx	a,@dptr
      000526 F5 93            [ 8] 1037 	mov	dpx,a
      000528 D0 83            [ 8] 1038 	pop	dph
      00052A D0 82            [ 8] 1039 	pop	dpl
      00052C E0               [ 8] 1040 	movx	a,@dptr
      00052D A3               [12] 1041 	inc	dptr
      00052E FA               [ 4] 1042 	mov	r2,a
      00052F E0               [ 8] 1043 	movx	a,@dptr
      000530 A3               [12] 1044 	inc	dptr
      000531 FB               [ 4] 1045 	mov	r3,a
      000532 E0               [ 8] 1046 	movx	a,@dptr
      000533 FC               [ 4] 1047 	mov	r4,a
      000534 90s00r00r06      [12] 1048 	mov	dptr,#_realloc_h_65536_65
      000538 E0               [ 8] 1049 	movx	a,@dptr
      000539 C0 E0            [ 8] 1050 	push	acc
      00053B A3               [12] 1051 	inc	dptr
      00053C E0               [ 8] 1052 	movx	a,@dptr
      00053D C0 E0            [ 8] 1053 	push	acc
      00053F A3               [12] 1054 	inc	dptr
      000540 E0               [ 8] 1055 	movx	a,@dptr
      000541 F5 93            [ 8] 1056 	mov	dpx,a
      000543 D0 83            [ 8] 1057 	pop	dph
      000545 D0 82            [ 8] 1058 	pop	dpl
      000547 EA               [ 4] 1059 	mov	a,r2
      000548 F0               [ 8] 1060 	movx	@dptr,a
      000549 A3               [12] 1061 	inc	dptr
      00054A EB               [ 4] 1062 	mov	a,r3
      00054B F0               [ 8] 1063 	movx	@dptr,a
      00054C A3               [12] 1064 	inc	dptr
      00054D EC               [ 4] 1065 	mov	a,r4
      00054E F0               [ 8] 1066 	movx	@dptr,a
                                   1067 ;	realloc.c:114: *f = next_free->next_free;
      00054F 90s00r00r09      [12] 1068 	mov	dptr,#_realloc_next_free_65536_65
      000553 E0               [ 8] 1069 	movx	a,@dptr
      000554 24 03            [ 8] 1070 	add	a,#0x03
      000556 F5 84            [ 8] 1071 	mov	dpl1,a
      000558 A3               [12] 1072 	inc	dptr
      000559 E0               [ 8] 1073 	movx	a,@dptr
      00055A 34 00            [ 8] 1074 	addc	a,#0x00
      00055C F5 85            [ 8] 1075 	mov	dph1,a
      00055E A3               [12] 1076 	inc	dptr
      00055F E0               [ 8] 1077 	movx	a,@dptr
      000560 34 00            [ 8] 1078 	addc	a,#0x00
      000562 F5 95            [ 8] 1079 	mov	dpx1,a
      000564 05 86            [ 8] 1080 	inc	dps
      000566 E0               [ 8] 1081 	movx	a,@dptr
      000567 A3               [12] 1082 	inc	dptr
      000568 FA               [ 4] 1083 	mov	r2,a
      000569 E0               [ 8] 1084 	movx	a,@dptr
      00056A A3               [12] 1085 	inc	dptr
      00056B FB               [ 4] 1086 	mov	r3,a
      00056C E0               [ 8] 1087 	movx	a,@dptr
      00056D FC               [ 4] 1088 	mov	r4,a
      00056E 75 86 00         [12] 1089 	mov	dps,#0
      000571 90s00r00r0F      [12] 1090 	mov	dptr,#_realloc_f_65536_65
      000575 E0               [ 8] 1091 	movx	a,@dptr
      000576 C0 E0            [ 8] 1092 	push	acc
      000578 A3               [12] 1093 	inc	dptr
      000579 E0               [ 8] 1094 	movx	a,@dptr
      00057A C0 E0            [ 8] 1095 	push	acc
      00057C A3               [12] 1096 	inc	dptr
      00057D E0               [ 8] 1097 	movx	a,@dptr
      00057E F5 93            [ 8] 1098 	mov	dpx,a
      000580 D0 83            [ 8] 1099 	pop	dph
      000582 D0 82            [ 8] 1100 	pop	dpl
      000584 EA               [ 4] 1101 	mov	a,r2
      000585 F0               [ 8] 1102 	movx	@dptr,a
      000586 A3               [12] 1103 	inc	dptr
      000587 EB               [ 4] 1104 	mov	a,r3
      000588 F0               [ 8] 1105 	movx	@dptr,a
      000589 A3               [12] 1106 	inc	dptr
      00058A EC               [ 4] 1107 	mov	a,r4
      00058B F0               [ 8] 1108 	movx	@dptr,a
      00058C                       1109 00121$:
                                   1110 ;	realloc.c:117: if(maxblocksize >= blocksize + sizeof(struct header)) // Create new block from free space
      00058C 90s00r00r15      [12] 1111 	mov	dptr,#_realloc_blocksize_65536_65
      000590 E0               [ 8] 1112 	movx	a,@dptr
      000591 24 06            [ 8] 1113 	add	a,#0x06
      000593 FA               [ 4] 1114 	mov	r2,a
      000594 A3               [12] 1115 	inc	dptr
      000595 E0               [ 8] 1116 	movx	a,@dptr
      000596 34 00            [ 8] 1117 	addc	a,#0x00
      000598 FB               [ 4] 1118 	mov	r3,a
      000599 90s00r00r19      [12] 1119 	mov	dptr,#_realloc_maxblocksize_65536_65
      00059D C3               [ 4] 1120 	clr	c
      00059E E0               [ 8] 1121 	movx	a,@dptr
      00059F 9A               [ 4] 1122 	subb	a,r2
      0005A0 A3               [12] 1123 	inc	dptr
      0005A1 E0               [ 8] 1124 	movx	a,@dptr
      0005A2 9B               [ 4] 1125 	subb	a,r3
      0005A3 50 04            [12] 1126 	jnc	00259$
      0005A5 02s00r06r9C      [16] 1127 	ljmp	00124$
      0005A9                       1128 00259$:
                                   1129 ;	realloc.c:119: header_t *const newheader = (header_t *const)((char HEAPSPACE *)h + blocksize);
      0005A9 90s00r00r06      [12] 1130 	mov	dptr,#_realloc_h_65536_65
                                   1131 ;	genAssign: resultIsFar = FALSE
      0005AD E0               [ 8] 1132 	movx	a,@dptr
      0005AE FA               [ 4] 1133 	mov	r2,a
      0005AF A3               [12] 1134 	inc	dptr
      0005B0 E0               [ 8] 1135 	movx	a,@dptr
      0005B1 FB               [ 4] 1136 	mov	r3,a
      0005B2 A3               [12] 1137 	inc	dptr
      0005B3 E0               [ 8] 1138 	movx	a,@dptr
      0005B4 FC               [ 4] 1139 	mov	r4,a
      0005B5 90s00r00r15      [12] 1140 	mov	dptr,#_realloc_blocksize_65536_65
      0005B9 E0               [ 8] 1141 	movx	a,@dptr
      0005BA 2A               [ 4] 1142 	add	a,r2
      0005BB FA               [ 4] 1143 	mov	r2,a
      0005BC A3               [12] 1144 	inc	dptr
      0005BD E0               [ 8] 1145 	movx	a,@dptr
      0005BE 3B               [ 4] 1146 	addc	a,r3
      0005BF FB               [ 4] 1147 	mov	r3,a
      0005C0 E4               [ 4] 1148 	clr	a
      0005C1 3C               [ 4] 1149 	addc	a,r4
      0005C2 FC               [ 4] 1150 	mov	r4,a
      0005C3 90s00r00r1B      [12] 1151 	mov	dptr,#_realloc_newheader_196608_71
      0005C7 EA               [ 4] 1152 	mov	a,r2
      0005C8 F0               [ 8] 1153 	movx	@dptr,a
      0005C9 A3               [12] 1154 	inc	dptr
      0005CA EB               [ 4] 1155 	mov	a,r3
      0005CB F0               [ 8] 1156 	movx	@dptr,a
      0005CC A3               [12] 1157 	inc	dptr
      0005CD EC               [ 4] 1158 	mov	a,r4
      0005CE F0               [ 8] 1159 	movx	@dptr,a
                                   1160 ;	realloc.c:120: newheader->next = h->next;
      0005CF 90s00r00r06      [12] 1161 	mov	dptr,#_realloc_h_65536_65
      0005D3 E0               [ 8] 1162 	movx	a,@dptr
      0005D4 C0 E0            [ 8] 1163 	push	acc
      0005D6 A3               [12] 1164 	inc	dptr
      0005D7 E0               [ 8] 1165 	movx	a,@dptr
      0005D8 C0 E0            [ 8] 1166 	push	acc
      0005DA A3               [12] 1167 	inc	dptr
      0005DB E0               [ 8] 1168 	movx	a,@dptr
      0005DC F5 93            [ 8] 1169 	mov	dpx,a
      0005DE D0 83            [ 8] 1170 	pop	dph
      0005E0 D0 82            [ 8] 1171 	pop	dpl
      0005E2 E0               [ 8] 1172 	movx	a,@dptr
      0005E3 A3               [12] 1173 	inc	dptr
      0005E4 FD               [ 4] 1174 	mov	r5,a
      0005E5 E0               [ 8] 1175 	movx	a,@dptr
      0005E6 A3               [12] 1176 	inc	dptr
      0005E7 FE               [ 4] 1177 	mov	r6,a
      0005E8 E0               [ 8] 1178 	movx	a,@dptr
      0005E9 FF               [ 4] 1179 	mov	r7,a
      0005EA 90s00r00r1B      [12] 1180 	mov	dptr,#_realloc_newheader_196608_71
      0005EE E0               [ 8] 1181 	movx	a,@dptr
      0005EF C0 E0            [ 8] 1182 	push	acc
      0005F1 A3               [12] 1183 	inc	dptr
      0005F2 E0               [ 8] 1184 	movx	a,@dptr
      0005F3 C0 E0            [ 8] 1185 	push	acc
      0005F5 A3               [12] 1186 	inc	dptr
      0005F6 E0               [ 8] 1187 	movx	a,@dptr
      0005F7 F5 93            [ 8] 1188 	mov	dpx,a
      0005F9 D0 83            [ 8] 1189 	pop	dph
      0005FB D0 82            [ 8] 1190 	pop	dpl
      0005FD ED               [ 4] 1191 	mov	a,r5
      0005FE F0               [ 8] 1192 	movx	@dptr,a
      0005FF A3               [12] 1193 	inc	dptr
      000600 EE               [ 4] 1194 	mov	a,r6
      000601 F0               [ 8] 1195 	movx	@dptr,a
      000602 A3               [12] 1196 	inc	dptr
      000603 EF               [ 4] 1197 	mov	a,r7
      000604 F0               [ 8] 1198 	movx	@dptr,a
                                   1199 ;	realloc.c:121: newheader->next_free = *f;
      000605 90s00r00r1B      [12] 1200 	mov	dptr,#_realloc_newheader_196608_71
      000609 E0               [ 8] 1201 	movx	a,@dptr
      00060A 24 03            [ 8] 1202 	add	a,#0x03
      00060C FD               [ 4] 1203 	mov	r5,a
      00060D A3               [12] 1204 	inc	dptr
      00060E E0               [ 8] 1205 	movx	a,@dptr
      00060F 34 00            [ 8] 1206 	addc	a,#0x00
      000611 FE               [ 4] 1207 	mov	r6,a
      000612 A3               [12] 1208 	inc	dptr
      000613 E0               [ 8] 1209 	movx	a,@dptr
      000614 34 00            [ 8] 1210 	addc	a,#0x00
      000616 FF               [ 4] 1211 	mov	r7,a
      000617 90s00r00r0F      [12] 1212 	mov	dptr,#_realloc_f_65536_65
      00061B E0               [ 8] 1213 	movx	a,@dptr
      00061C C0 E0            [ 8] 1214 	push	acc
      00061E A3               [12] 1215 	inc	dptr
      00061F E0               [ 8] 1216 	movx	a,@dptr
      000620 C0 E0            [ 8] 1217 	push	acc
      000622 A3               [12] 1218 	inc	dptr
      000623 E0               [ 8] 1219 	movx	a,@dptr
      000624 F5 93            [ 8] 1220 	mov	dpx,a
      000626 D0 83            [ 8] 1221 	pop	dph
      000628 D0 82            [ 8] 1222 	pop	dpl
      00062A E0               [ 8] 1223 	movx	a,@dptr
      00062B A3               [12] 1224 	inc	dptr
      00062C F8               [ 4] 1225 	mov	r0,a
      00062D E0               [ 8] 1226 	movx	a,@dptr
      00062E A3               [12] 1227 	inc	dptr
      00062F F9               [ 4] 1228 	mov	r1,a
      000630 E0               [ 8] 1229 	movx	a,@dptr
      000631 FA               [ 4] 1230 	mov	r2,a
      000632 8D 82            [ 8] 1231 	mov	dpl,r5
      000634 8E 83            [ 8] 1232 	mov	dph,r6
      000636 8F 93            [ 8] 1233 	mov	dpx,r7
      000638 E8               [ 4] 1234 	mov	a,r0
      000639 F0               [ 8] 1235 	movx	@dptr,a
      00063A A3               [12] 1236 	inc	dptr
      00063B E9               [ 4] 1237 	mov	a,r1
      00063C F0               [ 8] 1238 	movx	@dptr,a
      00063D A3               [12] 1239 	inc	dptr
      00063E EA               [ 4] 1240 	mov	a,r2
      00063F F0               [ 8] 1241 	movx	@dptr,a
                                   1242 ;	realloc.c:122: *f = newheader;
      000640 90s00r00r0F      [12] 1243 	mov	dptr,#_realloc_f_65536_65
      000644 E0               [ 8] 1244 	movx	a,@dptr
      000645 C0 E0            [ 8] 1245 	push	acc
      000647 A3               [12] 1246 	inc	dptr
      000648 E0               [ 8] 1247 	movx	a,@dptr
      000649 C0 E0            [ 8] 1248 	push	acc
      00064B A3               [12] 1249 	inc	dptr
      00064C E0               [ 8] 1250 	movx	a,@dptr
      00064D F5 93            [ 8] 1251 	mov	dpx,a
      00064F D0 83            [ 8] 1252 	pop	dph
      000651 D0 82            [ 8] 1253 	pop	dpl
      000653 75 86 01         [12] 1254 	mov     dps, #1
      000656 90s00r00r1B      [12] 1255 	mov     dptr, #_realloc_newheader_196608_71
      00065A E0               [ 8] 1256 	movx	a,@dptr
      00065B 15 86            [ 8] 1257 	dec	dps
      00065D F0               [ 8] 1258 	movx	@dptr,a
      00065E A3               [12] 1259 	inc	dptr
      00065F 05 86            [ 8] 1260 	inc	dps
      000661 A3               [12] 1261 	inc	dptr
      000662 E0               [ 8] 1262 	movx	a,@dptr
      000663 15 86            [ 8] 1263 	dec	dps
      000665 F0               [ 8] 1264 	movx	@dptr,a
      000666 A3               [12] 1265 	inc	dptr
      000667 05 86            [ 8] 1266 	inc	dps
      000669 A3               [12] 1267 	inc	dptr
      00066A E0               [ 8] 1268 	movx	a,@dptr
      00066B 15 86            [ 8] 1269 	dec	dps
      00066D F0               [ 8] 1270 	movx	@dptr,a
                                   1271 ;	realloc.c:123: h->next = newheader;
      00066E 90s00r00r06      [12] 1272 	mov	dptr,#_realloc_h_65536_65
      000672 E0               [ 8] 1273 	movx	a,@dptr
      000673 C0 E0            [ 8] 1274 	push	acc
      000675 A3               [12] 1275 	inc	dptr
      000676 E0               [ 8] 1276 	movx	a,@dptr
      000677 C0 E0            [ 8] 1277 	push	acc
      000679 A3               [12] 1278 	inc	dptr
      00067A E0               [ 8] 1279 	movx	a,@dptr
      00067B F5 93            [ 8] 1280 	mov	dpx,a
      00067D D0 83            [ 8] 1281 	pop	dph
      00067F D0 82            [ 8] 1282 	pop	dpl
      000681 75 86 01         [12] 1283 	mov     dps, #1
      000684 90s00r00r1B      [12] 1284 	mov     dptr, #_realloc_newheader_196608_71
      000688 E0               [ 8] 1285 	movx	a,@dptr
      000689 15 86            [ 8] 1286 	dec	dps
      00068B F0               [ 8] 1287 	movx	@dptr,a
      00068C A3               [12] 1288 	inc	dptr
      00068D 05 86            [ 8] 1289 	inc	dps
      00068F A3               [12] 1290 	inc	dptr
      000690 E0               [ 8] 1291 	movx	a,@dptr
      000691 15 86            [ 8] 1292 	dec	dps
      000693 F0               [ 8] 1293 	movx	@dptr,a
      000694 A3               [12] 1294 	inc	dptr
      000695 05 86            [ 8] 1295 	inc	dps
      000697 A3               [12] 1296 	inc	dptr
      000698 E0               [ 8] 1297 	movx	a,@dptr
      000699 15 86            [ 8] 1298 	dec	dps
      00069B F0               [ 8] 1299 	movx	@dptr,a
      00069C                       1300 00124$:
                                   1301 ;	realloc.c:126: return(&(h->next_free));
      00069C 90s00r00r06      [12] 1302 	mov	dptr,#_realloc_h_65536_65
      0006A0 E0               [ 8] 1303 	movx	a,@dptr
      0006A1 24 03            [ 8] 1304 	add	a,#0x03
      0006A3 FA               [ 4] 1305 	mov	r2,a
      0006A4 A3               [12] 1306 	inc	dptr
      0006A5 E0               [ 8] 1307 	movx	a,@dptr
      0006A6 34 00            [ 8] 1308 	addc	a,#0x00
      0006A8 FB               [ 4] 1309 	mov	r3,a
      0006A9 A3               [12] 1310 	inc	dptr
      0006AA E0               [ 8] 1311 	movx	a,@dptr
      0006AB 34 00            [ 8] 1312 	addc	a,#0x00
      0006AD FC               [ 4] 1313 	mov	r4,a
      0006AE 8A 82            [ 8] 1314 	mov	dpl,r2
      0006B0 8B 83            [ 8] 1315 	mov	dph,r3
      0006B2 8C 93            [ 8] 1316 	mov	dpx,r4
      0006B4 02s00r07rD5      [16] 1317 	ljmp	00133$
      0006B8                       1318 00126$:
                                   1319 ;	realloc.c:129: if(ret = malloc(size))
      0006B8 05 86            [ 8] 1320 	inc	dps
      0006BA 90s00r00r00      [12] 1321 	mov	dptr,#_realloc_PARM_2
      0006BE E0               [ 8] 1322 	movx	a,@dptr
      0006BF F5 82            [ 8] 1323 	mov	dpl,a
      0006C1 A3               [12] 1324 	inc	dptr
      0006C2 E0               [ 8] 1325 	movx	a,@dptr
      0006C3 F5 83            [ 8] 1326 	mov	dph,a
      0006C5 75 86 00         [12] 1327 	mov	dps,#0
      0006C8 12s00r00r00      [16] 1328 	lcall	_malloc
      0006CC AA 82            [ 8] 1329 	mov	r2,dpl
      0006CE AB 83            [ 8] 1330 	mov	r3,dph
      0006D0 AC 93            [ 8] 1331 	mov	r4,dpx
                                   1332 ;	genAssign: resultIsFar = TRUE
      0006D2 8A 05            [ 8] 1333 	mov	ar5,r2
      0006D4 8B 06            [ 8] 1334 	mov	ar6,r3
      0006D6 8C 07            [ 8] 1335 	mov	ar7,r4
      0006D8 EA               [ 4] 1336 	mov	a,r2
      0006D9 4B               [ 4] 1337 	orl	a,r3
      0006DA 4C               [ 4] 1338 	orl	a,r4
      0006DB 70 04            [12] 1339 	jnz	00260$
      0006DD 02s00r07rD1      [16] 1340 	ljmp	00128$
      0006E1                       1341 00260$:
                                   1342 ;	realloc.c:131: size_t oldsize = oldblocksize - offsetof(struct header, next_free);
      0006E1 90s00r00r17      [12] 1343 	mov	dptr,#_realloc_oldblocksize_65536_65
      0006E5 E0               [ 8] 1344 	movx	a,@dptr
      0006E6 24 FD            [ 8] 1345 	add	a,#0xfd
      0006E8 FA               [ 4] 1346 	mov	r2,a
      0006E9 A3               [12] 1347 	inc	dptr
      0006EA E0               [ 8] 1348 	movx	a,@dptr
      0006EB 34 FF            [ 8] 1349 	addc	a,#0xff
      0006ED FB               [ 4] 1350 	mov	r3,a
                                   1351 ;	genAssign: resultIsFar = TRUE
      0006EE 90s00r00r1E      [12] 1352 	mov	dptr,#_realloc_oldsize_131072_72
      0006F2 EA               [ 4] 1353 	mov	a,r2
      0006F3 F0               [ 8] 1354 	movx	@dptr,a
      0006F4 A3               [12] 1355 	inc	dptr
      0006F5 EB               [ 4] 1356 	mov	a,r3
      0006F6 F0               [ 8] 1357 	movx	@dptr,a
                                   1358 ;	realloc.c:132: memcpy(ret, ptr, size <= oldsize ? size : oldsize);
                                   1359 ;	genAssign: resultIsFar = FALSE
      0006F7 8D 04            [ 8] 1360 	mov	ar4,r5
      0006F9 8E 00            [ 8] 1361 	mov	ar0,r6
      0006FB 8F 01            [ 8] 1362 	mov	ar1,r7
      0006FD 7A 00            [ 8] 1363 	mov	r2,#0x00
      0006FF 90s00r00r1E      [12] 1364 	mov	dptr,#_realloc_oldsize_131072_72
      000703 75 86 01         [12] 1365 	mov	dps, #1
      000706 90s00r00r00      [12] 1366 	mov	dptr, #_realloc_PARM_2
      00070A 15 86            [ 8] 1367 	dec	dps
      00070C C3               [ 4] 1368 	clr	c
      00070D E0               [ 8] 1369 	movx	a,@dptr
      00070E 75 86 01         [12] 1370 	mov	dps,#1
      000711 C5 F0            [ 8] 1371 	xch	a, b
      000713 E0               [ 8] 1372 	movx	a,@dptr
      000714 75 86 00         [12] 1373 	mov	dps,#0
      000717 C5 F0            [ 8] 1374 	xch	a, b
      000719 95 F0            [ 8] 1375 	subb	a,b
      00071B A3               [12] 1376 	inc	dptr
      00071C E0               [ 8] 1377 	movx	a,@dptr
      00071D 75 86 01         [12] 1378 	mov	dps,#1
      000720 C5 F0            [ 8] 1379 	xch	a, b
      000722 A3               [12] 1380 	inc	dptr
      000723 E0               [ 8] 1381 	movx	a,@dptr
      000724 75 86 00         [12] 1382 	mov	dps,#0
      000727 C5 F0            [ 8] 1383 	xch	a, b
      000729 95 F0            [ 8] 1384 	subb	a,b
      00072B 92*00            [ 8] 1385 	mov	_realloc_sloc2_1_0,c
      00072D 20*00 16         [12] 1386 	jb   _realloc_sloc2_1_0,00137$
      000730                       1387 00261$:
      000730 90s00r00r00      [12] 1388 	mov	dptr,#_realloc_PARM_2
                                   1389 ;	genAssign: resultIsFar = TRUE
      000734 75 86 21         [12] 1390 	mov	dps,#0x21
      000737 90s00r00r24      [12] 1391 	mov	dptr,#_realloc_sloc1_1_0
      00073B E0               [ 8] 1392 	movx	a,@dptr
      00073C F0               [ 8] 1393 	movx	@dptr,a
      00073D A3               [12] 1394 	inc	dptr
      00073E A3               [12] 1395 	inc	dptr
      00073F E0               [ 8] 1396 	movx	a,@dptr
      000740 F0               [ 8] 1397 	movx	@dptr,a
      000741 75 86 00         [12] 1398 	mov	dps,#0
      000744 80 14            [12] 1399 	sjmp 00138$
      000746                       1400 00137$:
      000746 90s00r00r1E      [12] 1401 	mov	dptr,#_realloc_oldsize_131072_72
                                   1402 ;	genAssign: resultIsFar = TRUE
      00074A 75 86 21         [12] 1403 	mov	dps,#0x21
      00074D 90s00r00r24      [12] 1404 	mov	dptr,#_realloc_sloc1_1_0
      000751 E0               [ 8] 1405 	movx	a,@dptr
      000752 F0               [ 8] 1406 	movx	@dptr,a
      000753 A3               [12] 1407 	inc	dptr
      000754 A3               [12] 1408 	inc	dptr
      000755 E0               [ 8] 1409 	movx	a,@dptr
      000756 F0               [ 8] 1410 	movx	@dptr,a
      000757 75 86 00         [12] 1411 	mov	dps,#0
      00075A                       1412 00138$:
      00075A 90s00r00r02      [12] 1413 	mov	dptr,#_realloc_ptr_65536_64
                                   1414 ;	genAssign: resultIsFar = TRUE
      00075E 75 86 21         [12] 1415 	mov	dps,#0x21
      000761 90s00r00r00      [12] 1416 	mov	dptr,#___memcpy_PARM_2
      000765 E0               [ 8] 1417 	movx	a,@dptr
      000766 F0               [ 8] 1418 	movx	@dptr,a
      000767 A3               [12] 1419 	inc	dptr
      000768 A3               [12] 1420 	inc	dptr
      000769 E0               [ 8] 1421 	movx	a,@dptr
      00076A F0               [ 8] 1422 	movx	@dptr,a
      00076B A3               [12] 1423 	inc	dptr
      00076C A3               [12] 1424 	inc	dptr
      00076D E0               [ 8] 1425 	movx	a,@dptr
      00076E F0               [ 8] 1426 	movx	@dptr,a
      00076F A3               [12] 1427 	inc	dptr
      000770 A3               [12] 1428 	inc	dptr
      000771 E0               [ 8] 1429 	movx	a,@dptr
      000772 F0               [ 8] 1430 	movx	@dptr,a
      000773 75 86 00         [12] 1431 	mov	dps,#0
      000776 90s00r00r24      [12] 1432 	mov	dptr,#_realloc_sloc1_1_0
                                   1433 ;	genAssign: resultIsFar = TRUE
      00077A 75 86 21         [12] 1434 	mov	dps,#0x21
      00077D 90s00r00r00      [12] 1435 	mov	dptr,#___memcpy_PARM_3
      000781 E0               [ 8] 1436 	movx	a,@dptr
      000782 F0               [ 8] 1437 	movx	@dptr,a
      000783 A3               [12] 1438 	inc	dptr
      000784 A3               [12] 1439 	inc	dptr
      000785 E0               [ 8] 1440 	movx	a,@dptr
      000786 F0               [ 8] 1441 	movx	@dptr,a
      000787 75 86 00         [12] 1442 	mov	dps,#0
      00078A C0 05            [ 8] 1443 	push	ar5
      00078C C0 06            [ 8] 1444 	push	ar6
      00078E C0 07            [ 8] 1445 	push	ar7
      000790 8C 82            [ 8] 1446 	mov	dpl,r4
      000792 88 83            [ 8] 1447 	mov	dph,r0
      000794 89 93            [ 8] 1448 	mov	dpx,r1
      000796 8A F0            [ 8] 1449 	mov	b,r2
      000798 12s00r00r00      [16] 1450 	lcall	___memcpy
      00079C D0 07            [ 8] 1451 	pop	ar7
      00079E D0 06            [ 8] 1452 	pop	ar6
      0007A0 D0 05            [ 8] 1453 	pop	ar5
                                   1454 ;	realloc.c:133: free(ptr);
      0007A2 C0 05            [ 8] 1455 	push	ar5
      0007A4 C0 06            [ 8] 1456 	push	ar6
      0007A6 C0 07            [ 8] 1457 	push	ar7
      0007A8 05 86            [ 8] 1458 	inc	dps
      0007AA 90s00r00r02      [12] 1459 	mov	dptr,#_realloc_ptr_65536_64
      0007AE E0               [ 8] 1460 	movx	a,@dptr
      0007AF F5 82            [ 8] 1461 	mov	dpl,a
      0007B1 A3               [12] 1462 	inc	dptr
      0007B2 E0               [ 8] 1463 	movx	a,@dptr
      0007B3 F5 83            [ 8] 1464 	mov	dph,a
      0007B5 A3               [12] 1465 	inc	dptr
      0007B6 E0               [ 8] 1466 	movx	a,@dptr
      0007B7 F5 93            [ 8] 1467 	mov	dpx,a
      0007B9 A3               [12] 1468 	inc	dptr
      0007BA E0               [ 8] 1469 	movx	a,@dptr
      0007BB F5 F0            [ 8] 1470 	mov	b,a
      0007BD 75 86 00         [12] 1471 	mov	dps,#0
      0007C0 12s00r00r00      [16] 1472 	lcall	_free
      0007C4 D0 07            [ 8] 1473 	pop	ar7
      0007C6 D0 06            [ 8] 1474 	pop	ar6
      0007C8 D0 05            [ 8] 1475 	pop	ar5
                                   1476 ;	realloc.c:134: return(ret);
      0007CA 8D 82            [ 8] 1477 	mov	dpl,r5
      0007CC 8E 83            [ 8] 1478 	mov	dph,r6
      0007CE 8F 93            [ 8] 1479 	mov	dpx,r7
                                   1480 ;	realloc.c:137: return(0);
                                   1481 ;	realloc.c:138: }
      0007D0 22               [16] 1482 	ret
      0007D1                       1483 00128$:
      0007D1 90 00 00 00      [12] 1484 	mov     dptr,#0x0000
      0007D5                       1485 00133$:
      0007D5 22               [16] 1486 	ret
                                   1487 	.area CSEG    (CODE)
                                   1488 	.area CONST   (CODE)
                                   1489 	.area XINIT   (CODE)
                                   1490 	.area CABS    (ABS,CODE)
