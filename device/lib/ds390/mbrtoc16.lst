                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module mbrtoc16
                                      6 	.optsdcc -mds390 --model-flat24
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; CPU specific extensions
                                     10 ;--------------------------------------------------------
                                     11 	.DS80C390
                                     12 	.amode	2	; 24 bit flat addressing
                           000082    13 dpl	=	0x82
                           000083    14 dph	=	0x83
                           000084    15 dpl1	=	0x84
                           000085    16 dph1	=	0x85
                           000086    17 dps	=	0x86
                           000093    18 dpx	=	0x93
                           000095    19 dpx1	=	0x95
                           00009B    20 esp	=	0x9B
                           00009C    21 ap	=	0x9C
                           00009C    22 acc1	=	0x9C
                           0000D1    23 mcnt0	=	0xD1
                           0000D2    24 mcnt1	=	0xD2
                           0000D3    25 ma	=	0xD3
                           0000D4    26 mb	=	0xD4
                           0000D5    27 mc	=	0xD5
                           00009D    28 acon	=	0x9D
                           0000C6    29 mcon	=	0xC6
                           0000D1    30 F1	=	0xD1	; user flag
                                     31 ;--------------------------------------------------------
                                     32 ; Public variables in this module
                                     33 ;--------------------------------------------------------
                                     34 	.globl _mbrtowc
                                     35 	.globl _mbrtoc16_PARM_4
                                     36 	.globl _mbrtoc16_PARM_3
                                     37 	.globl _mbrtoc16_PARM_2
                                     38 	.globl _mbrtoc16
                                     39 ;--------------------------------------------------------
                                     40 ; special function registers
                                     41 ;--------------------------------------------------------
                                     42 ;--------------------------------------------------------
                                     43 ; special function bits
                                     44 ;--------------------------------------------------------
                                     45 ;--------------------------------------------------------
                                     46 ; overlayable register banks
                                     47 ;--------------------------------------------------------
                                     48 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         49 	.ds 8
                                     50 ;--------------------------------------------------------
                                     51 ; internal ram data
                                     52 ;--------------------------------------------------------
                                     53 	.area DSEG    (DATA)
                                     54 ;--------------------------------------------------------
                                     55 ; overlayable items in internal ram
                                     56 ;--------------------------------------------------------
                                     57 ;--------------------------------------------------------
                                     58 ; indirectly addressable internal ram data
                                     59 ;--------------------------------------------------------
                                     60 	.area ISEG    (DATA)
                                     61 ;--------------------------------------------------------
                                     62 ; absolute internal ram data
                                     63 ;--------------------------------------------------------
                                     64 	.area IABS    (ABS,DATA)
                                     65 	.area IABS    (ABS,DATA)
                                     66 ;--------------------------------------------------------
                                     67 ; bit data
                                     68 ;--------------------------------------------------------
                                     69 	.area BSEG    (BIT)
                                     70 ;--------------------------------------------------------
                                     71 ; paged external ram data
                                     72 ;--------------------------------------------------------
                                     73 	.area PSEG    (PAG,XDATA)
                                     74 ;--------------------------------------------------------
                                     75 ; uninitialized external ram data
                                     76 ;--------------------------------------------------------
                                     77 	.area XSEG    (XDATA)
      000000                         78 _mbrtoc16_PARM_2:
      000000                         79 	.ds 4
      000004                         80 _mbrtoc16_PARM_3:
      000004                         81 	.ds 2
      000006                         82 _mbrtoc16_PARM_4:
      000006                         83 	.ds 4
      00000A                         84 _mbrtoc16_pc16_65536_15:
      00000A                         85 	.ds 4
      00000E                         86 _mbrtoc16_codepoint_65536_16:
      00000E                         87 	.ds 4
      000012                         88 _mbrtoc16_ret_65536_16:
      000012                         89 	.ds 2
      000014                         90 _mbrtoc16_sps_65536_16:
      000014                         91 	.ds 3
      000017                         92 _mbrtoc16_sloc0_1_0:
      000017                         93 	.ds 4
      00001B                         94 _mbrtoc16_sloc1_1_0:
      00001B                         95 	.ds 2
      00001D                         96 _mbrtoc16_sloc2_1_0:
      00001D                         97 	.ds 4
                                     98 ;--------------------------------------------------------
                                     99 ; absolute external ram data
                                    100 ;--------------------------------------------------------
                                    101 	.area XABS    (ABS,XDATA)
                                    102 ;--------------------------------------------------------
                                    103 ; initialized external ram data
                                    104 ;--------------------------------------------------------
                                    105 	.area XISEG   (XDATA)
                                    106 ;--------------------------------------------------------
                                    107 ; global & static initialisations
                                    108 ;--------------------------------------------------------
                                    109 	.area HOME    (CODE)
                                    110 	.area GSINIT  (CODE)
                                    111 	.area GSFINAL (CODE)
                                    112 	.area GSINIT  (CODE)
                                    113 ;--------------------------------------------------------
                                    114 ; Home
                                    115 ;--------------------------------------------------------
                                    116 	.area HOME    (CODE)
                                    117 	.area HOME    (CODE)
                                    118 ;--------------------------------------------------------
                                    119 ; code
                                    120 ;--------------------------------------------------------
                                    121 	.area CSEG    (CODE)
                                    122 ;------------------------------------------------------------
                                    123 ;Allocation info for local variables in function 'mbrtoc16'
                                    124 ;------------------------------------------------------------
                                    125 ;s                         Allocated with name '_mbrtoc16_PARM_2'
                                    126 ;n                         Allocated with name '_mbrtoc16_PARM_3'
                                    127 ;ps                        Allocated with name '_mbrtoc16_PARM_4'
                                    128 ;pc16                      Allocated with name '_mbrtoc16_pc16_65536_15'
                                    129 ;codepoint                 Allocated with name '_mbrtoc16_codepoint_65536_16'
                                    130 ;ret                       Allocated with name '_mbrtoc16_ret_65536_16'
                                    131 ;sps                       Allocated with name '_mbrtoc16_sps_65536_16'
                                    132 ;low_surrogate             Allocated to registers r4 r3 
                                    133 ;sloc0                     Allocated with name '_mbrtoc16_sloc0_1_0'
                                    134 ;sloc1                     Allocated with name '_mbrtoc16_sloc1_1_0'
                                    135 ;sloc2                     Allocated with name '_mbrtoc16_sloc2_1_0'
                                    136 ;------------------------------------------------------------
                                    137 ;	mbrtoc16.c:34: size_t mbrtoc16(char16_t *restrict pc16, const char *restrict s, size_t n, mbstate_t *restrict ps)
                                    138 ;	-----------------------------------------
                                    139 ;	 function mbrtoc16
                                    140 ;	-----------------------------------------
      000000                        141 _mbrtoc16:
                           000002   142 	ar2 = 0x02
                           000003   143 	ar3 = 0x03
                           000004   144 	ar4 = 0x04
                           000005   145 	ar5 = 0x05
                           000006   146 	ar6 = 0x06
                           000007   147 	ar7 = 0x07
                           000000   148 	ar0 = 0x00
                           000001   149 	ar1 = 0x01
      000000 75 86 01         [12]  150 	mov     dps, #1
      000003 90s00r00r0A      [12]  151 	mov     dptr, #_mbrtoc16_pc16_65536_15
      000007 E5 82            [ 8]  152 	mov	a,dpl
      000009 F0               [ 8]  153 	movx	@dptr,a
      00000A A3               [12]  154 	inc	dptr
      00000B E5 83            [ 8]  155 	mov	a,dph
      00000D F0               [ 8]  156 	movx	@dptr,a
      00000E A3               [12]  157 	inc	dptr
      00000F E5 93            [ 8]  158 	mov	a,dpx
      000011 F0               [ 8]  159 	movx	@dptr,a
      000012 A3               [12]  160 	inc	dptr
      000013 E5 F0            [ 8]  161 	mov	a,b
      000015 F0               [ 8]  162 	movx	@dptr,a
      000016 75 86 00         [12]  163 	mov	dps,#0
                                    164 ;	mbrtoc16.c:41: if(!s)
      000019 90s00r00r00      [12]  165 	mov	dptr,#_mbrtoc16_PARM_2
                                    166 ;	genAssign: resultIsFar = FALSE
      00001D E0               [ 8]  167 	movx	a,@dptr
      00001E FE               [ 4]  168 	mov	r6,a
      00001F A3               [12]  169 	inc	dptr
      000020 E0               [ 8]  170 	movx	a,@dptr
      000021 FF               [ 4]  171 	mov	r7,a
      000022 A3               [12]  172 	inc	dptr
      000023 E0               [ 8]  173 	movx	a,@dptr
      000024 F8               [ 4]  174 	mov	r0,a
      000025 A3               [12]  175 	inc	dptr
      000026 E0               [ 8]  176 	movx	a,@dptr
      000027 F9               [ 4]  177 	mov	r1,a
      000028 90s00r00r00      [12]  178 	mov	dptr,#_mbrtoc16_PARM_2
      00002C E0               [ 8]  179 	movx	a,@dptr
      00002D F5 F0            [ 8]  180 	mov	b,a
      00002F A3               [12]  181 	inc	dptr
      000030 E0               [ 8]  182 	movx	a,@dptr
      000031 42 F0            [ 8]  183 	orl	b,a
      000033 A3               [12]  184 	inc	dptr
      000034 E0               [ 8]  185 	movx	a,@dptr
      000035 45 F0            [ 8]  186 	orl	a,b
      000037 70 4A            [12]  187 	jnz  00102$
      000039                        188 00157$:
                                    189 ;	mbrtoc16.c:42: return(mbrtoc16(0, "", 1, ps));
      000039 90s00r00r06      [12]  190 	mov	dptr,#_mbrtoc16_PARM_4
                                    191 ;	genAssign: resultIsFar = FALSE
      00003D E0               [ 8]  192 	movx	a,@dptr
      00003E FA               [ 4]  193 	mov	r2,a
      00003F A3               [12]  194 	inc	dptr
      000040 E0               [ 8]  195 	movx	a,@dptr
      000041 FB               [ 4]  196 	mov	r3,a
      000042 A3               [12]  197 	inc	dptr
      000043 E0               [ 8]  198 	movx	a,@dptr
      000044 FC               [ 4]  199 	mov	r4,a
      000045 A3               [12]  200 	inc	dptr
      000046 E0               [ 8]  201 	movx	a,@dptr
      000047 FD               [ 4]  202 	mov	r5,a
                                    203 ;	genAssign: resultIsFar = TRUE
      000048 90s00r00r00      [12]  204 	mov	dptr,#_mbrtoc16_PARM_2
      00004C 74r00            [ 8]  205 	mov	a,#___str_0
      00004E F0               [ 8]  206 	movx	@dptr,a
      00004F A3               [12]  207 	inc	dptr
      000050 74s00            [ 8]  208 	mov	a,#(___str_0 >> 8)
      000052 F0               [ 8]  209 	movx	@dptr,a
      000053 A3               [12]  210 	inc	dptr
      000054 74s00            [ 8]  211 	mov	a,#(___str_0 >> 16)
      000056 F0               [ 8]  212 	movx	@dptr,a
      000057 A3               [12]  213 	inc	dptr
      000058 74 80            [ 8]  214 	mov	a,#0x80
      00005A F0               [ 8]  215 	movx	@dptr,a
                                    216 ;	genAssign: resultIsFar = TRUE
      00005B 90s00r00r04      [12]  217 	mov	dptr,#_mbrtoc16_PARM_3
      00005F 74 01            [ 8]  218 	mov	a,#0x01
      000061 F0               [ 8]  219 	movx	@dptr,a
      000062 E4               [ 4]  220 	clr	a
      000063 A3               [12]  221 	inc	dptr
      000064 F0               [ 8]  222 	movx	@dptr,a
                                    223 ;	genAssign: resultIsFar = TRUE
      000065 90s00r00r06      [12]  224 	mov	dptr,#_mbrtoc16_PARM_4
      000069 EA               [ 4]  225 	mov	a,r2
      00006A F0               [ 8]  226 	movx	@dptr,a
      00006B A3               [12]  227 	inc	dptr
      00006C EB               [ 4]  228 	mov	a,r3
      00006D F0               [ 8]  229 	movx	@dptr,a
      00006E A3               [12]  230 	inc	dptr
      00006F EC               [ 4]  231 	mov	a,r4
      000070 F0               [ 8]  232 	movx	@dptr,a
      000071 A3               [12]  233 	inc	dptr
      000072 ED               [ 4]  234 	mov	a,r5
      000073 F0               [ 8]  235 	movx	@dptr,a
      000074 90 00 00 00      [12]  236 	mov  dptr,#0x0000
      000078 75 F0 00         [12]  237 	mov	b,#0x00
      00007B 12s00r00r00      [16]  238 	lcall	_mbrtoc16
      00007F 02s00r04r17      [16]  239 	ljmp	00119$
      000083                        240 00102$:
                                    241 ;	mbrtoc16.c:44: if(!ps)
      000083 90s00r00r06      [12]  242 	mov	dptr,#_mbrtoc16_PARM_4
      000087 E0               [ 8]  243 	movx	a,@dptr
      000088 F5 F0            [ 8]  244 	mov	b,a
      00008A A3               [12]  245 	inc	dptr
      00008B E0               [ 8]  246 	movx	a,@dptr
      00008C 42 F0            [ 8]  247 	orl	b,a
      00008E A3               [12]  248 	inc	dptr
      00008F E0               [ 8]  249 	movx	a,@dptr
      000090 45 F0            [ 8]  250 	orl	a,b
      000092 70 12            [12]  251 	jnz  00104$
      000094                        252 00158$:
                                    253 ;	mbrtoc16.c:45: ps = &sps;
      000094 90s00r00r06      [12]  254 	mov	dptr,#_mbrtoc16_PARM_4
      000098 74r14            [ 8]  255 	mov	a,#_mbrtoc16_sps_65536_16
      00009A F0               [ 8]  256 	movx	@dptr,a
      00009B A3               [12]  257 	inc	dptr
      00009C 74s00            [ 8]  258 	mov	a,#(_mbrtoc16_sps_65536_16 >> 8)
      00009E F0               [ 8]  259 	movx	@dptr,a
      00009F A3               [12]  260 	inc	dptr
      0000A0 74s00            [ 8]  261 	mov	a,#(_mbrtoc16_sps_65536_16 >> 16)
      0000A2 F0               [ 8]  262 	movx	@dptr,a
      0000A3 A3               [12]  263 	inc	dptr
      0000A4 E4               [ 4]  264 	clr	a
      0000A5 F0               [ 8]  265 	movx	@dptr,a
      0000A6                        266 00104$:
                                    267 ;	mbrtoc16.c:47: if(!ps->c[0] && (ps->c[1] || ps->c[2]))
      0000A6 90s00r00r06      [12]  268 	mov	dptr,#_mbrtoc16_PARM_4
                                    269 ;	genAssign: resultIsFar = TRUE
      0000AA 75 86 21         [12]  270 	mov	dps,#0x21
      0000AD 90s00r00r17      [12]  271 	mov	dptr,#_mbrtoc16_sloc0_1_0
      0000B1 E0               [ 8]  272 	movx	a,@dptr
      0000B2 F0               [ 8]  273 	movx	@dptr,a
      0000B3 A3               [12]  274 	inc	dptr
      0000B4 A3               [12]  275 	inc	dptr
      0000B5 E0               [ 8]  276 	movx	a,@dptr
      0000B6 F0               [ 8]  277 	movx	@dptr,a
      0000B7 A3               [12]  278 	inc	dptr
      0000B8 A3               [12]  279 	inc	dptr
      0000B9 E0               [ 8]  280 	movx	a,@dptr
      0000BA F0               [ 8]  281 	movx	@dptr,a
      0000BB A3               [12]  282 	inc	dptr
      0000BC A3               [12]  283 	inc	dptr
      0000BD E0               [ 8]  284 	movx	a,@dptr
      0000BE F0               [ 8]  285 	movx	@dptr,a
      0000BF 75 86 00         [12]  286 	mov	dps,#0
      0000C2 90s00r00r17      [12]  287 	mov	dptr,#_mbrtoc16_sloc0_1_0
      0000C6 E0               [ 8]  288 	movx	a,@dptr
      0000C7 C0 E0            [ 8]  289 	push	acc
      0000C9 A3               [12]  290 	inc	dptr
      0000CA E0               [ 8]  291 	movx	a,@dptr
      0000CB C0 E0            [ 8]  292 	push	acc
      0000CD A3               [12]  293 	inc	dptr
      0000CE E0               [ 8]  294 	movx	a,@dptr
      0000CF C0 E0            [ 8]  295 	push	acc
      0000D1 A3               [12]  296 	inc	dptr
      0000D2 E0               [ 8]  297 	movx	a,@dptr
      0000D3 F5 F0            [ 8]  298 	mov	b,a
      0000D5 D0 93            [ 8]  299 	pop	dpx
      0000D7 D0 83            [ 8]  300 	pop	dph
      0000D9 D0 82            [ 8]  301 	pop	dpl
      0000DB 12s00r00r00      [16]  302 	lcall	__gptrget
      0000DF FA               [ 4]  303 	mov  r2,a
      0000E0 60 04            [12]  304 	jz	00159$
      0000E2 02s00r02r02      [16]  305 	ljmp	00108$
      0000E6                        306 00159$:
      0000E6 90s00r00r17      [12]  307 	mov	dptr,#_mbrtoc16_sloc0_1_0
      0000EA E0               [ 8]  308 	movx	a,@dptr
      0000EB 24 01            [ 8]  309 	add	a,#0x01
      0000ED FA               [ 4]  310 	mov	r2,a
      0000EE A3               [12]  311 	inc	dptr
      0000EF E0               [ 8]  312 	movx	a,@dptr
      0000F0 34 00            [ 8]  313 	addc	a,#0x00
      0000F2 FB               [ 4]  314 	mov	r3,a
      0000F3 A3               [12]  315 	inc	dptr
      0000F4 E0               [ 8]  316 	movx	a,@dptr
      0000F5 34 00            [ 8]  317 	addc	a,#0x00
      0000F7 FC               [ 4]  318 	mov	r4,a
      0000F8 A3               [12]  319 	inc	dptr
      0000F9 E0               [ 8]  320 	movx	a,@dptr
      0000FA FD               [ 4]  321 	mov	r5,a
      0000FB 8A 82            [ 8]  322 	mov	dpl,r2
      0000FD 8B 83            [ 8]  323 	mov	dph,r3
      0000FF 8C 93            [ 8]  324 	mov	dpx,r4
      000101 8D F0            [ 8]  325 	mov	b,r5
      000103 12s00r00r00      [16]  326 	lcall	__gptrget
      000107 FA               [ 4]  327 	mov  r2,a
      000108 70 28            [12]  328 	jnz  00107$
      00010A                        329 00160$:
      00010A 90s00r00r17      [12]  330 	mov	dptr,#_mbrtoc16_sloc0_1_0
      00010E E0               [ 8]  331 	movx	a,@dptr
      00010F 24 02            [ 8]  332 	add	a,#0x02
      000111 FA               [ 4]  333 	mov	r2,a
      000112 A3               [12]  334 	inc	dptr
      000113 E0               [ 8]  335 	movx	a,@dptr
      000114 34 00            [ 8]  336 	addc	a,#0x00
      000116 FB               [ 4]  337 	mov	r3,a
      000117 A3               [12]  338 	inc	dptr
      000118 E0               [ 8]  339 	movx	a,@dptr
      000119 34 00            [ 8]  340 	addc	a,#0x00
      00011B FC               [ 4]  341 	mov	r4,a
      00011C A3               [12]  342 	inc	dptr
      00011D E0               [ 8]  343 	movx	a,@dptr
      00011E FD               [ 4]  344 	mov	r5,a
      00011F 8A 82            [ 8]  345 	mov	dpl,r2
      000121 8B 83            [ 8]  346 	mov	dph,r3
      000123 8C 93            [ 8]  347 	mov	dpx,r4
      000125 8D F0            [ 8]  348 	mov	b,r5
      000127 12s00r00r00      [16]  349 	lcall	__gptrget
      00012B FA               [ 4]  350 	mov  r2,a
      00012C 70 04            [12]  351 	jnz	00161$
      00012E 02s00r02r02      [16]  352 	ljmp	00108$
      000132                        353 00161$:
      000132                        354 00107$:
                                    355 ;	mbrtoc16.c:49: if(pc16)
      000132 90s00r00r0A      [12]  356 	mov	dptr,#_mbrtoc16_pc16_65536_15
      000136 E0               [ 8]  357 	movx	a,@dptr
      000137 F5 F0            [ 8]  358 	mov	b,a
      000139 A3               [12]  359 	inc	dptr
      00013A E0               [ 8]  360 	movx	a,@dptr
      00013B 42 F0            [ 8]  361 	orl	b,a
      00013D A3               [12]  362 	inc	dptr
      00013E E0               [ 8]  363 	movx	a,@dptr
      00013F 45 F0            [ 8]  364 	orl	a,b
      000141 60 78            [12]  365 	jz   00106$
      000143                        366 00162$:
                                    367 ;	mbrtoc16.c:50: *pc16 = ps->c[1] + (ps->c[2] << 8);
      000143 90s00r00r06      [12]  368 	mov	dptr,#_mbrtoc16_PARM_4
                                    369 ;	genAssign: resultIsFar = FALSE
      000147 E0               [ 8]  370 	movx	a,@dptr
      000148 FE               [ 4]  371 	mov	r6,a
      000149 A3               [12]  372 	inc	dptr
      00014A E0               [ 8]  373 	movx	a,@dptr
      00014B FF               [ 4]  374 	mov	r7,a
      00014C A3               [12]  375 	inc	dptr
      00014D E0               [ 8]  376 	movx	a,@dptr
      00014E F8               [ 4]  377 	mov	r0,a
      00014F A3               [12]  378 	inc	dptr
      000150 E0               [ 8]  379 	movx	a,@dptr
      000151 F9               [ 4]  380 	mov	r1,a
      000152 74 01            [ 8]  381 	mov	a,#0x01
      000154 2E               [ 4]  382 	add	a,r6
      000155 FA               [ 4]  383 	mov	r2,a
      000156 E4               [ 4]  384 	clr	a
      000157 3F               [ 4]  385 	addc	a,r7
      000158 FB               [ 4]  386 	mov	r3,a
      000159 E4               [ 4]  387 	clr	a
      00015A 38               [ 4]  388 	addc	a,r0
      00015B FC               [ 4]  389 	mov	r4,a
      00015C 89 05            [ 8]  390 	mov	ar5,r1
      00015E 8A 82            [ 8]  391 	mov	dpl,r2
      000160 8B 83            [ 8]  392 	mov	dph,r3
      000162 8C 93            [ 8]  393 	mov	dpx,r4
      000164 8D F0            [ 8]  394 	mov	b,r5
      000166 12s00r00r00      [16]  395 	lcall	__gptrget
      00016A FA               [ 4]  396 	mov  r2,a
      00016B 90s00r00r1B      [12]  397 	mov  dptr,#_mbrtoc16_sloc1_1_0
      00016F F0               [ 8]  398 	movx @dptr,a
      000170 A3               [12]  399 	inc	dptr
      000171 E4               [ 4]  400 	clr	a
      000172 F0               [ 8]  401 	movx	@dptr,a
      000173 74 02            [ 8]  402 	mov	a,#0x02
      000175 2E               [ 4]  403 	add	a,r6
      000176 FC               [ 4]  404 	mov	r4,a
      000177 E4               [ 4]  405 	clr	a
      000178 3F               [ 4]  406 	addc	a,r7
      000179 FD               [ 4]  407 	mov	r5,a
      00017A E4               [ 4]  408 	clr	a
      00017B 38               [ 4]  409 	addc	a,r0
      00017C FA               [ 4]  410 	mov	r2,a
      00017D 89 03            [ 8]  411 	mov	ar3,r1
      00017F 8C 82            [ 8]  412 	mov	dpl,r4
      000181 8D 83            [ 8]  413 	mov	dph,r5
      000183 8A 93            [ 8]  414 	mov	dpx,r2
      000185 8B F0            [ 8]  415 	mov	b,r3
      000187 12s00r00r00      [16]  416 	lcall	__gptrget
      00018B FC               [ 4]  417 	mov	r4,a
      00018C 8C 02            [ 8]  418 	mov	ar2,r4
      00018E 7C 00            [ 8]  419 	mov	r4,#0x00
      000190 90s00r00r1B      [12]  420 	mov	dptr,#_mbrtoc16_sloc1_1_0
      000194 E0               [ 8]  421 	movx	a,@dptr
      000195 2C               [ 4]  422 	add	a,r4
      000196 FC               [ 4]  423 	mov	r4,a
      000197 A3               [12]  424 	inc	dptr
      000198 E0               [ 8]  425 	movx	a,@dptr
      000199 3A               [ 4]  426 	addc	a,r2
      00019A FA               [ 4]  427 	mov	r2,a
      00019B 90s00r00r0A      [12]  428 	mov	dptr,#_mbrtoc16_pc16_65536_15
      00019F E0               [ 8]  429 	movx	a,@dptr
      0001A0 C0 E0            [ 8]  430 	push	acc
      0001A2 A3               [12]  431 	inc	dptr
      0001A3 E0               [ 8]  432 	movx	a,@dptr
      0001A4 C0 E0            [ 8]  433 	push	acc
      0001A6 A3               [12]  434 	inc	dptr
      0001A7 E0               [ 8]  435 	movx	a,@dptr
      0001A8 C0 E0            [ 8]  436 	push	acc
      0001AA A3               [12]  437 	inc	dptr
      0001AB E0               [ 8]  438 	movx	a,@dptr
      0001AC F5 F0            [ 8]  439 	mov	b,a
      0001AE D0 93            [ 8]  440 	pop	dpx
      0001B0 D0 83            [ 8]  441 	pop	dph
      0001B2 D0 82            [ 8]  442 	pop	dpl
      0001B4 8C 9C            [ 8]  443 	mov	acc1, r4
      0001B6 EA               [ 4]  444 	mov	a,r2
      0001B7 12s00r00r00      [16]  445 	lcall	__gptrputWord
      0001BB                        446 00106$:
                                    447 ;	mbrtoc16.c:51: ps->c[1] = ps->c[2] = 0;
      0001BB 90s00r00r06      [12]  448 	mov	dptr,#_mbrtoc16_PARM_4
                                    449 ;	genAssign: resultIsFar = FALSE
      0001BF E0               [ 8]  450 	movx	a,@dptr
      0001C0 FA               [ 4]  451 	mov	r2,a
      0001C1 A3               [12]  452 	inc	dptr
      0001C2 E0               [ 8]  453 	movx	a,@dptr
      0001C3 FB               [ 4]  454 	mov	r3,a
      0001C4 A3               [12]  455 	inc	dptr
      0001C5 E0               [ 8]  456 	movx	a,@dptr
      0001C6 FC               [ 4]  457 	mov	r4,a
      0001C7 A3               [12]  458 	inc	dptr
      0001C8 E0               [ 8]  459 	movx	a,@dptr
      0001C9 FD               [ 4]  460 	mov	r5,a
      0001CA 74 01            [ 8]  461 	mov	a,#0x01
      0001CC 2A               [ 4]  462 	add	a,r2
      0001CD FE               [ 4]  463 	mov	r6,a
      0001CE E4               [ 4]  464 	clr	a
      0001CF 3B               [ 4]  465 	addc	a,r3
      0001D0 FF               [ 4]  466 	mov	r7,a
      0001D1 E4               [ 4]  467 	clr	a
      0001D2 3C               [ 4]  468 	addc	a,r4
      0001D3 F8               [ 4]  469 	mov	r0,a
      0001D4 8D 01            [ 8]  470 	mov	ar1,r5
      0001D6 74 02            [ 8]  471 	mov	a,#0x02
      0001D8 2A               [ 4]  472 	add	a,r2
      0001D9 FA               [ 4]  473 	mov	r2,a
      0001DA E4               [ 4]  474 	clr	a
      0001DB 3B               [ 4]  475 	addc	a,r3
      0001DC FB               [ 4]  476 	mov	r3,a
      0001DD E4               [ 4]  477 	clr	a
      0001DE 3C               [ 4]  478 	addc	a,r4
      0001DF FC               [ 4]  479 	mov	r4,a
      0001E0 8A 82            [ 8]  480 	mov	dpl,r2
      0001E2 8B 83            [ 8]  481 	mov	dph,r3
      0001E4 8C 93            [ 8]  482 	mov	dpx,r4
      0001E6 8D F0            [ 8]  483 	mov	b,r5
      0001E8 E4               [ 4]  484 	clr	a
      0001E9 12s00r00r00      [16]  485 	lcall	__gptrput
      0001ED 8E 82            [ 8]  486 	mov	dpl,r6
      0001EF 8F 83            [ 8]  487 	mov	dph,r7
      0001F1 88 93            [ 8]  488 	mov	dpx,r0
      0001F3 89 F0            [ 8]  489 	mov	b,r1
      0001F5 E4               [ 4]  490 	clr	a
      0001F6 12s00r00r00      [16]  491 	lcall	__gptrput
                                    492 ;	mbrtoc16.c:52: return(-3);
      0001FA 90 00 FF FD      [12]  493 	mov  dptr,#0xfffd
      0001FE 02s00r04r17      [16]  494 	ljmp	00119$
      000202                        495 00108$:
                                    496 ;	mbrtoc16.c:55: ret = mbrtowc(&codepoint, s, n, ps);
      000202 90s00r00r06      [12]  497 	mov	dptr,#_mbrtoc16_PARM_4
                                    498 ;	genAssign: resultIsFar = FALSE
      000206 E0               [ 8]  499 	movx	a,@dptr
      000207 FA               [ 4]  500 	mov	r2,a
      000208 A3               [12]  501 	inc	dptr
      000209 E0               [ 8]  502 	movx	a,@dptr
      00020A FB               [ 4]  503 	mov	r3,a
      00020B A3               [12]  504 	inc	dptr
      00020C E0               [ 8]  505 	movx	a,@dptr
      00020D FC               [ 4]  506 	mov	r4,a
      00020E A3               [12]  507 	inc	dptr
      00020F E0               [ 8]  508 	movx	a,@dptr
      000210 FD               [ 4]  509 	mov	r5,a
                                    510 ;	genAssign: resultIsFar = TRUE
      000211 90s00r00r00      [12]  511 	mov	dptr,#_mbrtowc_PARM_2
      000215 EE               [ 4]  512 	mov	a,r6
      000216 F0               [ 8]  513 	movx	@dptr,a
      000217 A3               [12]  514 	inc	dptr
      000218 EF               [ 4]  515 	mov	a,r7
      000219 F0               [ 8]  516 	movx	@dptr,a
      00021A A3               [12]  517 	inc	dptr
      00021B E8               [ 4]  518 	mov	a,r0
      00021C F0               [ 8]  519 	movx	@dptr,a
      00021D A3               [12]  520 	inc	dptr
      00021E E9               [ 4]  521 	mov	a,r1
      00021F F0               [ 8]  522 	movx	@dptr,a
      000220 90s00r00r04      [12]  523 	mov	dptr,#_mbrtoc16_PARM_3
                                    524 ;	genAssign: resultIsFar = TRUE
      000224 75 86 21         [12]  525 	mov	dps,#0x21
      000227 90s00r00r00      [12]  526 	mov	dptr,#_mbrtowc_PARM_3
      00022B E0               [ 8]  527 	movx	a,@dptr
      00022C F0               [ 8]  528 	movx	@dptr,a
      00022D A3               [12]  529 	inc	dptr
      00022E A3               [12]  530 	inc	dptr
      00022F E0               [ 8]  531 	movx	a,@dptr
      000230 F0               [ 8]  532 	movx	@dptr,a
      000231 75 86 00         [12]  533 	mov	dps,#0
                                    534 ;	genAssign: resultIsFar = TRUE
      000234 90s00r00r00      [12]  535 	mov	dptr,#_mbrtowc_PARM_4
      000238 EA               [ 4]  536 	mov	a,r2
      000239 F0               [ 8]  537 	movx	@dptr,a
      00023A A3               [12]  538 	inc	dptr
      00023B EB               [ 4]  539 	mov	a,r3
      00023C F0               [ 8]  540 	movx	@dptr,a
      00023D A3               [12]  541 	inc	dptr
      00023E EC               [ 4]  542 	mov	a,r4
      00023F F0               [ 8]  543 	movx	@dptr,a
      000240 A3               [12]  544 	inc	dptr
      000241 ED               [ 4]  545 	mov	a,r5
      000242 F0               [ 8]  546 	movx	@dptr,a
      000243 90s00r00r0E      [12]  547 	mov dptr,#_mbrtoc16_codepoint_65536_16
      000247 75 F0 00         [12]  548 	mov	b,#0x00
      00024A 12s00r00r00      [16]  549 	lcall	_mbrtowc
      00024E AA 82            [ 8]  550 	mov	r2,dpl
      000250 AB 83            [ 8]  551 	mov	r3,dph
                                    552 ;	genAssign: resultIsFar = TRUE
      000252 90s00r00r12      [12]  553 	mov	dptr,#_mbrtoc16_ret_65536_16
      000256 EA               [ 4]  554 	mov	a,r2
      000257 F0               [ 8]  555 	movx	@dptr,a
      000258 A3               [12]  556 	inc	dptr
      000259 EB               [ 4]  557 	mov	a,r3
      00025A F0               [ 8]  558 	movx	@dptr,a
                                    559 ;	mbrtoc16.c:57: if(ret > MB_LEN_MAX)
      00025B 90s00r00r12      [12]  560 	mov	dptr,#_mbrtoc16_ret_65536_16
      00025F C3               [ 4]  561 	clr	c
      000260 74 04            [ 8]  562 	mov	a,#0x04
      000262 C5 F0            [ 8]  563 	xch	a, b
      000264 E0               [ 8]  564 	movx	a,@dptr
      000265 C5 F0            [ 8]  565 	xch	a, b
      000267 95 F0            [ 8]  566 	subb	a,b
      000269 E4               [ 4]  567 	clr	a
      00026A C5 F0            [ 8]  568 	xch	a, b
      00026C A3               [12]  569 	inc	dptr
      00026D E0               [ 8]  570 	movx	a,@dptr
      00026E C5 F0            [ 8]  571 	xch	a, b
      000270 95 F0            [ 8]  572 	subb	a,b
      000272 50 15            [12]  573 	jnc  00112$
      000274                        574 00163$:
                                    575 ;	mbrtoc16.c:58: return(ret);
      000274 75 86 01         [12]  576 	mov     dps, #1
      000277 90s00r00r12      [12]  577 	mov     dptr, #_mbrtoc16_ret_65536_16
      00027B E0               [ 8]  578 	movx	a,@dptr
      00027C F5 82            [ 8]  579 	mov	dpl,a
      00027E A3               [12]  580 	inc	dptr
      00027F E0               [ 8]  581 	movx	a,@dptr
      000280 F5 83            [ 8]  582 	mov	dph,a
      000282 75 86 00         [12]  583 	mov	dps,#0
      000285 02s00r04r17      [16]  584 	ljmp	00119$
      000289                        585 00112$:
                                    586 ;	mbrtoc16.c:60: if (codepoint <= 0xffff) // Basic multilingual plane
      000289 90s00r00r0E      [12]  587 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      00028D C3               [ 4]  588 	clr	c
      00028E 74 FF            [ 8]  589 	mov	a,#0xff
      000290 C5 F0            [ 8]  590 	xch	a, b
      000292 E0               [ 8]  591 	movx	a,@dptr
      000293 C5 F0            [ 8]  592 	xch	a, b
      000295 95 F0            [ 8]  593 	subb	a,b
      000297 74 FF            [ 8]  594 	mov	a,#0xff
      000299 C5 F0            [ 8]  595 	xch	a, b
      00029B A3               [12]  596 	inc	dptr
      00029C E0               [ 8]  597 	movx	a,@dptr
      00029D C5 F0            [ 8]  598 	xch	a, b
      00029F 95 F0            [ 8]  599 	subb	a,b
      0002A1 E4               [ 4]  600 	clr	a
      0002A2 C5 F0            [ 8]  601 	xch	a, b
      0002A4 A3               [12]  602 	inc	dptr
      0002A5 E0               [ 8]  603 	movx	a,@dptr
      0002A6 C5 F0            [ 8]  604 	xch	a, b
      0002A8 95 F0            [ 8]  605 	subb	a,b
      0002AA E4               [ 4]  606 	clr	a
      0002AB C5 F0            [ 8]  607 	xch	a, b
      0002AD A3               [12]  608 	inc	dptr
      0002AE E0               [ 8]  609 	movx	a,@dptr
      0002AF C5 F0            [ 8]  610 	xch	a, b
      0002B1 95 F0            [ 8]  611 	subb	a,b
      0002B3 40 4F            [12]  612 	jc   00116$
      0002B5                        613 00164$:
                                    614 ;	mbrtoc16.c:62: if(pc16)
      0002B5 90s00r00r0A      [12]  615 	mov	dptr,#_mbrtoc16_pc16_65536_15
      0002B9 E0               [ 8]  616 	movx	a,@dptr
      0002BA F5 F0            [ 8]  617 	mov	b,a
      0002BC A3               [12]  618 	inc	dptr
      0002BD E0               [ 8]  619 	movx	a,@dptr
      0002BE 42 F0            [ 8]  620 	orl	b,a
      0002C0 A3               [12]  621 	inc	dptr
      0002C1 E0               [ 8]  622 	movx	a,@dptr
      0002C2 45 F0            [ 8]  623 	orl	a,b
      0002C4 60 29            [12]  624 	jz  00114$
      0002C6                        625 00165$:
                                    626 ;	mbrtoc16.c:63: *pc16 = codepoint;
      0002C6 90s00r00r0E      [12]  627 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      0002CA E0               [ 8]  628 	movx	a,@dptr
      0002CB FC               [ 4]  629 	mov	r4,a
      0002CC A3               [12]  630 	inc	dptr
      0002CD E0               [ 8]  631 	movx	a,@dptr
      0002CE FD               [ 4]  632 	mov	r5,a
      0002CF 90s00r00r0A      [12]  633 	mov	dptr,#_mbrtoc16_pc16_65536_15
      0002D3 E0               [ 8]  634 	movx	a,@dptr
      0002D4 C0 E0            [ 8]  635 	push	acc
      0002D6 A3               [12]  636 	inc	dptr
      0002D7 E0               [ 8]  637 	movx	a,@dptr
      0002D8 C0 E0            [ 8]  638 	push	acc
      0002DA A3               [12]  639 	inc	dptr
      0002DB E0               [ 8]  640 	movx	a,@dptr
      0002DC C0 E0            [ 8]  641 	push	acc
      0002DE A3               [12]  642 	inc	dptr
      0002DF E0               [ 8]  643 	movx	a,@dptr
      0002E0 F5 F0            [ 8]  644 	mov	b,a
      0002E2 D0 93            [ 8]  645 	pop	dpx
      0002E4 D0 83            [ 8]  646 	pop	dph
      0002E6 D0 82            [ 8]  647 	pop	dpl
      0002E8 8C 9C            [ 8]  648 	mov	acc1, r4
      0002EA ED               [ 4]  649 	mov	a,r5
      0002EB 12s00r00r00      [16]  650 	lcall	__gptrputWord
      0002EF                        651 00114$:
                                    652 ;	mbrtoc16.c:64: return(ret);
      0002EF 75 86 01         [12]  653 	mov     dps, #1
      0002F2 90s00r00r12      [12]  654 	mov     dptr, #_mbrtoc16_ret_65536_16
      0002F6 E0               [ 8]  655 	movx	a,@dptr
      0002F7 F5 82            [ 8]  656 	mov	dpl,a
      0002F9 A3               [12]  657 	inc	dptr
      0002FA E0               [ 8]  658 	movx	a,@dptr
      0002FB F5 83            [ 8]  659 	mov	dph,a
      0002FD 75 86 00         [12]  660 	mov	dps,#0
      000300 02s00r04r17      [16]  661 	ljmp	00119$
      000304                        662 00116$:
                                    663 ;	mbrtoc16.c:67: codepoint -= 0x100000;
      000304 90s00r00r0E      [12]  664 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      000308 E0               [ 8]  665 	movx	a,@dptr
      000309 24 00            [ 8]  666 	add	a,#0x00
      00030B FC               [ 4]  667 	mov	r4,a
      00030C A3               [12]  668 	inc	dptr
      00030D E0               [ 8]  669 	movx	a,@dptr
      00030E 34 00            [ 8]  670 	addc	a,#0x00
      000310 FD               [ 4]  671 	mov	r5,a
      000311 A3               [12]  672 	inc	dptr
      000312 E0               [ 8]  673 	movx	a,@dptr
      000313 34 F0            [ 8]  674 	addc	a,#0xf0
      000315 FE               [ 4]  675 	mov	r6,a
      000316 A3               [12]  676 	inc	dptr
      000317 E0               [ 8]  677 	movx	a,@dptr
      000318 34 FF            [ 8]  678 	addc	a,#0xff
      00031A FF               [ 4]  679 	mov	r7,a
                                    680 ;	genAssign: resultIsFar = TRUE
      00031B 90s00r00r0E      [12]  681 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      00031F EC               [ 4]  682 	mov	a,r4
      000320 F0               [ 8]  683 	movx	@dptr,a
      000321 A3               [12]  684 	inc	dptr
      000322 ED               [ 4]  685 	mov	a,r5
      000323 F0               [ 8]  686 	movx	@dptr,a
      000324 A3               [12]  687 	inc	dptr
      000325 EE               [ 4]  688 	mov	a,r6
      000326 F0               [ 8]  689 	movx	@dptr,a
      000327 A3               [12]  690 	inc	dptr
      000328 EF               [ 4]  691 	mov	a,r7
      000329 F0               [ 8]  692 	movx	@dptr,a
                                    693 ;	mbrtoc16.c:68: if(pc16)
      00032A 90s00r00r0A      [12]  694 	mov	dptr,#_mbrtoc16_pc16_65536_15
      00032E E0               [ 8]  695 	movx	a,@dptr
      00032F F5 F0            [ 8]  696 	mov	b,a
      000331 A3               [12]  697 	inc	dptr
      000332 E0               [ 8]  698 	movx	a,@dptr
      000333 42 F0            [ 8]  699 	orl	b,a
      000335 A3               [12]  700 	inc	dptr
      000336 E0               [ 8]  701 	movx	a,@dptr
      000337 45 F0            [ 8]  702 	orl	a,b
      000339 60 4E            [12]  703 	jz  00118$
      00033B                        704 00166$:
                                    705 ;	mbrtoc16.c:69: *pc16 = ((codepoint >> 10) & 0x3ff) + 0xd800;
      00033B 90s00r00r0E      [12]  706 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      00033F A3               [12]  707 	inc	dptr
      000340 E0               [ 8]  708 	movx	a,@dptr
      000341 FC               [ 4]  709 	mov	r4,a
      000342 A3               [12]  710 	inc	dptr
      000343 E0               [ 8]  711 	movx	a,@dptr
      000344 C3               [ 4]  712 	clr	c
      000345 13               [ 4]  713 	rrc	a
      000346 CC               [ 4]  714 	xch	a,r4
      000347 13               [ 4]  715 	rrc	a
      000348 CC               [ 4]  716 	xch	a,r4
      000349 C3               [ 4]  717 	clr	c
      00034A 13               [ 4]  718 	rrc	a
      00034B CC               [ 4]  719 	xch	a,r4
      00034C 13               [ 4]  720 	rrc	a
      00034D CC               [ 4]  721 	xch	a,r4
      00034E FD               [ 4]  722 	mov	r5,a
      00034F A3               [12]  723 	inc	dptr
      000350 E0               [ 8]  724 	movx	a,@dptr
      000351 03               [ 4]  725 	rr	a
      000352 03               [ 4]  726 	rr	a
      000353 54 C0            [ 8]  727 	anl	a,#0xc0
      000355 4D               [ 4]  728 	orl	a,r5
      000356 FD               [ 4]  729 	mov	r5,a
      000357 E0               [ 8]  730 	movx	a,@dptr
      000358 03               [ 4]  731 	rr	a
      000359 03               [ 4]  732 	rr	a
      00035A 54 3F            [ 8]  733 	anl	a,#0x3f
      00035C FE               [ 4]  734 	mov	r6,a
      00035D 7F 00            [ 8]  735 	mov	r7,#0x00
      00035F 53 05 03         [12]  736 	anl	ar5,#0x03
      000362 E4               [ 4]  737 	clr	a
      000363 2C               [ 4]  738 	add	a,r4
      000364 FC               [ 4]  739 	mov	r4,a
      000365 74 D8            [ 8]  740 	mov	a,#0xd8
      000367 3D               [ 4]  741 	addc	a,r5
      000368 FD               [ 4]  742 	mov	r5,a
      000369 90s00r00r0A      [12]  743 	mov	dptr,#_mbrtoc16_pc16_65536_15
      00036D E0               [ 8]  744 	movx	a,@dptr
      00036E C0 E0            [ 8]  745 	push	acc
      000370 A3               [12]  746 	inc	dptr
      000371 E0               [ 8]  747 	movx	a,@dptr
      000372 C0 E0            [ 8]  748 	push	acc
      000374 A3               [12]  749 	inc	dptr
      000375 E0               [ 8]  750 	movx	a,@dptr
      000376 C0 E0            [ 8]  751 	push	acc
      000378 A3               [12]  752 	inc	dptr
      000379 E0               [ 8]  753 	movx	a,@dptr
      00037A F5 F0            [ 8]  754 	mov	b,a
      00037C D0 93            [ 8]  755 	pop	dpx
      00037E D0 83            [ 8]  756 	pop	dph
      000380 D0 82            [ 8]  757 	pop	dpl
      000382 8C 9C            [ 8]  758 	mov	acc1, r4
      000384 ED               [ 4]  759 	mov	a,r5
      000385 12s00r00r00      [16]  760 	lcall	__gptrputWord
      000389                        761 00118$:
                                    762 ;	mbrtoc16.c:70: low_surrogate = (codepoint & 0x3ff) + 0xdc00;
      000389 90s00r00r0E      [12]  763 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      00038D E0               [ 8]  764 	movx	a,@dptr
      00038E FC               [ 4]  765 	mov	r4,a
      00038F A3               [12]  766 	inc	dptr
      000390 E0               [ 8]  767 	movx	a,@dptr
      000391 FD               [ 4]  768 	mov	r5,a
      000392 53 05 03         [12]  769 	anl	ar5,#0x03
      000395 E4               [ 4]  770 	clr	a
      000396 2C               [ 4]  771 	add	a,r4
      000397 FC               [ 4]  772 	mov	r4,a
      000398 74 DC            [ 8]  773 	mov	a,#0xdc
      00039A 3D               [ 4]  774 	addc	a,r5
      00039B FB               [ 4]  775 	mov	r3,a
                                    776 ;	mbrtoc16.c:71: ps->c[0] = 0;
      00039C 90s00r00r06      [12]  777 	mov	dptr,#_mbrtoc16_PARM_4
                                    778 ;	genAssign: resultIsFar = FALSE
      0003A0 E0               [ 8]  779 	movx	a,@dptr
      0003A1 FE               [ 4]  780 	mov	r6,a
      0003A2 A3               [12]  781 	inc	dptr
      0003A3 E0               [ 8]  782 	movx	a,@dptr
      0003A4 FF               [ 4]  783 	mov	r7,a
      0003A5 A3               [12]  784 	inc	dptr
      0003A6 E0               [ 8]  785 	movx	a,@dptr
      0003A7 F8               [ 4]  786 	mov	r0,a
      0003A8 A3               [12]  787 	inc	dptr
      0003A9 E0               [ 8]  788 	movx	a,@dptr
      0003AA F9               [ 4]  789 	mov	r1,a
      0003AB 8E 82            [ 8]  790 	mov	dpl,r6
      0003AD 8F 83            [ 8]  791 	mov	dph,r7
      0003AF 88 93            [ 8]  792 	mov	dpx,r0
      0003B1 89 F0            [ 8]  793 	mov	b,r1
      0003B3 E4               [ 4]  794 	clr	a
      0003B4 12s00r00r00      [16]  795 	lcall	__gptrput
                                    796 ;	mbrtoc16.c:72: ps->c[1] = low_surrogate & 0xff;
      0003B8 90s00r00r1D      [12]  797 	mov	dptr,#_mbrtoc16_sloc2_1_0
      0003BC 74 01            [ 8]  798 	mov	a,#0x01
      0003BE 2E               [ 4]  799 	add	a,r6
      0003BF F0               [ 8]  800 	movx	@dptr,a
      0003C0 E4               [ 4]  801 	clr	a
      0003C1 3F               [ 4]  802 	addc	a,r7
      0003C2 A3               [12]  803 	inc	dptr
      0003C3 F0               [ 8]  804 	movx	@dptr,a
      0003C4 E4               [ 4]  805 	clr	a
      0003C5 38               [ 4]  806 	addc	a,r0
      0003C6 A3               [12]  807 	inc	dptr
      0003C7 F0               [ 8]  808 	movx	@dptr,a
      0003C8 A3               [12]  809 	inc	dptr
      0003C9 E9               [ 4]  810 	mov	a,r1
      0003CA F0               [ 8]  811 	movx	@dptr,a
      0003CB 8C 02            [ 8]  812 	mov	ar2,r4
      0003CD 90s00r00r1D      [12]  813 	mov	dptr,#_mbrtoc16_sloc2_1_0
      0003D1 E0               [ 8]  814 	movx	a,@dptr
      0003D2 C0 E0            [ 8]  815 	push	acc
      0003D4 A3               [12]  816 	inc	dptr
      0003D5 E0               [ 8]  817 	movx	a,@dptr
      0003D6 C0 E0            [ 8]  818 	push	acc
      0003D8 A3               [12]  819 	inc	dptr
      0003D9 E0               [ 8]  820 	movx	a,@dptr
      0003DA C0 E0            [ 8]  821 	push	acc
      0003DC A3               [12]  822 	inc	dptr
      0003DD E0               [ 8]  823 	movx	a,@dptr
      0003DE F5 F0            [ 8]  824 	mov	b,a
      0003E0 D0 93            [ 8]  825 	pop	dpx
      0003E2 D0 83            [ 8]  826 	pop	dph
      0003E4 D0 82            [ 8]  827 	pop	dpl
      0003E6 EA               [ 4]  828 	mov	a,r2
      0003E7 12s00r00r00      [16]  829 	lcall	__gptrput
                                    830 ;	mbrtoc16.c:73: ps->c[2] = low_surrogate >> 8;
      0003EB 74 02            [ 8]  831 	mov	a,#0x02
      0003ED 2E               [ 4]  832 	add	a,r6
      0003EE FE               [ 4]  833 	mov	r6,a
      0003EF E4               [ 4]  834 	clr	a
      0003F0 3F               [ 4]  835 	addc	a,r7
      0003F1 FF               [ 4]  836 	mov	r7,a
      0003F2 E4               [ 4]  837 	clr	a
      0003F3 38               [ 4]  838 	addc	a,r0
      0003F4 F8               [ 4]  839 	mov	r0,a
      0003F5 8B 02            [ 8]  840 	mov	ar2,r3
      0003F7 7B 00            [ 8]  841 	mov	r3,#0x00
      0003F9 8E 82            [ 8]  842 	mov	dpl,r6
      0003FB 8F 83            [ 8]  843 	mov	dph,r7
      0003FD 88 93            [ 8]  844 	mov	dpx,r0
      0003FF 89 F0            [ 8]  845 	mov	b,r1
      000401 EA               [ 4]  846 	mov	a,r2
      000402 12s00r00r00      [16]  847 	lcall	__gptrput
                                    848 ;	mbrtoc16.c:75: return(ret);
      000406 75 86 01         [12]  849 	mov     dps, #1
      000409 90s00r00r12      [12]  850 	mov     dptr, #_mbrtoc16_ret_65536_16
      00040D E0               [ 8]  851 	movx	a,@dptr
      00040E F5 82            [ 8]  852 	mov	dpl,a
      000410 A3               [12]  853 	inc	dptr
      000411 E0               [ 8]  854 	movx	a,@dptr
      000412 F5 83            [ 8]  855 	mov	dph,a
      000414 75 86 00         [12]  856 	mov	dps,#0
      000417                        857 00119$:
                                    858 ;	mbrtoc16.c:76: }
      000417 22               [16]  859 	ret
                                    860 	.area CSEG    (CODE)
                                    861 	.area CONST   (CODE)
                                    862 	.area CONST   (CODE)
      000000                        863 ___str_0:
      000000 00                     864 	.db 0x00
                                    865 	.area CSEG    (CODE)
                                    866 	.area XINIT   (CODE)
                                    867 	.area CABS    (ABS,CODE)
