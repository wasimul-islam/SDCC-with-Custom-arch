                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module isnan
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _isnan
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in internal ram
                                     33 ;--------------------------------------------------------
                                     34 ;--------------------------------------------------------
                                     35 ; indirectly addressable internal ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area ISEG    (DATA)
                                     38 ;--------------------------------------------------------
                                     39 ; absolute internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area IABS    (ABS,DATA)
                                     42 	.area IABS    (ABS,DATA)
                                     43 ;--------------------------------------------------------
                                     44 ; bit data
                                     45 ;--------------------------------------------------------
                                     46 	.area BSEG    (BIT)
                                     47 ;--------------------------------------------------------
                                     48 ; paged external ram data
                                     49 ;--------------------------------------------------------
                                     50 	.area PSEG    (PAG,XDATA)
                                     51 ;--------------------------------------------------------
                                     52 ; uninitialized external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area XSEG    (XDATA)
                                     55 ;--------------------------------------------------------
                                     56 ; absolute external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area XABS    (ABS,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; initialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XISEG   (XDATA)
                                     63 	.area HOME    (CODE)
                                     64 	.area GSINIT0 (CODE)
                                     65 	.area GSINIT1 (CODE)
                                     66 	.area GSINIT2 (CODE)
                                     67 	.area GSINIT3 (CODE)
                                     68 	.area GSINIT4 (CODE)
                                     69 	.area GSINIT5 (CODE)
                                     70 	.area GSINIT  (CODE)
                                     71 	.area GSFINAL (CODE)
                                     72 	.area CSEG    (CODE)
                                     73 ;--------------------------------------------------------
                                     74 ; global & static initialisations
                                     75 ;--------------------------------------------------------
                                     76 	.area HOME    (CODE)
                                     77 	.area GSINIT  (CODE)
                                     78 	.area GSFINAL (CODE)
                                     79 	.area GSINIT  (CODE)
                                     80 ;--------------------------------------------------------
                                     81 ; Home
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME    (CODE)
                                     84 	.area HOME    (CODE)
                                     85 ;--------------------------------------------------------
                                     86 ; code
                                     87 ;--------------------------------------------------------
                                     88 	.area CSEG    (CODE)
                                     89 ;------------------------------------------------------------
                                     90 ;Allocation info for local variables in function 'isnan'
                                     91 ;------------------------------------------------------------
                                     92 ;f                         Allocated to stack - _bp +1
                                     93 ;pl                        Allocated to registers r7 r6 r5 
                                     94 ;------------------------------------------------------------
                                     95 ;	isnan.c:33: int isnan (float f)
                                     96 ;	-----------------------------------------
                                     97 ;	 function isnan
                                     98 ;	-----------------------------------------
      000000                         99 _isnan:
                           000007   100 	ar7 = 0x07
                           000006   101 	ar6 = 0x06
                           000005   102 	ar5 = 0x05
                           000004   103 	ar4 = 0x04
                           000003   104 	ar3 = 0x03
                           000002   105 	ar2 = 0x02
                           000001   106 	ar1 = 0x01
                           000000   107 	ar0 = 0x00
      000000 C0*00            [24]  108 	push	_bp
      000002 85 81*00         [24]  109 	mov	_bp,sp
      000005 C0 82            [24]  110 	push	dpl
      000007 C0 83            [24]  111 	push	dph
      000009 C0 F0            [24]  112 	push	b
      00000B C0 E0            [24]  113 	push	acc
                                    114 ;	isnan.c:35: unsigned long *pl = (unsigned long *) &f;
      00000D AF*00            [24]  115 	mov	r7,_bp
      00000F 0F               [12]  116 	inc	r7
      000010 7E 00            [12]  117 	mov	r6,#0x00
      000012 7D 40            [12]  118 	mov	r5,#0x40
                                    119 ;	isnan.c:37: return (*pl & 0x7fffffff) > 0x7f800000;
      000014 8F 82            [24]  120 	mov	dpl,r7
      000016 8E 83            [24]  121 	mov	dph,r6
      000018 8D F0            [24]  122 	mov	b,r5
      00001A 12r00r00         [24]  123 	lcall	__gptrget
      00001D FF               [12]  124 	mov	r7,a
      00001E A3               [24]  125 	inc	dptr
      00001F 12r00r00         [24]  126 	lcall	__gptrget
      000022 FE               [12]  127 	mov	r6,a
      000023 A3               [24]  128 	inc	dptr
      000024 12r00r00         [24]  129 	lcall	__gptrget
      000027 FD               [12]  130 	mov	r5,a
      000028 A3               [24]  131 	inc	dptr
      000029 12r00r00         [24]  132 	lcall	__gptrget
      00002C FC               [12]  133 	mov	r4,a
      00002D 53 04 7F         [24]  134 	anl	ar4,#0x7f
      000030 C3               [12]  135 	clr	c
      000031 E4               [12]  136 	clr	a
      000032 9F               [12]  137 	subb	a,r7
      000033 E4               [12]  138 	clr	a
      000034 9E               [12]  139 	subb	a,r6
      000035 74 80            [12]  140 	mov	a,#0x80
      000037 9D               [12]  141 	subb	a,r5
      000038 74 7F            [12]  142 	mov	a,#0x7f
      00003A 9C               [12]  143 	subb	a,r4
      00003B E4               [12]  144 	clr	a
      00003C 33               [12]  145 	rlc	a
      00003D FF               [12]  146 	mov	r7,a
      00003E 7E 00            [12]  147 	mov	r6,#0x00
      000040 8F 82            [24]  148 	mov	dpl,r7
      000042 8E 83            [24]  149 	mov	dph,r6
                                    150 ;	isnan.c:38: }
      000044 85*00 81         [24]  151 	mov	sp,_bp
      000047 D0*00            [24]  152 	pop	_bp
      000049 22               [24]  153 	ret
                                    154 	.area CSEG    (CODE)
                                    155 	.area CONST   (CODE)
                                    156 	.area XINIT   (CODE)
                                    157 	.area CABS    (ABS,CODE)
