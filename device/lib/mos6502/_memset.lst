                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _memset
                              6 	.optsdcc -mmos6502
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _memset_PARM_3
                             12 	.globl _memset_PARM_2
                             13 	.globl _memset
                             14 ;--------------------------------------------------------
                             15 ; ZP ram data
                             16 ;--------------------------------------------------------
                             17 	.area ZP      (PAG)
                             18 ;--------------------------------------------------------
                             19 ; overlayable items in ram
                             20 ;--------------------------------------------------------
                             21 	.area	OSEG    (PAG, OVR)
   0000                      22 _memset_data_131072_63:
   0000                      23 	.ds 1
   0001                      24 _memset_sloc0_1_0:
   0001                      25 	.ds 2
                             26 ;--------------------------------------------------------
                             27 ; uninitialized external ram data
                             28 ;--------------------------------------------------------
                             29 	.area BSS
   0000                      30 _memset_PARM_2:
   0000                      31 	.ds 1
   0001                      32 _memset_PARM_3:
   0001                      33 	.ds 2
   0003                      34 _memset_s_65536_61:
   0003                      35 	.ds 2
                             36 ;--------------------------------------------------------
                             37 ; absolute external ram data
                             38 ;--------------------------------------------------------
                             39 	.area DABS    (ABS)
                             40 ;--------------------------------------------------------
                             41 ; initialized external ram data
                             42 ;--------------------------------------------------------
                             43 	.area DATA
                             44 ;--------------------------------------------------------
                             45 ; global & static initialisations
                             46 ;--------------------------------------------------------
                             47 	.area _CODE
                             48 	.area GSINIT
                             49 	.area GSFINAL
                             50 	.area GSINIT
                             51 ;--------------------------------------------------------
                             52 ; Home
                             53 ;--------------------------------------------------------
                             54 	.area _CODE
                             55 	.area _CODE
                             56 ;--------------------------------------------------------
                             57 ; code
                             58 ;--------------------------------------------------------
                             59 	.area CODE
                             60 ;------------------------------------------------------------
                             61 ;Allocation info for local variables in function 'memset'
                             62 ;------------------------------------------------------------
                             63 ;c                         Allocated with name '_memset_PARM_2'
                             64 ;n                         Allocated with name '_memset_PARM_3'
                             65 ;s                         Allocated with name '_memset_s_65536_61'
                             66 ;dst                       Allocated to registers 
                             67 ;sz                        Allocated to registers a x 
                             68 ;data                      Allocated with name '_memset_data_131072_63'
                             69 ;sloc0                     Allocated with name '_memset_sloc0_1_0'
                             70 ;------------------------------------------------------------
                             71 ;	../_memset.c: 42: void *memset (void *s, unsigned char c, size_t n)
                             72 ;	-----------------------------------------
                             73 ;	 function memset
                             74 ;	-----------------------------------------
                             75 ;	Register assignment is optimal.
                             76 ;	Stack space usage: 0 bytes.
   0000                      77 _memset:
   0000 8Dr03r00      [ 4]   78 	sta	_memset_s_65536_61
   0003 8Er04r00      [ 4]   79 	stx	(_memset_s_65536_61 + 1)
                             80 ;	../_memset.c: 189: register size_t sz = n;
   0006 ADr01r00      [ 4]   81 	lda	_memset_PARM_3
   0009 AEr02r00      [ 4]   82 	ldx	(_memset_PARM_3 + 1)
                             83 ;	../_memset.c: 190: if (sz != 0)
   000C 85*00         [ 3]   84 	sta	*(__TEMP+0)
   000E ADr02r00      [ 4]   85 	lda	(_memset_PARM_3 + 1)
   0011 0Dr01r00      [ 4]   86 	ora	_memset_PARM_3
   0014 08            [ 3]   87 	php
   0015 A5*00         [ 3]   88 	lda	*(__TEMP+0)
   0017 28            [ 4]   89 	plp
   0018 F0 2D         [ 4]   90 	beq	00105$
                             91 ;	../_memset.c: 192: register char *dst = s;
   001A ACr03r00      [ 4]   92 	ldy	_memset_s_65536_61
   001D 84*01         [ 3]   93 	sty	*_memset_sloc0_1_0
   001F ACr04r00      [ 4]   94 	ldy	(_memset_s_65536_61 + 1)
   0022 84*02         [ 3]   95 	sty	*(_memset_sloc0_1_0 + 1)
                             96 ;	../_memset.c: 193: register char data = (char)c;
   0024 ACr00r00      [ 4]   97 	ldy	_memset_PARM_2
   0027 84*00         [ 3]   98 	sty	*_memset_data_131072_63
                             99 ;	../_memset.c: 194: do {
   0029                     100 00101$:
                            101 ;	../_memset.c: 195: *dst++ = data;
   0029 85*00         [ 3]  102 	sta	*(__TEMP+0)
   002B A5*00         [ 3]  103 	lda	*_memset_data_131072_63
   002D A0 00         [ 2]  104 	ldy	#0x00
   002F 91*01         [ 6]  105 	sta	[*_memset_sloc0_1_0],y
   0031 A5*00         [ 3]  106 	lda	*(__TEMP+0)
   0033 E6*01         [ 5]  107 	inc	*_memset_sloc0_1_0
   0035 D0 02         [ 4]  108 	bne	00118$
   0037 E6*02         [ 5]  109 	inc	*(_memset_sloc0_1_0 + 1)
   0039                     110 00118$:
                            111 ;	../_memset.c: 196: } while (--sz);
   0039 38            [ 2]  112 	sec
   003A E9 01         [ 2]  113 	sbc	#0x01
   003C B0 01         [ 4]  114 	bcs	00119$
   003E CA            [ 2]  115 	dex
   003F                     116 00119$:
   003F C9 00         [ 2]  117 	cmp	#0x00
   0041 D0 02         [ 4]  118 	bne	00120$
   0043 E0 00         [ 2]  119 	cpx	#0x00
   0045                     120 00120$:
   0045 D0 E2         [ 4]  121 	bne	00101$
   0047                     122 00105$:
                            123 ;	../_memset.c: 198: return s;
   0047 AEr04r00      [ 4]  124 	ldx	(_memset_s_65536_61 + 1)
   004A ADr03r00      [ 4]  125 	lda	_memset_s_65536_61
                            126 ;	../_memset.c: 199: }
   004D 60            [ 6]  127 	rts
                            128 	.area CODE
                            129 	.area RODATA
                            130 	.area XINIT
                            131 	.area CABS    (ABS)
