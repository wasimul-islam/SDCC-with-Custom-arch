                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module wcrtomb
                              6 	.optsdcc -mmos6502
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _wctomb
                             12 	.globl _wcrtomb_PARM_3
                             13 	.globl _wcrtomb_PARM_2
                             14 	.globl _wcrtomb
                             15 ;--------------------------------------------------------
                             16 ; ZP ram data
                             17 ;--------------------------------------------------------
                             18 	.area ZP      (PAG)
                             19 ;--------------------------------------------------------
                             20 ; overlayable items in ram
                             21 ;--------------------------------------------------------
                             22 ;--------------------------------------------------------
                             23 ; uninitialized external ram data
                             24 ;--------------------------------------------------------
                             25 	.area BSS
   0000                      26 _wcrtomb_PARM_2:
   0000                      27 	.ds 4
   0004                      28 _wcrtomb_PARM_3:
   0004                      29 	.ds 2
                             30 ;--------------------------------------------------------
                             31 ; absolute external ram data
                             32 ;--------------------------------------------------------
                             33 	.area DABS    (ABS)
                             34 ;--------------------------------------------------------
                             35 ; initialized external ram data
                             36 ;--------------------------------------------------------
                             37 	.area DATA
                             38 ;--------------------------------------------------------
                             39 ; global & static initialisations
                             40 ;--------------------------------------------------------
                             41 	.area _CODE
                             42 	.area GSINIT
                             43 	.area GSFINAL
                             44 	.area GSINIT
                             45 ;--------------------------------------------------------
                             46 ; Home
                             47 ;--------------------------------------------------------
                             48 	.area _CODE
                             49 	.area _CODE
                             50 ;--------------------------------------------------------
                             51 ; code
                             52 ;--------------------------------------------------------
                             53 	.area CODE
                             54 ;------------------------------------------------------------
                             55 ;Allocation info for local variables in function 'wcrtomb'
                             56 ;------------------------------------------------------------
                             57 ;wc                        Allocated with name '_wcrtomb_PARM_2'
                             58 ;ps                        Allocated with name '_wcrtomb_PARM_3'
                             59 ;s                         Allocated to registers a x 
                             60 ;ret                       Allocated to registers a x 
                             61 ;------------------------------------------------------------
                             62 ;	../wcrtomb.c: 34: size_t wcrtomb(char *restrict s, wchar_t wc, mbstate_t *restrict ps)
                             63 ;	-----------------------------------------
                             64 ;	 function wcrtomb
                             65 ;	-----------------------------------------
                             66 ;	Register assignment is optimal.
                             67 ;	Stack space usage: 0 bytes.
   0000                      68 _wcrtomb:
                             69 ;	../wcrtomb.c: 40: ret = wctomb(s, wc);
   0000 ACr00r00      [ 4]   70 	ldy	_wcrtomb_PARM_2
   0003 8Cr00r00      [ 4]   71 	sty	_wctomb_PARM_2
   0006 ACr01r00      [ 4]   72 	ldy	(_wcrtomb_PARM_2 + 1)
   0009 8Cr01r00      [ 4]   73 	sty	(_wctomb_PARM_2 + 1)
   000C ACr02r00      [ 4]   74 	ldy	(_wcrtomb_PARM_2 + 2)
   000F 8Cr02r00      [ 4]   75 	sty	(_wctomb_PARM_2 + 2)
   0012 ACr03r00      [ 4]   76 	ldy	(_wcrtomb_PARM_2 + 3)
   0015 8Cr03r00      [ 4]   77 	sty	(_wctomb_PARM_2 + 3)
   0018 20r00r00      [ 6]   78 	jsr	_wctomb
                             79 ;	../wcrtomb.c: 42: if(ret == (size_t)(-1))
   001B C9 FF         [ 2]   80 	cmp	#0xff
   001D D0 0F         [ 4]   81 	bne	00102$
   001F E0 FF         [ 2]   82 	cpx	#0xff
   0021 F0 01         [ 4]   83 	beq	00111$
   0023 60            [ 6]   84 	rts
   0024                      85 00111$:
                             86 ;	../wcrtomb.c: 43: errno = EILSEQ;
   0024 A0 54         [ 2]   87 	ldy	#0x54
   0026 8Cr00r00      [ 4]   88 	sty	_errno
   0029 A0 00         [ 2]   89 	ldy	#0x00
   002B 8Cr01r00      [ 4]   90 	sty	(_errno + 1)
   002E                      91 00102$:
                             92 ;	../wcrtomb.c: 45: return(ret);
                             93 ;	../wcrtomb.c: 46: }
   002E 60            [ 6]   94 	rts
                             95 	.area CODE
                             96 	.area RODATA
                             97 	.area XINIT
                             98 	.area CABS    (ABS)
