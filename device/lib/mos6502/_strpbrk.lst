                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _strpbrk
                              6 	.optsdcc -mmos6502
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _strchr
                             12 	.globl _strpbrk_PARM_2
                             13 	.globl _strpbrk
                             14 ;--------------------------------------------------------
                             15 ; ZP ram data
                             16 ;--------------------------------------------------------
                             17 	.area ZP      (PAG)
   0000                      18 _strpbrk_sloc0_1_0:
   0000                      19 	.ds 2
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in ram
                             22 ;--------------------------------------------------------
                             23 ;--------------------------------------------------------
                             24 ; uninitialized external ram data
                             25 ;--------------------------------------------------------
                             26 	.area BSS
   0000                      27 _strpbrk_PARM_2:
   0000                      28 	.ds 2
   0002                      29 _strpbrk_string_65536_26:
   0002                      30 	.ds 2
   0004                      31 _strpbrk_ret_65536_27:
   0004                      32 	.ds 2
   0006                      33 _strpbrk_p_131072_28:
   0006                      34 	.ds 2
                             35 ;--------------------------------------------------------
                             36 ; absolute external ram data
                             37 ;--------------------------------------------------------
                             38 	.area DABS    (ABS)
                             39 ;--------------------------------------------------------
                             40 ; initialized external ram data
                             41 ;--------------------------------------------------------
                             42 	.area DATA
                             43 ;--------------------------------------------------------
                             44 ; global & static initialisations
                             45 ;--------------------------------------------------------
                             46 	.area _CODE
                             47 	.area GSINIT
                             48 	.area GSFINAL
                             49 	.area GSINIT
                             50 ;--------------------------------------------------------
                             51 ; Home
                             52 ;--------------------------------------------------------
                             53 	.area _CODE
                             54 	.area _CODE
                             55 ;--------------------------------------------------------
                             56 ; code
                             57 ;--------------------------------------------------------
                             58 	.area CODE
                             59 ;------------------------------------------------------------
                             60 ;Allocation info for local variables in function 'strpbrk'
                             61 ;------------------------------------------------------------
                             62 ;ch                        Allocated to registers x 
                             63 ;sloc0                     Allocated with name '_strpbrk_sloc0_1_0'
                             64 ;control                   Allocated with name '_strpbrk_PARM_2'
                             65 ;string                    Allocated with name '_strpbrk_string_65536_26'
                             66 ;ret                       Allocated with name '_strpbrk_ret_65536_27'
                             67 ;p                         Allocated with name '_strpbrk_p_131072_28'
                             68 ;------------------------------------------------------------
                             69 ;	../_strpbrk.c: 31: char * strpbrk ( const char * string, const char * control )
                             70 ;	-----------------------------------------
                             71 ;	 function strpbrk
                             72 ;	-----------------------------------------
                             73 ;	Register assignment is optimal.
                             74 ;	Stack space usage: 0 bytes.
   0000                      75 _strpbrk:
   0000 8Dr02r00      [ 4]   76 	sta	_strpbrk_string_65536_26
   0003 8Er03r00      [ 4]   77 	stx	(_strpbrk_string_65536_26 + 1)
                             78 ;	../_strpbrk.c: 33: char *ret = NULL;
   0006 A2 00         [ 2]   79 	ldx	#0x00
   0008 8Er04r00      [ 4]   80 	stx	_strpbrk_ret_65536_27
   000B 8Er05r00      [ 4]   81 	stx	(_strpbrk_ret_65536_27 + 1)
                             82 ;	../_strpbrk.c: 36: while (ch = *control) {
   000E ADr00r00      [ 4]   83 	lda	_strpbrk_PARM_2
   0011 85*00         [ 3]   84 	sta	*_strpbrk_sloc0_1_0
   0013 ADr01r00      [ 4]   85 	lda	(_strpbrk_PARM_2 + 1)
   0016 85*01         [ 3]   86 	sta	*(_strpbrk_sloc0_1_0 + 1)
   0018                      87 00105$:
   0018 A0 00         [ 2]   88 	ldy	#0x00
   001A B1*00         [ 6]   89 	lda	[*_strpbrk_sloc0_1_0],y
   001C AA            [ 2]   90 	tax
   001D C9 00         [ 2]   91 	cmp	#0x00
   001F F0 46         [ 4]   92 	beq	00107$
                             93 ;	../_strpbrk.c: 37: char * p = strchr(string, ch);
   0021 8Er00r00      [ 4]   94 	stx	_strchr_PARM_2
   0024 AEr03r00      [ 4]   95 	ldx	(_strpbrk_string_65536_26 + 1)
   0027 ADr02r00      [ 4]   96 	lda	_strpbrk_string_65536_26
   002A 20r00r00      [ 6]   97 	jsr	_strchr
   002D 8Dr06r00      [ 4]   98 	sta	_strpbrk_p_131072_28
   0030 8Er07r00      [ 4]   99 	stx	(_strpbrk_p_131072_28 + 1)
                            100 ;	../_strpbrk.c: 38: if (p != NULL && (ret == NULL || p < ret)) {
   0033 ADr07r00      [ 4]  101 	lda	(_strpbrk_p_131072_28 + 1)
   0036 0Dr06r00      [ 4]  102 	ora	_strpbrk_p_131072_28
   0039 F0 23         [ 4]  103 	beq	00102$
   003B ADr05r00      [ 4]  104 	lda	(_strpbrk_ret_65536_27 + 1)
   003E 0Dr04r00      [ 4]  105 	ora	_strpbrk_ret_65536_27
   0041 F0 0F         [ 4]  106 	beq	00101$
   0043 ADr06r00      [ 4]  107 	lda	_strpbrk_p_131072_28
   0046 38            [ 2]  108 	sec
   0047 EDr04r00      [ 4]  109 	sbc	_strpbrk_ret_65536_27
   004A ADr07r00      [ 4]  110 	lda	(_strpbrk_p_131072_28 + 1)
   004D EDr05r00      [ 4]  111 	sbc	(_strpbrk_ret_65536_27 + 1)
   0050 B0 0C         [ 4]  112 	bcs	00102$
   0052                     113 00101$:
                            114 ;	../_strpbrk.c: 39: ret = p;
   0052 ADr06r00      [ 4]  115 	lda	_strpbrk_p_131072_28
   0055 8Dr04r00      [ 4]  116 	sta	_strpbrk_ret_65536_27
   0058 ADr07r00      [ 4]  117 	lda	(_strpbrk_p_131072_28 + 1)
   005B 8Dr05r00      [ 4]  118 	sta	(_strpbrk_ret_65536_27 + 1)
   005E                     119 00102$:
                            120 ;	../_strpbrk.c: 41: control++;
   005E E6*00         [ 5]  121 	inc	*_strpbrk_sloc0_1_0
   0060 D0 B6         [ 4]  122 	bne	00105$
   0062 E6*01         [ 5]  123 	inc	*(_strpbrk_sloc0_1_0 + 1)
   0064 4Cr18r00      [ 3]  124 	jmp	00105$
   0067                     125 00107$:
                            126 ;	../_strpbrk.c: 44: return (ret);
   0067 AEr05r00      [ 4]  127 	ldx	(_strpbrk_ret_65536_27 + 1)
   006A ADr04r00      [ 4]  128 	lda	_strpbrk_ret_65536_27
                            129 ;	../_strpbrk.c: 45: }
   006D 60            [ 6]  130 	rts
                            131 	.area CODE
                            132 	.area RODATA
                            133 	.area XINIT
                            134 	.area CABS    (ABS)
