                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module mbrtoc16
                                      6 	.optsdcc -mmcs51 --model-huge
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _mbrtowc
                                     12 	.globl _mbrtoc16_PARM_4
                                     13 	.globl _mbrtoc16_PARM_3
                                     14 	.globl _mbrtoc16_PARM_2
                                     15 	.globl _mbrtoc16
                                     16 ;--------------------------------------------------------
                                     17 ; special function registers
                                     18 ;--------------------------------------------------------
                                     19 	.area RSEG    (ABS,DATA)
      000000                         20 	.org 0x0000
                                     21 ;--------------------------------------------------------
                                     22 ; special function bits
                                     23 ;--------------------------------------------------------
                                     24 	.area RSEG    (ABS,DATA)
      000000                         25 	.org 0x0000
                                     26 ;--------------------------------------------------------
                                     27 ; overlayable register banks
                                     28 ;--------------------------------------------------------
                                     29 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         30 	.ds 8
                                     31 ;--------------------------------------------------------
                                     32 ; internal ram data
                                     33 ;--------------------------------------------------------
                                     34 	.area DSEG    (DATA)
      000000                         35 _mbrtoc16_sloc0_1_0:
      000000                         36 	.ds 3
      000003                         37 _mbrtoc16_sloc1_1_0:
      000003                         38 	.ds 3
                                     39 ;--------------------------------------------------------
                                     40 ; overlayable items in internal ram
                                     41 ;--------------------------------------------------------
                                     42 ;--------------------------------------------------------
                                     43 ; indirectly addressable internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area ISEG    (DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; absolute internal ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area IABS    (ABS,DATA)
                                     50 	.area IABS    (ABS,DATA)
                                     51 ;--------------------------------------------------------
                                     52 ; bit data
                                     53 ;--------------------------------------------------------
                                     54 	.area BSEG    (BIT)
                                     55 ;--------------------------------------------------------
                                     56 ; paged external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area PSEG    (PAG,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; uninitialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
      000000                         63 _mbrtoc16_PARM_2:
      000000                         64 	.ds 3
      000003                         65 _mbrtoc16_PARM_3:
      000003                         66 	.ds 2
      000005                         67 _mbrtoc16_PARM_4:
      000005                         68 	.ds 3
      000008                         69 _mbrtoc16_pc16_65536_15:
      000008                         70 	.ds 3
      00000B                         71 _mbrtoc16_codepoint_65536_16:
      00000B                         72 	.ds 4
      00000F                         73 _mbrtoc16_sps_65536_16:
      00000F                         74 	.ds 3
      000012                         75 _mbrtoc16_low_surrogate_65536_16:
      000012                         76 	.ds 2
                                     77 ;--------------------------------------------------------
                                     78 ; absolute external ram data
                                     79 ;--------------------------------------------------------
                                     80 	.area XABS    (ABS,XDATA)
                                     81 ;--------------------------------------------------------
                                     82 ; initialized external ram data
                                     83 ;--------------------------------------------------------
                                     84 	.area XISEG   (XDATA)
                                     85 	.area HOME    (CODE)
                                     86 	.area GSINIT0 (CODE)
                                     87 	.area GSINIT1 (CODE)
                                     88 	.area GSINIT2 (CODE)
                                     89 	.area GSINIT3 (CODE)
                                     90 	.area GSINIT4 (CODE)
                                     91 	.area GSINIT5 (CODE)
                                     92 	.area GSINIT  (CODE)
                                     93 	.area GSFINAL (CODE)
                                     94 	.area CSEG    (CODE)
                                     95 ;--------------------------------------------------------
                                     96 ; global & static initialisations
                                     97 ;--------------------------------------------------------
                                     98 	.area HOME    (CODE)
                                     99 	.area GSINIT  (CODE)
                                    100 	.area GSFINAL (CODE)
                                    101 	.area GSINIT  (CODE)
                                    102 ;--------------------------------------------------------
                                    103 ; Home
                                    104 ;--------------------------------------------------------
                                    105 	.area HOME    (CODE)
                                    106 	.area HOME    (CODE)
                                    107 ;--------------------------------------------------------
                                    108 ; code
                                    109 ;--------------------------------------------------------
                                    110 	.area CSEG    (CODE)
                                    111 ;------------------------------------------------------------
                                    112 ;Allocation info for local variables in function 'mbrtoc16'
                                    113 ;------------------------------------------------------------
                                    114 ;sloc0                     Allocated with name '_mbrtoc16_sloc0_1_0'
                                    115 ;sloc1                     Allocated with name '_mbrtoc16_sloc1_1_0'
                                    116 ;s                         Allocated with name '_mbrtoc16_PARM_2'
                                    117 ;n                         Allocated with name '_mbrtoc16_PARM_3'
                                    118 ;ps                        Allocated with name '_mbrtoc16_PARM_4'
                                    119 ;pc16                      Allocated with name '_mbrtoc16_pc16_65536_15'
                                    120 ;codepoint                 Allocated with name '_mbrtoc16_codepoint_65536_16'
                                    121 ;ret                       Allocated with name '_mbrtoc16_ret_65536_16'
                                    122 ;sps                       Allocated with name '_mbrtoc16_sps_65536_16'
                                    123 ;low_surrogate             Allocated with name '_mbrtoc16_low_surrogate_65536_16'
                                    124 ;------------------------------------------------------------
                                    125 ;	mbrtoc16.c:34: size_t mbrtoc16(char16_t *restrict pc16, const char *restrict s, size_t n, mbstate_t *restrict ps)
                                    126 ;	-----------------------------------------
                                    127 ;	 function mbrtoc16
                                    128 ;	-----------------------------------------
      000000                        129 _mbrtoc16:
                           000007   130 	ar7 = 0x07
                           000006   131 	ar6 = 0x06
                           000005   132 	ar5 = 0x05
                           000004   133 	ar4 = 0x04
                           000003   134 	ar3 = 0x03
                           000002   135 	ar2 = 0x02
                           000001   136 	ar1 = 0x01
                           000000   137 	ar0 = 0x00
      000000 AF F0            [24]  138 	mov	r7,b
      000002 AE 83            [24]  139 	mov	r6,dph
      000004 E5 82            [12]  140 	mov	a,dpl
      000006 90r00r08         [24]  141 	mov	dptr,#_mbrtoc16_pc16_65536_15
      000009 F0               [24]  142 	movx	@dptr,a
      00000A EE               [12]  143 	mov	a,r6
      00000B A3               [24]  144 	inc	dptr
      00000C F0               [24]  145 	movx	@dptr,a
      00000D EF               [12]  146 	mov	a,r7
      00000E A3               [24]  147 	inc	dptr
      00000F F0               [24]  148 	movx	@dptr,a
                                    149 ;	mbrtoc16.c:41: if(!s)
      000010 90r00r00         [24]  150 	mov	dptr,#_mbrtoc16_PARM_2
      000013 E0               [24]  151 	movx	a,@dptr
      000014 FD               [12]  152 	mov	r5,a
      000015 A3               [24]  153 	inc	dptr
      000016 E0               [24]  154 	movx	a,@dptr
      000017 FE               [12]  155 	mov	r6,a
      000018 A3               [24]  156 	inc	dptr
      000019 E0               [24]  157 	movx	a,@dptr
      00001A FF               [12]  158 	mov	r7,a
      00001B 90r00r00         [24]  159 	mov	dptr,#_mbrtoc16_PARM_2
      00001E E0               [24]  160 	movx	a,@dptr
      00001F F5 F0            [12]  161 	mov	b,a
      000021 A3               [24]  162 	inc	dptr
      000022 E0               [24]  163 	movx	a,@dptr
      000023 45 F0            [12]  164 	orl	a,b
      000025 70 42            [24]  165 	jnz	00102$
                                    166 ;	mbrtoc16.c:42: return(mbrtoc16(0, "", 1, ps));
      000027 90r00r05         [24]  167 	mov	dptr,#_mbrtoc16_PARM_4
      00002A E0               [24]  168 	movx	a,@dptr
      00002B FA               [12]  169 	mov	r2,a
      00002C A3               [24]  170 	inc	dptr
      00002D E0               [24]  171 	movx	a,@dptr
      00002E FB               [12]  172 	mov	r3,a
      00002F A3               [24]  173 	inc	dptr
      000030 E0               [24]  174 	movx	a,@dptr
      000031 FC               [12]  175 	mov	r4,a
      000032 90r00r00         [24]  176 	mov	dptr,#_mbrtoc16_PARM_2
      000035 74r00            [12]  177 	mov	a,#___str_0
      000037 F0               [24]  178 	movx	@dptr,a
      000038 74s00            [12]  179 	mov	a,#(___str_0 >> 8)
      00003A A3               [24]  180 	inc	dptr
      00003B F0               [24]  181 	movx	@dptr,a
      00003C 74 80            [12]  182 	mov	a,#0x80
      00003E A3               [24]  183 	inc	dptr
      00003F F0               [24]  184 	movx	@dptr,a
      000040 90r00r03         [24]  185 	mov	dptr,#_mbrtoc16_PARM_3
      000043 23               [12]  186 	rl	a
      000044 F0               [24]  187 	movx	@dptr,a
      000045 E4               [12]  188 	clr	a
      000046 A3               [24]  189 	inc	dptr
      000047 F0               [24]  190 	movx	@dptr,a
      000048 90r00r05         [24]  191 	mov	dptr,#_mbrtoc16_PARM_4
      00004B EA               [12]  192 	mov	a,r2
      00004C F0               [24]  193 	movx	@dptr,a
      00004D EB               [12]  194 	mov	a,r3
      00004E A3               [24]  195 	inc	dptr
      00004F F0               [24]  196 	movx	@dptr,a
      000050 EC               [12]  197 	mov	a,r4
      000051 A3               [24]  198 	inc	dptr
      000052 F0               [24]  199 	movx	@dptr,a
      000053 90 00 00         [24]  200 	mov	dptr,#0x0000
      000056 75 F0 00         [24]  201 	mov	b,#0x00
      000059 78r00            [12]  202 	mov	r0,#_mbrtoc16
      00005B 79s00            [12]  203 	mov	r1,#(_mbrtoc16 >> 8)
      00005D 7As00            [12]  204 	mov	r2,#(_mbrtoc16 >> 16)
      00005F 12r00r00         [24]  205 	lcall	__sdcc_banked_call
      000062 AB 82            [24]  206 	mov	r3,dpl
      000064 AC 83            [24]  207 	mov  r4,dph
      000066 02r00r00         [24]  208 	ljmp	__sdcc_banked_ret
      000069                        209 00102$:
                                    210 ;	mbrtoc16.c:44: if(!ps)
      000069 90r00r05         [24]  211 	mov	dptr,#_mbrtoc16_PARM_4
      00006C E0               [24]  212 	movx	a,@dptr
      00006D F5 F0            [12]  213 	mov	b,a
      00006F A3               [24]  214 	inc	dptr
      000070 E0               [24]  215 	movx	a,@dptr
      000071 45 F0            [12]  216 	orl	a,b
      000073 70 0D            [24]  217 	jnz	00104$
                                    218 ;	mbrtoc16.c:45: ps = &sps;
      000075 90r00r05         [24]  219 	mov	dptr,#_mbrtoc16_PARM_4
      000078 74r0F            [12]  220 	mov	a,#_mbrtoc16_sps_65536_16
      00007A F0               [24]  221 	movx	@dptr,a
      00007B 74s00            [12]  222 	mov	a,#(_mbrtoc16_sps_65536_16 >> 8)
      00007D A3               [24]  223 	inc	dptr
      00007E F0               [24]  224 	movx	@dptr,a
      00007F E4               [12]  225 	clr	a
      000080 A3               [24]  226 	inc	dptr
      000081 F0               [24]  227 	movx	@dptr,a
      000082                        228 00104$:
                                    229 ;	mbrtoc16.c:47: if(!ps->c[0] && (ps->c[1] || ps->c[2]))
      000082 90r00r05         [24]  230 	mov	dptr,#_mbrtoc16_PARM_4
      000085 E0               [24]  231 	movx	a,@dptr
      000086 FA               [12]  232 	mov	r2,a
      000087 A3               [24]  233 	inc	dptr
      000088 E0               [24]  234 	movx	a,@dptr
      000089 FB               [12]  235 	mov	r3,a
      00008A A3               [24]  236 	inc	dptr
      00008B E0               [24]  237 	movx	a,@dptr
      00008C FC               [12]  238 	mov	r4,a
      00008D 8A 82            [24]  239 	mov	dpl,r2
      00008F 8B 83            [24]  240 	mov	dph,r3
      000091 8C F0            [24]  241 	mov	b,r4
      000093 12r00r00         [24]  242 	lcall	__gptrget
      000096 60 03            [24]  243 	jz	00159$
      000098 02r01r80         [24]  244 	ljmp	00108$
      00009B                        245 00159$:
      00009B C0 05            [24]  246 	push	ar5
      00009D C0 06            [24]  247 	push	ar6
      00009F C0 07            [24]  248 	push	ar7
      0000A1 74 01            [12]  249 	mov	a,#0x01
      0000A3 2A               [12]  250 	add	a,r2
      0000A4 F8               [12]  251 	mov	r0,a
      0000A5 E4               [12]  252 	clr	a
      0000A6 3B               [12]  253 	addc	a,r3
      0000A7 F9               [12]  254 	mov	r1,a
      0000A8 8C 07            [24]  255 	mov	ar7,r4
      0000AA 88 82            [24]  256 	mov	dpl,r0
      0000AC 89 83            [24]  257 	mov	dph,r1
      0000AE 8F F0            [24]  258 	mov	b,r7
      0000B0 12r00r00         [24]  259 	lcall	__gptrget
      0000B3 D0 07            [24]  260 	pop	ar7
      0000B5 D0 06            [24]  261 	pop	ar6
      0000B7 D0 05            [24]  262 	pop	ar5
      0000B9 70 15            [24]  263 	jnz	00107$
      0000BB 74 02            [12]  264 	mov	a,#0x02
      0000BD 2A               [12]  265 	add	a,r2
      0000BE FA               [12]  266 	mov	r2,a
      0000BF E4               [12]  267 	clr	a
      0000C0 3B               [12]  268 	addc	a,r3
      0000C1 FB               [12]  269 	mov	r3,a
      0000C2 8A 82            [24]  270 	mov	dpl,r2
      0000C4 8B 83            [24]  271 	mov	dph,r3
      0000C6 8C F0            [24]  272 	mov	b,r4
      0000C8 12r00r00         [24]  273 	lcall	__gptrget
      0000CB 70 03            [24]  274 	jnz	00161$
      0000CD 02r01r80         [24]  275 	ljmp	00108$
      0000D0                        276 00161$:
      0000D0                        277 00107$:
                                    278 ;	mbrtoc16.c:49: if(pc16)
      0000D0 90r00r08         [24]  279 	mov	dptr,#_mbrtoc16_pc16_65536_15
      0000D3 E0               [24]  280 	movx	a,@dptr
      0000D4 F5*00            [12]  281 	mov	_mbrtoc16_sloc0_1_0,a
      0000D6 A3               [24]  282 	inc	dptr
      0000D7 E0               [24]  283 	movx	a,@dptr
      0000D8 F5*01            [12]  284 	mov	(_mbrtoc16_sloc0_1_0 + 1),a
      0000DA A3               [24]  285 	inc	dptr
      0000DB E0               [24]  286 	movx	a,@dptr
      0000DC F5*02            [12]  287 	mov	(_mbrtoc16_sloc0_1_0 + 2),a
      0000DE 90r00r08         [24]  288 	mov	dptr,#_mbrtoc16_pc16_65536_15
      0000E1 E0               [24]  289 	movx	a,@dptr
      0000E2 F5 F0            [12]  290 	mov	b,a
      0000E4 A3               [24]  291 	inc	dptr
      0000E5 E0               [24]  292 	movx	a,@dptr
      0000E6 45 F0            [12]  293 	orl	a,b
      0000E8 60 53            [24]  294 	jz	00106$
                                    295 ;	mbrtoc16.c:50: *pc16 = ps->c[1] + (ps->c[2] << 8);
      0000EA 90r00r05         [24]  296 	mov	dptr,#_mbrtoc16_PARM_4
      0000ED E0               [24]  297 	movx	a,@dptr
      0000EE F5*03            [12]  298 	mov	_mbrtoc16_sloc1_1_0,a
      0000F0 A3               [24]  299 	inc	dptr
      0000F1 E0               [24]  300 	movx	a,@dptr
      0000F2 F5*04            [12]  301 	mov	(_mbrtoc16_sloc1_1_0 + 1),a
      0000F4 A3               [24]  302 	inc	dptr
      0000F5 E0               [24]  303 	movx	a,@dptr
      0000F6 F5*05            [12]  304 	mov	(_mbrtoc16_sloc1_1_0 + 2),a
      0000F8 74 01            [12]  305 	mov	a,#0x01
      0000FA 25*03            [12]  306 	add	a,_mbrtoc16_sloc1_1_0
      0000FC FA               [12]  307 	mov	r2,a
      0000FD E4               [12]  308 	clr	a
      0000FE 35*04            [12]  309 	addc	a,(_mbrtoc16_sloc1_1_0 + 1)
      000100 FB               [12]  310 	mov	r3,a
      000101 AC*05            [24]  311 	mov	r4,(_mbrtoc16_sloc1_1_0 + 2)
      000103 8A 82            [24]  312 	mov	dpl,r2
      000105 8B 83            [24]  313 	mov	dph,r3
      000107 8C F0            [24]  314 	mov	b,r4
      000109 12r00r00         [24]  315 	lcall	__gptrget
      00010C FA               [12]  316 	mov	r2,a
      00010D 7C 00            [12]  317 	mov	r4,#0x00
      00010F 74 02            [12]  318 	mov	a,#0x02
      000111 25*03            [12]  319 	add	a,_mbrtoc16_sloc1_1_0
      000113 F8               [12]  320 	mov	r0,a
      000114 E4               [12]  321 	clr	a
      000115 35*04            [12]  322 	addc	a,(_mbrtoc16_sloc1_1_0 + 1)
      000117 F9               [12]  323 	mov	r1,a
      000118 AB*05            [24]  324 	mov	r3,(_mbrtoc16_sloc1_1_0 + 2)
      00011A 88 82            [24]  325 	mov	dpl,r0
      00011C 89 83            [24]  326 	mov	dph,r1
      00011E 8B F0            [24]  327 	mov	b,r3
      000120 12r00r00         [24]  328 	lcall	__gptrget
      000123 FB               [12]  329 	mov	r3,a
      000124 E4               [12]  330 	clr	a
      000125 F8               [12]  331 	mov	r0,a
      000126 2A               [12]  332 	add	a,r2
      000127 FA               [12]  333 	mov	r2,a
      000128 EB               [12]  334 	mov	a,r3
      000129 3C               [12]  335 	addc	a,r4
      00012A FC               [12]  336 	mov	r4,a
      00012B 85*00 82         [24]  337 	mov	dpl,_mbrtoc16_sloc0_1_0
      00012E 85*01 83         [24]  338 	mov	dph,(_mbrtoc16_sloc0_1_0 + 1)
      000131 85*02 F0         [24]  339 	mov	b,(_mbrtoc16_sloc0_1_0 + 2)
      000134 EA               [12]  340 	mov	a,r2
      000135 12r00r00         [24]  341 	lcall	__gptrput
      000138 A3               [24]  342 	inc	dptr
      000139 EC               [12]  343 	mov	a,r4
      00013A 12r00r00         [24]  344 	lcall	__gptrput
      00013D                        345 00106$:
                                    346 ;	mbrtoc16.c:51: ps->c[1] = ps->c[2] = 0;
      00013D 90r00r05         [24]  347 	mov	dptr,#_mbrtoc16_PARM_4
      000140 E0               [24]  348 	movx	a,@dptr
      000141 F5*03            [12]  349 	mov	_mbrtoc16_sloc1_1_0,a
      000143 A3               [24]  350 	inc	dptr
      000144 E0               [24]  351 	movx	a,@dptr
      000145 F5*04            [12]  352 	mov	(_mbrtoc16_sloc1_1_0 + 1),a
      000147 A3               [24]  353 	inc	dptr
      000148 E0               [24]  354 	movx	a,@dptr
      000149 F5*05            [12]  355 	mov	(_mbrtoc16_sloc1_1_0 + 2),a
      00014B 74 01            [12]  356 	mov	a,#0x01
      00014D 25*03            [12]  357 	add	a,_mbrtoc16_sloc1_1_0
      00014F F5*00            [12]  358 	mov	_mbrtoc16_sloc0_1_0,a
      000151 E4               [12]  359 	clr	a
      000152 35*04            [12]  360 	addc	a,(_mbrtoc16_sloc1_1_0 + 1)
      000154 F5*01            [12]  361 	mov	(_mbrtoc16_sloc0_1_0 + 1),a
      000156 85*05*02         [24]  362 	mov	(_mbrtoc16_sloc0_1_0 + 2),(_mbrtoc16_sloc1_1_0 + 2)
      000159 74 02            [12]  363 	mov	a,#0x02
      00015B 25*03            [12]  364 	add	a,_mbrtoc16_sloc1_1_0
      00015D FA               [12]  365 	mov	r2,a
      00015E E4               [12]  366 	clr	a
      00015F 35*04            [12]  367 	addc	a,(_mbrtoc16_sloc1_1_0 + 1)
      000161 FB               [12]  368 	mov	r3,a
      000162 AC*05            [24]  369 	mov	r4,(_mbrtoc16_sloc1_1_0 + 2)
      000164 8A 82            [24]  370 	mov	dpl,r2
      000166 8B 83            [24]  371 	mov	dph,r3
      000168 8C F0            [24]  372 	mov	b,r4
      00016A E4               [12]  373 	clr	a
      00016B 12r00r00         [24]  374 	lcall	__gptrput
      00016E 85*00 82         [24]  375 	mov	dpl,_mbrtoc16_sloc0_1_0
      000171 85*01 83         [24]  376 	mov	dph,(_mbrtoc16_sloc0_1_0 + 1)
      000174 85*02 F0         [24]  377 	mov	b,(_mbrtoc16_sloc0_1_0 + 2)
      000177 12r00r00         [24]  378 	lcall	__gptrput
                                    379 ;	mbrtoc16.c:52: return(-3);
      00017A 90 FF FD         [24]  380 	mov	dptr,#0xfffd
      00017D 02r00r00         [24]  381 	ljmp	__sdcc_banked_ret
      000180                        382 00108$:
                                    383 ;	mbrtoc16.c:55: ret = mbrtowc(&codepoint, s, n, ps);
      000180 90r00r03         [24]  384 	mov	dptr,#_mbrtoc16_PARM_3
      000183 E0               [24]  385 	movx	a,@dptr
      000184 FB               [12]  386 	mov	r3,a
      000185 A3               [24]  387 	inc	dptr
      000186 E0               [24]  388 	movx	a,@dptr
      000187 FC               [12]  389 	mov	r4,a
      000188 90r00r05         [24]  390 	mov	dptr,#_mbrtoc16_PARM_4
      00018B E0               [24]  391 	movx	a,@dptr
      00018C F8               [12]  392 	mov	r0,a
      00018D A3               [24]  393 	inc	dptr
      00018E E0               [24]  394 	movx	a,@dptr
      00018F F9               [12]  395 	mov	r1,a
      000190 A3               [24]  396 	inc	dptr
      000191 E0               [24]  397 	movx	a,@dptr
      000192 FA               [12]  398 	mov	r2,a
      000193 90r00r00         [24]  399 	mov	dptr,#_mbrtowc_PARM_2
      000196 ED               [12]  400 	mov	a,r5
      000197 F0               [24]  401 	movx	@dptr,a
      000198 EE               [12]  402 	mov	a,r6
      000199 A3               [24]  403 	inc	dptr
      00019A F0               [24]  404 	movx	@dptr,a
      00019B EF               [12]  405 	mov	a,r7
      00019C A3               [24]  406 	inc	dptr
      00019D F0               [24]  407 	movx	@dptr,a
      00019E 90r00r00         [24]  408 	mov	dptr,#_mbrtowc_PARM_3
      0001A1 EB               [12]  409 	mov	a,r3
      0001A2 F0               [24]  410 	movx	@dptr,a
      0001A3 EC               [12]  411 	mov	a,r4
      0001A4 A3               [24]  412 	inc	dptr
      0001A5 F0               [24]  413 	movx	@dptr,a
      0001A6 90r00r00         [24]  414 	mov	dptr,#_mbrtowc_PARM_4
      0001A9 E8               [12]  415 	mov	a,r0
      0001AA F0               [24]  416 	movx	@dptr,a
      0001AB E9               [12]  417 	mov	a,r1
      0001AC A3               [24]  418 	inc	dptr
      0001AD F0               [24]  419 	movx	@dptr,a
      0001AE EA               [12]  420 	mov	a,r2
      0001AF A3               [24]  421 	inc	dptr
      0001B0 F0               [24]  422 	movx	@dptr,a
      0001B1 90r00r0B         [24]  423 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      0001B4 75 F0 00         [24]  424 	mov	b,#0x00
      0001B7 78r00            [12]  425 	mov	r0,#_mbrtowc
      0001B9 79s00            [12]  426 	mov	r1,#(_mbrtowc >> 8)
      0001BB 7As00            [12]  427 	mov	r2,#(_mbrtowc >> 16)
      0001BD 12r00r00         [24]  428 	lcall	__sdcc_banked_call
      0001C0 AE 82            [24]  429 	mov	r6,dpl
      0001C2 AF 83            [24]  430 	mov	r7,dph
                                    431 ;	mbrtoc16.c:57: if(ret > MB_LEN_MAX)
      0001C4 C3               [12]  432 	clr	c
      0001C5 74 04            [12]  433 	mov	a,#0x04
      0001C7 9E               [12]  434 	subb	a,r6
      0001C8 E4               [12]  435 	clr	a
      0001C9 9F               [12]  436 	subb	a,r7
      0001CA 50 07            [24]  437 	jnc	00112$
                                    438 ;	mbrtoc16.c:58: return(ret);
      0001CC 8E 82            [24]  439 	mov	dpl,r6
      0001CE 8F 83            [24]  440 	mov	dph,r7
      0001D0 02r00r00         [24]  441 	ljmp	__sdcc_banked_ret
      0001D3                        442 00112$:
                                    443 ;	mbrtoc16.c:60: if (codepoint <= 0xffff) // Basic multilingual plane
      0001D3 90r00r0B         [24]  444 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      0001D6 E0               [24]  445 	movx	a,@dptr
      0001D7 FA               [12]  446 	mov	r2,a
      0001D8 A3               [24]  447 	inc	dptr
      0001D9 E0               [24]  448 	movx	a,@dptr
      0001DA FB               [12]  449 	mov	r3,a
      0001DB A3               [24]  450 	inc	dptr
      0001DC E0               [24]  451 	movx	a,@dptr
      0001DD FC               [12]  452 	mov	r4,a
      0001DE A3               [24]  453 	inc	dptr
      0001DF E0               [24]  454 	movx	a,@dptr
      0001E0 FD               [12]  455 	mov	r5,a
      0001E1 C3               [12]  456 	clr	c
      0001E2 74 FF            [12]  457 	mov	a,#0xff
      0001E4 9A               [12]  458 	subb	a,r2
      0001E5 74 FF            [12]  459 	mov	a,#0xff
      0001E7 9B               [12]  460 	subb	a,r3
      0001E8 E4               [12]  461 	clr	a
      0001E9 9C               [12]  462 	subb	a,r4
      0001EA E4               [12]  463 	clr	a
      0001EB 9D               [12]  464 	subb	a,r5
      0001EC 40 37            [24]  465 	jc	00116$
                                    466 ;	mbrtoc16.c:62: if(pc16)
      0001EE 90r00r08         [24]  467 	mov	dptr,#_mbrtoc16_pc16_65536_15
      0001F1 E0               [24]  468 	movx	a,@dptr
      0001F2 F5*03            [12]  469 	mov	_mbrtoc16_sloc1_1_0,a
      0001F4 A3               [24]  470 	inc	dptr
      0001F5 E0               [24]  471 	movx	a,@dptr
      0001F6 F5*04            [12]  472 	mov	(_mbrtoc16_sloc1_1_0 + 1),a
      0001F8 A3               [24]  473 	inc	dptr
      0001F9 E0               [24]  474 	movx	a,@dptr
      0001FA F5*05            [12]  475 	mov	(_mbrtoc16_sloc1_1_0 + 2),a
      0001FC 90r00r08         [24]  476 	mov	dptr,#_mbrtoc16_pc16_65536_15
      0001FF E0               [24]  477 	movx	a,@dptr
      000200 F5 F0            [12]  478 	mov	b,a
      000202 A3               [24]  479 	inc	dptr
      000203 E0               [24]  480 	movx	a,@dptr
      000204 45 F0            [12]  481 	orl	a,b
      000206 60 16            [24]  482 	jz	00114$
                                    483 ;	mbrtoc16.c:63: *pc16 = codepoint;
      000208 8A 00            [24]  484 	mov	ar0,r2
      00020A 8B 01            [24]  485 	mov	ar1,r3
      00020C 85*03 82         [24]  486 	mov	dpl,_mbrtoc16_sloc1_1_0
      00020F 85*04 83         [24]  487 	mov	dph,(_mbrtoc16_sloc1_1_0 + 1)
      000212 85*05 F0         [24]  488 	mov	b,(_mbrtoc16_sloc1_1_0 + 2)
      000215 E8               [12]  489 	mov	a,r0
      000216 12r00r00         [24]  490 	lcall	__gptrput
      000219 A3               [24]  491 	inc	dptr
      00021A E9               [12]  492 	mov	a,r1
      00021B 12r00r00         [24]  493 	lcall	__gptrput
      00021E                        494 00114$:
                                    495 ;	mbrtoc16.c:64: return(ret);
      00021E 8E 82            [24]  496 	mov	dpl,r6
      000220 8F 83            [24]  497 	mov	dph,r7
      000222 02r00r00         [24]  498 	ljmp	__sdcc_banked_ret
      000225                        499 00116$:
                                    500 ;	mbrtoc16.c:67: codepoint -= 0x100000;
      000225 EC               [12]  501 	mov	a,r4
      000226 24 F0            [12]  502 	add	a,#0xf0
      000228 FC               [12]  503 	mov	r4,a
      000229 ED               [12]  504 	mov	a,r5
      00022A 34 FF            [12]  505 	addc	a,#0xff
      00022C FD               [12]  506 	mov	r5,a
      00022D 90r00r0B         [24]  507 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      000230 EA               [12]  508 	mov	a,r2
      000231 F0               [24]  509 	movx	@dptr,a
      000232 EB               [12]  510 	mov	a,r3
      000233 A3               [24]  511 	inc	dptr
      000234 F0               [24]  512 	movx	@dptr,a
      000235 EC               [12]  513 	mov	a,r4
      000236 A3               [24]  514 	inc	dptr
      000237 F0               [24]  515 	movx	@dptr,a
      000238 ED               [12]  516 	mov	a,r5
      000239 A3               [24]  517 	inc	dptr
      00023A F0               [24]  518 	movx	@dptr,a
                                    519 ;	mbrtoc16.c:68: if(pc16)
      00023B 90r00r08         [24]  520 	mov	dptr,#_mbrtoc16_pc16_65536_15
      00023E E0               [24]  521 	movx	a,@dptr
      00023F FB               [12]  522 	mov	r3,a
      000240 A3               [24]  523 	inc	dptr
      000241 E0               [24]  524 	movx	a,@dptr
      000242 FC               [12]  525 	mov	r4,a
      000243 A3               [24]  526 	inc	dptr
      000244 E0               [24]  527 	movx	a,@dptr
      000245 FD               [12]  528 	mov	r5,a
      000246 90r00r08         [24]  529 	mov	dptr,#_mbrtoc16_pc16_65536_15
      000249 E0               [24]  530 	movx	a,@dptr
      00024A F5 F0            [12]  531 	mov	b,a
      00024C A3               [24]  532 	inc	dptr
      00024D E0               [24]  533 	movx	a,@dptr
      00024E 45 F0            [12]  534 	orl	a,b
      000250 60 46            [24]  535 	jz	00118$
                                    536 ;	mbrtoc16.c:69: *pc16 = ((codepoint >> 10) & 0x3ff) + 0xd800;
      000252 C0 06            [24]  537 	push	ar6
      000254 C0 07            [24]  538 	push	ar7
      000256 90r00r0B         [24]  539 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      000259 E0               [24]  540 	movx	a,@dptr
      00025A A3               [24]  541 	inc	dptr
      00025B E0               [24]  542 	movx	a,@dptr
      00025C F9               [12]  543 	mov	r1,a
      00025D A3               [24]  544 	inc	dptr
      00025E E0               [24]  545 	movx	a,@dptr
      00025F FA               [12]  546 	mov	r2,a
      000260 A3               [24]  547 	inc	dptr
      000261 E0               [24]  548 	movx	a,@dptr
      000262 FF               [12]  549 	mov	r7,a
      000263 89 00            [24]  550 	mov	ar0,r1
      000265 EA               [12]  551 	mov	a,r2
      000266 C3               [12]  552 	clr	c
      000267 13               [12]  553 	rrc	a
      000268 C8               [12]  554 	xch	a,r0
      000269 13               [12]  555 	rrc	a
      00026A C8               [12]  556 	xch	a,r0
      00026B C3               [12]  557 	clr	c
      00026C 13               [12]  558 	rrc	a
      00026D C8               [12]  559 	xch	a,r0
      00026E 13               [12]  560 	rrc	a
      00026F C8               [12]  561 	xch	a,r0
      000270 F9               [12]  562 	mov	r1,a
      000271 EF               [12]  563 	mov	a,r7
      000272 03               [12]  564 	rr	a
      000273 03               [12]  565 	rr	a
      000274 54 C0            [12]  566 	anl	a,#0xc0
      000276 49               [12]  567 	orl	a,r1
      000277 F9               [12]  568 	mov	r1,a
      000278 EF               [12]  569 	mov	a,r7
      000279 03               [12]  570 	rr	a
      00027A 03               [12]  571 	rr	a
      00027B 54 3F            [12]  572 	anl	a,#0x3f
      00027D FA               [12]  573 	mov	r2,a
      00027E 53 01 03         [24]  574 	anl	ar1,#0x03
      000281 74 D8            [12]  575 	mov	a,#0xd8
      000283 29               [12]  576 	add	a,r1
      000284 F9               [12]  577 	mov	r1,a
      000285 8B 82            [24]  578 	mov	dpl,r3
      000287 8C 83            [24]  579 	mov	dph,r4
      000289 8D F0            [24]  580 	mov	b,r5
      00028B E8               [12]  581 	mov	a,r0
      00028C 12r00r00         [24]  582 	lcall	__gptrput
      00028F A3               [24]  583 	inc	dptr
      000290 E9               [12]  584 	mov	a,r1
      000291 12r00r00         [24]  585 	lcall	__gptrput
                                    586 ;	mbrtoc16.c:75: return(ret);
      000294 D0 07            [24]  587 	pop	ar7
      000296 D0 06            [24]  588 	pop	ar6
                                    589 ;	mbrtoc16.c:69: *pc16 = ((codepoint >> 10) & 0x3ff) + 0xd800;
      000298                        590 00118$:
                                    591 ;	mbrtoc16.c:70: low_surrogate = (codepoint & 0x3ff) + 0xdc00;
      000298 90r00r0B         [24]  592 	mov	dptr,#_mbrtoc16_codepoint_65536_16
      00029B E0               [24]  593 	movx	a,@dptr
      00029C FA               [12]  594 	mov	r2,a
      00029D A3               [24]  595 	inc	dptr
      00029E E0               [24]  596 	movx	a,@dptr
      00029F FB               [12]  597 	mov	r3,a
      0002A0 A3               [24]  598 	inc	dptr
      0002A1 E0               [24]  599 	movx	a,@dptr
      0002A2 A3               [24]  600 	inc	dptr
      0002A3 E0               [24]  601 	movx	a,@dptr
      0002A4 53 03 03         [24]  602 	anl	ar3,#0x03
      0002A7 90r00r12         [24]  603 	mov	dptr,#_mbrtoc16_low_surrogate_65536_16
      0002AA EA               [12]  604 	mov	a,r2
      0002AB F0               [24]  605 	movx	@dptr,a
      0002AC 74 DC            [12]  606 	mov	a,#0xdc
      0002AE 2B               [12]  607 	add	a,r3
      0002AF A3               [24]  608 	inc	dptr
      0002B0 F0               [24]  609 	movx	@dptr,a
                                    610 ;	mbrtoc16.c:71: ps->c[0] = 0;
      0002B1 90r00r05         [24]  611 	mov	dptr,#_mbrtoc16_PARM_4
      0002B4 E0               [24]  612 	movx	a,@dptr
      0002B5 FB               [12]  613 	mov	r3,a
      0002B6 A3               [24]  614 	inc	dptr
      0002B7 E0               [24]  615 	movx	a,@dptr
      0002B8 FC               [12]  616 	mov	r4,a
      0002B9 A3               [24]  617 	inc	dptr
      0002BA E0               [24]  618 	movx	a,@dptr
      0002BB FD               [12]  619 	mov	r5,a
      0002BC 8B 82            [24]  620 	mov	dpl,r3
      0002BE 8C 83            [24]  621 	mov	dph,r4
      0002C0 8D F0            [24]  622 	mov	b,r5
      0002C2 E4               [12]  623 	clr	a
      0002C3 12r00r00         [24]  624 	lcall	__gptrput
                                    625 ;	mbrtoc16.c:72: ps->c[1] = low_surrogate & 0xff;
      0002C6 04               [12]  626 	inc	a
      0002C7 2B               [12]  627 	add	a,r3
      0002C8 F5*03            [12]  628 	mov	_mbrtoc16_sloc1_1_0,a
      0002CA E4               [12]  629 	clr	a
      0002CB 3C               [12]  630 	addc	a,r4
      0002CC F5*04            [12]  631 	mov	(_mbrtoc16_sloc1_1_0 + 1),a
      0002CE 8D*05            [24]  632 	mov	(_mbrtoc16_sloc1_1_0 + 2),r5
      0002D0 90r00r12         [24]  633 	mov	dptr,#_mbrtoc16_low_surrogate_65536_16
      0002D3 E0               [24]  634 	movx	a,@dptr
      0002D4 F9               [12]  635 	mov	r1,a
      0002D5 A3               [24]  636 	inc	dptr
      0002D6 E0               [24]  637 	movx	a,@dptr
      0002D7 FA               [12]  638 	mov	r2,a
      0002D8 89 00            [24]  639 	mov	ar0,r1
      0002DA 85*03 82         [24]  640 	mov	dpl,_mbrtoc16_sloc1_1_0
      0002DD 85*04 83         [24]  641 	mov	dph,(_mbrtoc16_sloc1_1_0 + 1)
      0002E0 85*05 F0         [24]  642 	mov	b,(_mbrtoc16_sloc1_1_0 + 2)
      0002E3 E8               [12]  643 	mov	a,r0
      0002E4 12r00r00         [24]  644 	lcall	__gptrput
                                    645 ;	mbrtoc16.c:73: ps->c[2] = low_surrogate >> 8;
      0002E7 74 02            [12]  646 	mov	a,#0x02
      0002E9 2B               [12]  647 	add	a,r3
      0002EA FB               [12]  648 	mov	r3,a
      0002EB E4               [12]  649 	clr	a
      0002EC 3C               [12]  650 	addc	a,r4
      0002ED FC               [12]  651 	mov	r4,a
      0002EE 8A 01            [24]  652 	mov	ar1,r2
      0002F0 8B 82            [24]  653 	mov	dpl,r3
      0002F2 8C 83            [24]  654 	mov	dph,r4
      0002F4 8D F0            [24]  655 	mov	b,r5
      0002F6 E9               [12]  656 	mov	a,r1
      0002F7 12r00r00         [24]  657 	lcall	__gptrput
                                    658 ;	mbrtoc16.c:75: return(ret);
      0002FA 8E 82            [24]  659 	mov	dpl,r6
      0002FC 8F 83            [24]  660 	mov	dph,r7
                                    661 ;	mbrtoc16.c:76: }
      0002FE 02r00r00         [24]  662 	ljmp	__sdcc_banked_ret
                                    663 	.area CSEG    (CODE)
                                    664 	.area CONST   (CODE)
                                    665 	.area CONST   (CODE)
      000000                        666 ___str_0:
      000000 00                     667 	.db 0x00
                                    668 	.area CSEG    (CODE)
                                    669 	.area XINIT   (CODE)
                                    670 	.area CABS    (ABS,CODE)
