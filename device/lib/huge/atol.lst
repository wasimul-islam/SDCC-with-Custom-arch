                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module atol
                                      6 	.optsdcc -mmcs51 --model-huge
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _atol
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
      000000                         31 _atol_sloc1_1_0:
      000000                         32 	.ds 4
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable items in internal ram
                                     35 ;--------------------------------------------------------
                                     36 ;--------------------------------------------------------
                                     37 ; indirectly addressable internal ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area ISEG    (DATA)
                                     40 ;--------------------------------------------------------
                                     41 ; absolute internal ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area IABS    (ABS,DATA)
                                     44 	.area IABS    (ABS,DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; bit data
                                     47 ;--------------------------------------------------------
                                     48 	.area BSEG    (BIT)
      000000                         49 _atol_sloc0_1_0:
      000000                         50 	.ds 1
                                     51 ;--------------------------------------------------------
                                     52 ; paged external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area PSEG    (PAG,XDATA)
                                     55 ;--------------------------------------------------------
                                     56 ; uninitialized external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area XSEG    (XDATA)
      000000                         59 _atol_nptr_65536_59:
      000000                         60 	.ds 3
      000003                         61 _atol_ret_65536_60:
      000003                         62 	.ds 4
      000007                         63 _atol_neg_65536_60:
      000007                         64 	.ds 1
                                     65 ;--------------------------------------------------------
                                     66 ; absolute external ram data
                                     67 ;--------------------------------------------------------
                                     68 	.area XABS    (ABS,XDATA)
                                     69 ;--------------------------------------------------------
                                     70 ; initialized external ram data
                                     71 ;--------------------------------------------------------
                                     72 	.area XISEG   (XDATA)
                                     73 	.area HOME    (CODE)
                                     74 	.area GSINIT0 (CODE)
                                     75 	.area GSINIT1 (CODE)
                                     76 	.area GSINIT2 (CODE)
                                     77 	.area GSINIT3 (CODE)
                                     78 	.area GSINIT4 (CODE)
                                     79 	.area GSINIT5 (CODE)
                                     80 	.area GSINIT  (CODE)
                                     81 	.area GSFINAL (CODE)
                                     82 	.area CSEG    (CODE)
                                     83 ;--------------------------------------------------------
                                     84 ; global & static initialisations
                                     85 ;--------------------------------------------------------
                                     86 	.area HOME    (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 	.area GSFINAL (CODE)
                                     89 	.area GSINIT  (CODE)
                                     90 ;--------------------------------------------------------
                                     91 ; Home
                                     92 ;--------------------------------------------------------
                                     93 	.area HOME    (CODE)
                                     94 	.area HOME    (CODE)
                                     95 ;--------------------------------------------------------
                                     96 ; code
                                     97 ;--------------------------------------------------------
                                     98 	.area CSEG    (CODE)
                                     99 ;------------------------------------------------------------
                                    100 ;Allocation info for local variables in function 'atol'
                                    101 ;------------------------------------------------------------
                                    102 ;sloc1                     Allocated with name '_atol_sloc1_1_0'
                                    103 ;nptr                      Allocated with name '_atol_nptr_65536_59'
                                    104 ;__1310720007              Allocated with name '_atol___1310720007_131072_60'
                                    105 ;__1310720004              Allocated with name '_atol___1310720004_131072_60'
                                    106 ;ret                       Allocated with name '_atol_ret_65536_60'
                                    107 ;neg                       Allocated with name '_atol_neg_65536_60'
                                    108 ;__1310720005              Allocated with name '_atol___1310720005_131072_61'
                                    109 ;c                         Allocated with name '_atol_c_196608_62'
                                    110 ;__1310720008              Allocated with name '_atol___1310720008_131072_64'
                                    111 ;c                         Allocated with name '_atol_c_196608_65'
                                    112 ;------------------------------------------------------------
                                    113 ;	atol.c:34: long int atol(const char *nptr)
                                    114 ;	-----------------------------------------
                                    115 ;	 function atol
                                    116 ;	-----------------------------------------
      000000                        117 _atol:
                           000007   118 	ar7 = 0x07
                           000006   119 	ar6 = 0x06
                           000005   120 	ar5 = 0x05
                           000004   121 	ar4 = 0x04
                           000003   122 	ar3 = 0x03
                           000002   123 	ar2 = 0x02
                           000001   124 	ar1 = 0x01
                           000000   125 	ar0 = 0x00
      000000 AF F0            [24]  126 	mov	r7,b
      000002 AE 83            [24]  127 	mov	r6,dph
      000004 E5 82            [12]  128 	mov	a,dpl
      000006 90r00r00         [24]  129 	mov	dptr,#_atol_nptr_65536_59
      000009 F0               [24]  130 	movx	@dptr,a
      00000A EE               [12]  131 	mov	a,r6
      00000B A3               [24]  132 	inc	dptr
      00000C F0               [24]  133 	movx	@dptr,a
      00000D EF               [12]  134 	mov	a,r7
      00000E A3               [24]  135 	inc	dptr
      00000F F0               [24]  136 	movx	@dptr,a
                                    137 ;	atol.c:36: long int ret = 0;
      000010 90r00r03         [24]  138 	mov	dptr,#_atol_ret_65536_60
      000013 E4               [12]  139 	clr	a
      000014 F0               [24]  140 	movx	@dptr,a
      000015 A3               [24]  141 	inc	dptr
      000016 F0               [24]  142 	movx	@dptr,a
      000017 A3               [24]  143 	inc	dptr
      000018 F0               [24]  144 	movx	@dptr,a
      000019 A3               [24]  145 	inc	dptr
      00001A F0               [24]  146 	movx	@dptr,a
                                    147 ;	atol.c:39: while (isblank (*nptr))
      00001B 90r00r00         [24]  148 	mov	dptr,#_atol_nptr_65536_59
      00001E E0               [24]  149 	movx	a,@dptr
      00001F FD               [12]  150 	mov	r5,a
      000020 A3               [24]  151 	inc	dptr
      000021 E0               [24]  152 	movx	a,@dptr
      000022 FE               [12]  153 	mov	r6,a
      000023 A3               [24]  154 	inc	dptr
      000024 E0               [24]  155 	movx	a,@dptr
      000025 FF               [12]  156 	mov	r7,a
      000026                        157 00101$:
      000026 8D 82            [24]  158 	mov	dpl,r5
      000028 8E 83            [24]  159 	mov	dph,r6
      00002A 8F F0            [24]  160 	mov	b,r7
      00002C 12r00r00         [24]  161 	lcall	__gptrget
      00002F FC               [12]  162 	mov	r4,a
                                    163 ;	../../device/include/ctype.h:53: return ((unsigned char)c == ' ' || (unsigned char)c == '\t');
      000030 BC 20 02         [24]  164 	cjne	r4,#0x20,00154$
      000033 80 03            [24]  165 	sjmp	00115$
      000035                        166 00154$:
      000035 BC 09 12         [24]  167 	cjne	r4,#0x09,00131$
      000038                        168 00115$:
                                    169 ;	atol.c:40: nptr++;
      000038 0D               [12]  170 	inc	r5
      000039 BD 00 01         [24]  171 	cjne	r5,#0x00,00157$
      00003C 0E               [12]  172 	inc	r6
      00003D                        173 00157$:
      00003D 90r00r00         [24]  174 	mov	dptr,#_atol_nptr_65536_59
      000040 ED               [12]  175 	mov	a,r5
      000041 F0               [24]  176 	movx	@dptr,a
      000042 EE               [12]  177 	mov	a,r6
      000043 A3               [24]  178 	inc	dptr
      000044 F0               [24]  179 	movx	@dptr,a
      000045 EF               [12]  180 	mov	a,r7
      000046 A3               [24]  181 	inc	dptr
      000047 F0               [24]  182 	movx	@dptr,a
      000048 80 DC            [24]  183 	sjmp	00101$
      00004A                        184 00131$:
      00004A 90r00r00         [24]  185 	mov	dptr,#_atol_nptr_65536_59
      00004D ED               [12]  186 	mov	a,r5
      00004E F0               [24]  187 	movx	@dptr,a
      00004F EE               [12]  188 	mov	a,r6
      000050 A3               [24]  189 	inc	dptr
      000051 F0               [24]  190 	movx	@dptr,a
      000052 EF               [12]  191 	mov	a,r7
      000053 A3               [24]  192 	inc	dptr
      000054 F0               [24]  193 	movx	@dptr,a
                                    194 ;	atol.c:42: neg = (*nptr == '-');
      000055 8D 82            [24]  195 	mov	dpl,r5
      000057 8E 83            [24]  196 	mov	dph,r6
      000059 8F F0            [24]  197 	mov	b,r7
      00005B 12r00r00         [24]  198 	lcall	__gptrget
      00005E FC               [12]  199 	mov	r4,a
      00005F 90r00r07         [24]  200 	mov	dptr,#_atol_neg_65536_60
      000062 E4               [12]  201 	clr	a
      000063 BC 2D 01         [24]  202 	cjne	r4,#0x2d,00158$
      000066 04               [12]  203 	inc	a
      000067                        204 00158$:
      000067 F0               [24]  205 	movx	@dptr,a
                                    206 ;	atol.c:44: if (*nptr == '-' || *nptr == '+')
      000068 BC 2D 02         [24]  207 	cjne	r4,#0x2d,00160$
      00006B 80 03            [24]  208 	sjmp	00104$
      00006D                        209 00160$:
      00006D BC 2B 0E         [24]  210 	cjne	r4,#0x2b,00129$
      000070                        211 00104$:
                                    212 ;	atol.c:45: nptr++;
      000070 90r00r00         [24]  213 	mov	dptr,#_atol_nptr_65536_59
      000073 74 01            [12]  214 	mov	a,#0x01
      000075 2D               [12]  215 	add	a,r5
      000076 F0               [24]  216 	movx	@dptr,a
      000077 E4               [12]  217 	clr	a
      000078 3E               [12]  218 	addc	a,r6
      000079 A3               [24]  219 	inc	dptr
      00007A F0               [24]  220 	movx	@dptr,a
      00007B EF               [12]  221 	mov	a,r7
      00007C A3               [24]  222 	inc	dptr
      00007D F0               [24]  223 	movx	@dptr,a
                                    224 ;	atol.c:47: while (isdigit (*nptr))
      00007E                        225 00129$:
      00007E 90r00r00         [24]  226 	mov	dptr,#_atol_nptr_65536_59
      000081 E0               [24]  227 	movx	a,@dptr
      000082 FD               [12]  228 	mov	r5,a
      000083 A3               [24]  229 	inc	dptr
      000084 E0               [24]  230 	movx	a,@dptr
      000085 FE               [12]  231 	mov	r6,a
      000086 A3               [24]  232 	inc	dptr
      000087 E0               [24]  233 	movx	a,@dptr
      000088 FF               [12]  234 	mov	r7,a
      000089                        235 00107$:
      000089 8D 82            [24]  236 	mov	dpl,r5
      00008B 8E 83            [24]  237 	mov	dph,r6
      00008D 8F F0            [24]  238 	mov	b,r7
      00008F 12r00r00         [24]  239 	lcall	__gptrget
      000092 FC               [12]  240 	mov	r4,a
                                    241 ;	../../device/include/ctype.h:62: return ((unsigned char)c >= '0' && (unsigned char)c <= '9');
      000093 BC 30 00         [24]  242 	cjne	r4,#0x30,00163$
      000096                        243 00163$:
      000096 92*00            [24]  244 	mov	_atol_sloc0_1_0,c
      000098 50 03            [24]  245 	jnc	00164$
      00009A 02r01r25         [24]  246 	ljmp	00132$
      00009D                        247 00164$:
      00009D EC               [12]  248 	mov	a,r4
      00009E 24 C6            [12]  249 	add	a,#0xff - 0x39
      0000A0 92*00            [24]  250 	mov	_atol_sloc0_1_0,c
      0000A2 50 03            [24]  251 	jnc	00165$
      0000A4 02r01r25         [24]  252 	ljmp	00132$
      0000A7                        253 00165$:
                                    254 ;	atol.c:48: ret = ret * 10 + (*(nptr++) - '0');
      0000A7 90r00r03         [24]  255 	mov	dptr,#_atol_ret_65536_60
      0000AA E0               [24]  256 	movx	a,@dptr
      0000AB F9               [12]  257 	mov	r1,a
      0000AC A3               [24]  258 	inc	dptr
      0000AD E0               [24]  259 	movx	a,@dptr
      0000AE FA               [12]  260 	mov	r2,a
      0000AF A3               [24]  261 	inc	dptr
      0000B0 E0               [24]  262 	movx	a,@dptr
      0000B1 FB               [12]  263 	mov	r3,a
      0000B2 A3               [24]  264 	inc	dptr
      0000B3 E0               [24]  265 	movx	a,@dptr
      0000B4 FC               [12]  266 	mov	r4,a
      0000B5 90r00r00         [24]  267 	mov	dptr,#__mullong_PARM_2
      0000B8 E9               [12]  268 	mov	a,r1
      0000B9 F0               [24]  269 	movx	@dptr,a
      0000BA EA               [12]  270 	mov	a,r2
      0000BB A3               [24]  271 	inc	dptr
      0000BC F0               [24]  272 	movx	@dptr,a
      0000BD EB               [12]  273 	mov	a,r3
      0000BE A3               [24]  274 	inc	dptr
      0000BF F0               [24]  275 	movx	@dptr,a
      0000C0 EC               [12]  276 	mov	a,r4
      0000C1 A3               [24]  277 	inc	dptr
      0000C2 F0               [24]  278 	movx	@dptr,a
      0000C3 90 00 0A         [24]  279 	mov	dptr,#(0x0a&0x00ff)
      0000C6 E4               [12]  280 	clr	a
      0000C7 F5 F0            [12]  281 	mov	b,a
      0000C9 C0 07            [24]  282 	push	ar7
      0000CB C0 06            [24]  283 	push	ar6
      0000CD C0 05            [24]  284 	push	ar5
      0000CF 12r00r00         [24]  285 	lcall	__mullong
      0000D2 85 82*00         [24]  286 	mov	_atol_sloc1_1_0,dpl
      0000D5 85 83*01         [24]  287 	mov	(_atol_sloc1_1_0 + 1),dph
      0000D8 85 F0*02         [24]  288 	mov	(_atol_sloc1_1_0 + 2),b
      0000DB F5*03            [12]  289 	mov	(_atol_sloc1_1_0 + 3),a
      0000DD D0 05            [24]  290 	pop	ar5
      0000DF D0 06            [24]  291 	pop	ar6
      0000E1 D0 07            [24]  292 	pop	ar7
      0000E3 8D 82            [24]  293 	mov	dpl,r5
      0000E5 8E 83            [24]  294 	mov	dph,r6
      0000E7 8F F0            [24]  295 	mov	b,r7
      0000E9 12r00r00         [24]  296 	lcall	__gptrget
      0000EC F8               [12]  297 	mov	r0,a
      0000ED A3               [24]  298 	inc	dptr
      0000EE AD 82            [24]  299 	mov	r5,dpl
      0000F0 AE 83            [24]  300 	mov	r6,dph
      0000F2 90r00r00         [24]  301 	mov	dptr,#_atol_nptr_65536_59
      0000F5 ED               [12]  302 	mov	a,r5
      0000F6 F0               [24]  303 	movx	@dptr,a
      0000F7 EE               [12]  304 	mov	a,r6
      0000F8 A3               [24]  305 	inc	dptr
      0000F9 F0               [24]  306 	movx	@dptr,a
      0000FA EF               [12]  307 	mov	a,r7
      0000FB A3               [24]  308 	inc	dptr
      0000FC F0               [24]  309 	movx	@dptr,a
      0000FD 7C 00            [12]  310 	mov	r4,#0x00
      0000FF E8               [12]  311 	mov	a,r0
      000100 24 D0            [12]  312 	add	a,#0xd0
      000102 F8               [12]  313 	mov	r0,a
      000103 EC               [12]  314 	mov	a,r4
      000104 34 FF            [12]  315 	addc	a,#0xff
      000106 FC               [12]  316 	mov	r4,a
      000107 33               [12]  317 	rlc	a
      000108 95 E0            [12]  318 	subb	a,acc
      00010A FB               [12]  319 	mov	r3,a
      00010B FA               [12]  320 	mov	r2,a
      00010C 90r00r03         [24]  321 	mov	dptr,#_atol_ret_65536_60
      00010F E8               [12]  322 	mov	a,r0
      000110 25*00            [12]  323 	add	a,_atol_sloc1_1_0
      000112 F0               [24]  324 	movx	@dptr,a
      000113 EC               [12]  325 	mov	a,r4
      000114 35*01            [12]  326 	addc	a,(_atol_sloc1_1_0 + 1)
      000116 A3               [24]  327 	inc	dptr
      000117 F0               [24]  328 	movx	@dptr,a
      000118 EB               [12]  329 	mov	a,r3
      000119 35*02            [12]  330 	addc	a,(_atol_sloc1_1_0 + 2)
      00011B A3               [24]  331 	inc	dptr
      00011C F0               [24]  332 	movx	@dptr,a
      00011D EA               [12]  333 	mov	a,r2
      00011E 35*03            [12]  334 	addc	a,(_atol_sloc1_1_0 + 3)
      000120 A3               [24]  335 	inc	dptr
      000121 F0               [24]  336 	movx	@dptr,a
      000122 02r00r89         [24]  337 	ljmp	00107$
      000125                        338 00132$:
      000125 90r00r00         [24]  339 	mov	dptr,#_atol_nptr_65536_59
      000128 ED               [12]  340 	mov	a,r5
      000129 F0               [24]  341 	movx	@dptr,a
      00012A EE               [12]  342 	mov	a,r6
      00012B A3               [24]  343 	inc	dptr
      00012C F0               [24]  344 	movx	@dptr,a
      00012D EF               [12]  345 	mov	a,r7
      00012E A3               [24]  346 	inc	dptr
      00012F F0               [24]  347 	movx	@dptr,a
                                    348 ;	atol.c:50: return (neg ? -ret : ret); // Since -LONG_MIN is LONG_MIN in sdcc, the result value always turns out ok.
      000130 90r00r07         [24]  349 	mov	dptr,#_atol_neg_65536_60
      000133 E0               [24]  350 	movx	a,@dptr
      000134 60 1D            [24]  351 	jz	00120$
      000136 90r00r03         [24]  352 	mov	dptr,#_atol_ret_65536_60
      000139 E0               [24]  353 	movx	a,@dptr
      00013A FC               [12]  354 	mov	r4,a
      00013B A3               [24]  355 	inc	dptr
      00013C E0               [24]  356 	movx	a,@dptr
      00013D FD               [12]  357 	mov	r5,a
      00013E A3               [24]  358 	inc	dptr
      00013F E0               [24]  359 	movx	a,@dptr
      000140 FE               [12]  360 	mov	r6,a
      000141 A3               [24]  361 	inc	dptr
      000142 E0               [24]  362 	movx	a,@dptr
      000143 FF               [12]  363 	mov	r7,a
      000144 C3               [12]  364 	clr	c
      000145 E4               [12]  365 	clr	a
      000146 9C               [12]  366 	subb	a,r4
      000147 FC               [12]  367 	mov	r4,a
      000148 E4               [12]  368 	clr	a
      000149 9D               [12]  369 	subb	a,r5
      00014A FD               [12]  370 	mov	r5,a
      00014B E4               [12]  371 	clr	a
      00014C 9E               [12]  372 	subb	a,r6
      00014D FE               [12]  373 	mov	r6,a
      00014E E4               [12]  374 	clr	a
      00014F 9F               [12]  375 	subb	a,r7
      000150 FF               [12]  376 	mov	r7,a
      000151 80 0E            [24]  377 	sjmp	00121$
      000153                        378 00120$:
      000153 90r00r03         [24]  379 	mov	dptr,#_atol_ret_65536_60
      000156 E0               [24]  380 	movx	a,@dptr
      000157 FC               [12]  381 	mov	r4,a
      000158 A3               [24]  382 	inc	dptr
      000159 E0               [24]  383 	movx	a,@dptr
      00015A FD               [12]  384 	mov	r5,a
      00015B A3               [24]  385 	inc	dptr
      00015C E0               [24]  386 	movx	a,@dptr
      00015D FE               [12]  387 	mov	r6,a
      00015E A3               [24]  388 	inc	dptr
      00015F E0               [24]  389 	movx	a,@dptr
      000160 FF               [12]  390 	mov	r7,a
      000161                        391 00121$:
      000161 8C 82            [24]  392 	mov	dpl,r4
      000163 8D 83            [24]  393 	mov	dph,r5
      000165 8E F0            [24]  394 	mov	b,r6
      000167 EF               [12]  395 	mov	a,r7
                                    396 ;	atol.c:51: }
      000168 02r00r00         [24]  397 	ljmp	__sdcc_banked_ret
                                    398 	.area CSEG    (CODE)
                                    399 	.area CONST   (CODE)
                                    400 	.area XINIT   (CODE)
                                    401 	.area CABS    (ABS,CODE)
