                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module _strcspn
                                      6 	.optsdcc -mmcs51 --model-huge
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _strchr
                                     12 	.globl _strcspn_PARM_2
                                     13 	.globl _strcspn
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
      000000                         33 _strcspn_count_65536_27:
      000000                         34 	.ds 2
                                     35 ;--------------------------------------------------------
                                     36 ; overlayable items in internal ram
                                     37 ;--------------------------------------------------------
                                     38 ;--------------------------------------------------------
                                     39 ; indirectly addressable internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area ISEG    (DATA)
                                     42 ;--------------------------------------------------------
                                     43 ; absolute internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area IABS    (ABS,DATA)
                                     46 	.area IABS    (ABS,DATA)
                                     47 ;--------------------------------------------------------
                                     48 ; bit data
                                     49 ;--------------------------------------------------------
                                     50 	.area BSEG    (BIT)
                                     51 ;--------------------------------------------------------
                                     52 ; paged external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area PSEG    (PAG,XDATA)
                                     55 ;--------------------------------------------------------
                                     56 ; uninitialized external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area XSEG    (XDATA)
      000000                         59 _strcspn_PARM_2:
      000000                         60 	.ds 3
      000003                         61 _strcspn_string_65536_26:
      000003                         62 	.ds 3
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'strcspn'
                                     99 ;------------------------------------------------------------
                                    100 ;count                     Allocated with name '_strcspn_count_65536_27'
                                    101 ;ch                        Allocated to registers r1 
                                    102 ;control                   Allocated with name '_strcspn_PARM_2'
                                    103 ;string                    Allocated with name '_strcspn_string_65536_26'
                                    104 ;------------------------------------------------------------
                                    105 ;	_strcspn.c:31: size_t strcspn ( const char * string, const char * control )
                                    106 ;	-----------------------------------------
                                    107 ;	 function strcspn
                                    108 ;	-----------------------------------------
      000000                        109 _strcspn:
                           000007   110 	ar7 = 0x07
                           000006   111 	ar6 = 0x06
                           000005   112 	ar5 = 0x05
                           000004   113 	ar4 = 0x04
                           000003   114 	ar3 = 0x03
                           000002   115 	ar2 = 0x02
                           000001   116 	ar1 = 0x01
                           000000   117 	ar0 = 0x00
      000000 AF F0            [24]  118 	mov	r7,b
      000002 AE 83            [24]  119 	mov	r6,dph
      000004 E5 82            [12]  120 	mov	a,dpl
      000006 90r00r03         [24]  121 	mov	dptr,#_strcspn_string_65536_26
      000009 F0               [24]  122 	movx	@dptr,a
      00000A EE               [12]  123 	mov	a,r6
      00000B A3               [24]  124 	inc	dptr
      00000C F0               [24]  125 	movx	@dptr,a
      00000D EF               [12]  126 	mov	a,r7
      00000E A3               [24]  127 	inc	dptr
      00000F F0               [24]  128 	movx	@dptr,a
                                    129 ;	_strcspn.c:36: while (ch = *string) {
      000010 E4               [12]  130 	clr	a
      000011 F5*00            [12]  131 	mov	_strcspn_count_65536_27,a
      000013 F5*01            [12]  132 	mov	(_strcspn_count_65536_27 + 1),a
      000015 90r00r03         [24]  133 	mov	dptr,#_strcspn_string_65536_26
      000018 E0               [24]  134 	movx	a,@dptr
      000019 FB               [12]  135 	mov	r3,a
      00001A A3               [24]  136 	inc	dptr
      00001B E0               [24]  137 	movx	a,@dptr
      00001C FC               [12]  138 	mov	r4,a
      00001D A3               [24]  139 	inc	dptr
      00001E E0               [24]  140 	movx	a,@dptr
      00001F FD               [12]  141 	mov	r5,a
      000020                        142 00104$:
      000020 8B 82            [24]  143 	mov	dpl,r3
      000022 8C 83            [24]  144 	mov	dph,r4
      000024 8D F0            [24]  145 	mov	b,r5
      000026 12r00r00         [24]  146 	lcall	__gptrget
      000029 FA               [12]  147 	mov	r2,a
      00002A F9               [12]  148 	mov	r1,a
      00002B 60 4F            [24]  149 	jz	00112$
                                    150 ;	_strcspn.c:37: if (strchr(control,ch))
      00002D 90r00r00         [24]  151 	mov	dptr,#_strcspn_PARM_2
      000030 E0               [24]  152 	movx	a,@dptr
      000031 F8               [12]  153 	mov	r0,a
      000032 A3               [24]  154 	inc	dptr
      000033 E0               [24]  155 	movx	a,@dptr
      000034 FA               [12]  156 	mov	r2,a
      000035 A3               [24]  157 	inc	dptr
      000036 E0               [24]  158 	movx	a,@dptr
      000037 FF               [12]  159 	mov	r7,a
      000038 90r00r00         [24]  160 	mov	dptr,#_strchr_PARM_2
      00003B E9               [12]  161 	mov	a,r1
      00003C F0               [24]  162 	movx	@dptr,a
      00003D 88 82            [24]  163 	mov	dpl,r0
      00003F 8A 83            [24]  164 	mov	dph,r2
      000041 8F F0            [24]  165 	mov	b,r7
      000043 C0 05            [24]  166 	push	ar5
      000045 C0 04            [24]  167 	push	ar4
      000047 C0 03            [24]  168 	push	ar3
      000049 78r00            [12]  169 	mov	r0,#_strchr
      00004B 79s00            [12]  170 	mov	r1,#(_strchr >> 8)
      00004D 7As00            [12]  171 	mov	r2,#(_strchr >> 16)
      00004F 12r00r00         [24]  172 	lcall	__sdcc_banked_call
      000052 AA 82            [24]  173 	mov	r2,dpl
      000054 AE 83            [24]  174 	mov	r6,dph
      000056 AF F0            [24]  175 	mov	r7,b
      000058 D0 03            [24]  176 	pop	ar3
      00005A D0 04            [24]  177 	pop	ar4
      00005C D0 05            [24]  178 	pop	ar5
      00005E EA               [12]  179 	mov	a,r2
      00005F 4E               [12]  180 	orl	a,r6
      000060 70 1A            [24]  181 	jnz	00112$
                                    182 ;	_strcspn.c:40: count++;
      000062 05*00            [12]  183 	inc	_strcspn_count_65536_27
      000064 E4               [12]  184 	clr	a
      000065 B5*00 02         [24]  185 	cjne	a,_strcspn_count_65536_27,00124$
      000068 05*01            [12]  186 	inc	(_strcspn_count_65536_27 + 1)
      00006A                        187 00124$:
                                    188 ;	_strcspn.c:41: string++;
      00006A 0B               [12]  189 	inc	r3
      00006B BB 00 01         [24]  190 	cjne	r3,#0x00,00125$
      00006E 0C               [12]  191 	inc	r4
      00006F                        192 00125$:
      00006F 90r00r03         [24]  193 	mov	dptr,#_strcspn_string_65536_26
      000072 EB               [12]  194 	mov	a,r3
      000073 F0               [24]  195 	movx	@dptr,a
      000074 EC               [12]  196 	mov	a,r4
      000075 A3               [24]  197 	inc	dptr
      000076 F0               [24]  198 	movx	@dptr,a
      000077 ED               [12]  199 	mov	a,r5
      000078 A3               [24]  200 	inc	dptr
      000079 F0               [24]  201 	movx	@dptr,a
      00007A 80 A4            [24]  202 	sjmp	00104$
      00007C                        203 00112$:
      00007C 90r00r03         [24]  204 	mov	dptr,#_strcspn_string_65536_26
      00007F EB               [12]  205 	mov	a,r3
      000080 F0               [24]  206 	movx	@dptr,a
      000081 EC               [12]  207 	mov	a,r4
      000082 A3               [24]  208 	inc	dptr
      000083 F0               [24]  209 	movx	@dptr,a
      000084 ED               [12]  210 	mov	a,r5
      000085 A3               [24]  211 	inc	dptr
      000086 F0               [24]  212 	movx	@dptr,a
                                    213 ;	_strcspn.c:44: return count;
      000087 85*00 82         [24]  214 	mov	dpl,_strcspn_count_65536_27
      00008A 85*01 83         [24]  215 	mov	dph,(_strcspn_count_65536_27 + 1)
                                    216 ;	_strcspn.c:45: }  
      00008D 02r00r00         [24]  217 	ljmp	__sdcc_banked_ret
                                    218 	.area CSEG    (CODE)
                                    219 	.area CONST   (CODE)
                                    220 	.area XINIT   (CODE)
                                    221 	.area CABS    (ABS,CODE)
