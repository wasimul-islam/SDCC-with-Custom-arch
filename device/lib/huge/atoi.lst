                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module atoi
                                      6 	.optsdcc -mmcs51 --model-huge
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _atoi
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in internal ram
                                     33 ;--------------------------------------------------------
                                     34 ;--------------------------------------------------------
                                     35 ; indirectly addressable internal ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area ISEG    (DATA)
                                     38 ;--------------------------------------------------------
                                     39 ; absolute internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area IABS    (ABS,DATA)
                                     42 	.area IABS    (ABS,DATA)
                                     43 ;--------------------------------------------------------
                                     44 ; bit data
                                     45 ;--------------------------------------------------------
                                     46 	.area BSEG    (BIT)
      000000                         47 _atoi_sloc0_1_0:
      000000                         48 	.ds 1
                                     49 ;--------------------------------------------------------
                                     50 ; paged external ram data
                                     51 ;--------------------------------------------------------
                                     52 	.area PSEG    (PAG,XDATA)
                                     53 ;--------------------------------------------------------
                                     54 ; uninitialized external ram data
                                     55 ;--------------------------------------------------------
                                     56 	.area XSEG    (XDATA)
      000000                         57 _atoi_nptr_65536_59:
      000000                         58 	.ds 3
      000003                         59 _atoi_ret_65536_60:
      000003                         60 	.ds 2
      000005                         61 _atoi_neg_65536_60:
      000005                         62 	.ds 1
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'atoi'
                                     99 ;------------------------------------------------------------
                                    100 ;nptr                      Allocated with name '_atoi_nptr_65536_59'
                                    101 ;__1310720007              Allocated with name '_atoi___1310720007_131072_60'
                                    102 ;__1310720004              Allocated with name '_atoi___1310720004_131072_60'
                                    103 ;ret                       Allocated with name '_atoi_ret_65536_60'
                                    104 ;neg                       Allocated with name '_atoi_neg_65536_60'
                                    105 ;__1310720005              Allocated with name '_atoi___1310720005_131072_61'
                                    106 ;c                         Allocated with name '_atoi_c_196608_62'
                                    107 ;__1310720008              Allocated with name '_atoi___1310720008_131072_64'
                                    108 ;c                         Allocated with name '_atoi_c_196608_65'
                                    109 ;------------------------------------------------------------
                                    110 ;	atoi.c:34: int atoi(const char *nptr)
                                    111 ;	-----------------------------------------
                                    112 ;	 function atoi
                                    113 ;	-----------------------------------------
      000000                        114 _atoi:
                           000007   115 	ar7 = 0x07
                           000006   116 	ar6 = 0x06
                           000005   117 	ar5 = 0x05
                           000004   118 	ar4 = 0x04
                           000003   119 	ar3 = 0x03
                           000002   120 	ar2 = 0x02
                           000001   121 	ar1 = 0x01
                           000000   122 	ar0 = 0x00
      000000 AF F0            [24]  123 	mov	r7,b
      000002 AE 83            [24]  124 	mov	r6,dph
      000004 E5 82            [12]  125 	mov	a,dpl
      000006 90r00r00         [24]  126 	mov	dptr,#_atoi_nptr_65536_59
      000009 F0               [24]  127 	movx	@dptr,a
      00000A EE               [12]  128 	mov	a,r6
      00000B A3               [24]  129 	inc	dptr
      00000C F0               [24]  130 	movx	@dptr,a
      00000D EF               [12]  131 	mov	a,r7
      00000E A3               [24]  132 	inc	dptr
      00000F F0               [24]  133 	movx	@dptr,a
                                    134 ;	atoi.c:36: int ret = 0;
      000010 90r00r03         [24]  135 	mov	dptr,#_atoi_ret_65536_60
      000013 E4               [12]  136 	clr	a
      000014 F0               [24]  137 	movx	@dptr,a
      000015 A3               [24]  138 	inc	dptr
      000016 F0               [24]  139 	movx	@dptr,a
                                    140 ;	atoi.c:39: while (isblank (*nptr))
      000017 90r00r00         [24]  141 	mov	dptr,#_atoi_nptr_65536_59
      00001A E0               [24]  142 	movx	a,@dptr
      00001B FD               [12]  143 	mov	r5,a
      00001C A3               [24]  144 	inc	dptr
      00001D E0               [24]  145 	movx	a,@dptr
      00001E FE               [12]  146 	mov	r6,a
      00001F A3               [24]  147 	inc	dptr
      000020 E0               [24]  148 	movx	a,@dptr
      000021 FF               [12]  149 	mov	r7,a
      000022                        150 00101$:
      000022 8D 82            [24]  151 	mov	dpl,r5
      000024 8E 83            [24]  152 	mov	dph,r6
      000026 8F F0            [24]  153 	mov	b,r7
      000028 12r00r00         [24]  154 	lcall	__gptrget
      00002B FC               [12]  155 	mov	r4,a
                                    156 ;	../../device/include/ctype.h:53: return ((unsigned char)c == ' ' || (unsigned char)c == '\t');
      00002C BC 20 02         [24]  157 	cjne	r4,#0x20,00154$
      00002F 80 03            [24]  158 	sjmp	00115$
      000031                        159 00154$:
      000031 BC 09 12         [24]  160 	cjne	r4,#0x09,00131$
      000034                        161 00115$:
                                    162 ;	atoi.c:40: nptr++;
      000034 0D               [12]  163 	inc	r5
      000035 BD 00 01         [24]  164 	cjne	r5,#0x00,00157$
      000038 0E               [12]  165 	inc	r6
      000039                        166 00157$:
      000039 90r00r00         [24]  167 	mov	dptr,#_atoi_nptr_65536_59
      00003C ED               [12]  168 	mov	a,r5
      00003D F0               [24]  169 	movx	@dptr,a
      00003E EE               [12]  170 	mov	a,r6
      00003F A3               [24]  171 	inc	dptr
      000040 F0               [24]  172 	movx	@dptr,a
      000041 EF               [12]  173 	mov	a,r7
      000042 A3               [24]  174 	inc	dptr
      000043 F0               [24]  175 	movx	@dptr,a
      000044 80 DC            [24]  176 	sjmp	00101$
      000046                        177 00131$:
      000046 90r00r00         [24]  178 	mov	dptr,#_atoi_nptr_65536_59
      000049 ED               [12]  179 	mov	a,r5
      00004A F0               [24]  180 	movx	@dptr,a
      00004B EE               [12]  181 	mov	a,r6
      00004C A3               [24]  182 	inc	dptr
      00004D F0               [24]  183 	movx	@dptr,a
      00004E EF               [12]  184 	mov	a,r7
      00004F A3               [24]  185 	inc	dptr
      000050 F0               [24]  186 	movx	@dptr,a
                                    187 ;	atoi.c:42: neg = (*nptr == '-');
      000051 8D 82            [24]  188 	mov	dpl,r5
      000053 8E 83            [24]  189 	mov	dph,r6
      000055 8F F0            [24]  190 	mov	b,r7
      000057 12r00r00         [24]  191 	lcall	__gptrget
      00005A FC               [12]  192 	mov	r4,a
      00005B 90r00r05         [24]  193 	mov	dptr,#_atoi_neg_65536_60
      00005E E4               [12]  194 	clr	a
      00005F BC 2D 01         [24]  195 	cjne	r4,#0x2d,00158$
      000062 04               [12]  196 	inc	a
      000063                        197 00158$:
      000063 F0               [24]  198 	movx	@dptr,a
                                    199 ;	atoi.c:44: if (*nptr == '-' || *nptr == '+')
      000064 BC 2D 02         [24]  200 	cjne	r4,#0x2d,00160$
      000067 80 03            [24]  201 	sjmp	00104$
      000069                        202 00160$:
      000069 BC 2B 0E         [24]  203 	cjne	r4,#0x2b,00129$
      00006C                        204 00104$:
                                    205 ;	atoi.c:45: nptr++;
      00006C 90r00r00         [24]  206 	mov	dptr,#_atoi_nptr_65536_59
      00006F 74 01            [12]  207 	mov	a,#0x01
      000071 2D               [12]  208 	add	a,r5
      000072 F0               [24]  209 	movx	@dptr,a
      000073 E4               [12]  210 	clr	a
      000074 3E               [12]  211 	addc	a,r6
      000075 A3               [24]  212 	inc	dptr
      000076 F0               [24]  213 	movx	@dptr,a
      000077 EF               [12]  214 	mov	a,r7
      000078 A3               [24]  215 	inc	dptr
      000079 F0               [24]  216 	movx	@dptr,a
                                    217 ;	atoi.c:47: while (isdigit (*nptr))
      00007A                        218 00129$:
      00007A 90r00r00         [24]  219 	mov	dptr,#_atoi_nptr_65536_59
      00007D E0               [24]  220 	movx	a,@dptr
      00007E FD               [12]  221 	mov	r5,a
      00007F A3               [24]  222 	inc	dptr
      000080 E0               [24]  223 	movx	a,@dptr
      000081 FE               [12]  224 	mov	r6,a
      000082 A3               [24]  225 	inc	dptr
      000083 E0               [24]  226 	movx	a,@dptr
      000084 FF               [12]  227 	mov	r7,a
      000085                        228 00107$:
      000085 8D 82            [24]  229 	mov	dpl,r5
      000087 8E 83            [24]  230 	mov	dph,r6
      000089 8F F0            [24]  231 	mov	b,r7
      00008B 12r00r00         [24]  232 	lcall	__gptrget
      00008E FC               [12]  233 	mov	r4,a
                                    234 ;	../../device/include/ctype.h:62: return ((unsigned char)c >= '0' && (unsigned char)c <= '9');
      00008F BC 30 00         [24]  235 	cjne	r4,#0x30,00163$
      000092                        236 00163$:
      000092 92*00            [24]  237 	mov	_atoi_sloc0_1_0,c
      000094 40 5F            [24]  238 	jc	00132$
      000096 EC               [12]  239 	mov	a,r4
      000097 24 C6            [12]  240 	add	a,#0xff - 0x39
      000099 92*00            [24]  241 	mov	_atoi_sloc0_1_0,c
      00009B 40 58            [24]  242 	jc	00132$
                                    243 ;	atoi.c:48: ret = ret * 10 + (*(nptr++) - '0');
      00009D 90r00r03         [24]  244 	mov	dptr,#_atoi_ret_65536_60
      0000A0 E0               [24]  245 	movx	a,@dptr
      0000A1 FB               [12]  246 	mov	r3,a
      0000A2 A3               [24]  247 	inc	dptr
      0000A3 E0               [24]  248 	movx	a,@dptr
      0000A4 FC               [12]  249 	mov	r4,a
      0000A5 90r00r00         [24]  250 	mov	dptr,#__mulint_PARM_2
      0000A8 EB               [12]  251 	mov	a,r3
      0000A9 F0               [24]  252 	movx	@dptr,a
      0000AA EC               [12]  253 	mov	a,r4
      0000AB A3               [24]  254 	inc	dptr
      0000AC F0               [24]  255 	movx	@dptr,a
      0000AD 90 00 0A         [24]  256 	mov	dptr,#0x000a
      0000B0 C0 07            [24]  257 	push	ar7
      0000B2 C0 06            [24]  258 	push	ar6
      0000B4 C0 05            [24]  259 	push	ar5
      0000B6 12r00r00         [24]  260 	lcall	__mulint
      0000B9 AB 82            [24]  261 	mov	r3,dpl
      0000BB AC 83            [24]  262 	mov	r4,dph
      0000BD D0 05            [24]  263 	pop	ar5
      0000BF D0 06            [24]  264 	pop	ar6
      0000C1 D0 07            [24]  265 	pop	ar7
      0000C3 8D 82            [24]  266 	mov	dpl,r5
      0000C5 8E 83            [24]  267 	mov	dph,r6
      0000C7 8F F0            [24]  268 	mov	b,r7
      0000C9 12r00r00         [24]  269 	lcall	__gptrget
      0000CC FA               [12]  270 	mov	r2,a
      0000CD A3               [24]  271 	inc	dptr
      0000CE AD 82            [24]  272 	mov	r5,dpl
      0000D0 AE 83            [24]  273 	mov	r6,dph
      0000D2 90r00r00         [24]  274 	mov	dptr,#_atoi_nptr_65536_59
      0000D5 ED               [12]  275 	mov	a,r5
      0000D6 F0               [24]  276 	movx	@dptr,a
      0000D7 EE               [12]  277 	mov	a,r6
      0000D8 A3               [24]  278 	inc	dptr
      0000D9 F0               [24]  279 	movx	@dptr,a
      0000DA EF               [12]  280 	mov	a,r7
      0000DB A3               [24]  281 	inc	dptr
      0000DC F0               [24]  282 	movx	@dptr,a
      0000DD 8A 01            [24]  283 	mov	ar1,r2
      0000DF 7A 00            [12]  284 	mov	r2,#0x00
      0000E1 E9               [12]  285 	mov	a,r1
      0000E2 24 D0            [12]  286 	add	a,#0xd0
      0000E4 F9               [12]  287 	mov	r1,a
      0000E5 EA               [12]  288 	mov	a,r2
      0000E6 34 FF            [12]  289 	addc	a,#0xff
      0000E8 FA               [12]  290 	mov	r2,a
      0000E9 90r00r03         [24]  291 	mov	dptr,#_atoi_ret_65536_60
      0000EC E9               [12]  292 	mov	a,r1
      0000ED 2B               [12]  293 	add	a,r3
      0000EE F0               [24]  294 	movx	@dptr,a
      0000EF EA               [12]  295 	mov	a,r2
      0000F0 3C               [12]  296 	addc	a,r4
      0000F1 A3               [24]  297 	inc	dptr
      0000F2 F0               [24]  298 	movx	@dptr,a
      0000F3 80 90            [24]  299 	sjmp	00107$
      0000F5                        300 00132$:
      0000F5 90r00r00         [24]  301 	mov	dptr,#_atoi_nptr_65536_59
      0000F8 ED               [12]  302 	mov	a,r5
      0000F9 F0               [24]  303 	movx	@dptr,a
      0000FA EE               [12]  304 	mov	a,r6
      0000FB A3               [24]  305 	inc	dptr
      0000FC F0               [24]  306 	movx	@dptr,a
      0000FD EF               [12]  307 	mov	a,r7
      0000FE A3               [24]  308 	inc	dptr
      0000FF F0               [24]  309 	movx	@dptr,a
                                    310 ;	atoi.c:50: return (neg ? -ret : ret); // Since -INT_MIN is INT_MIN in sdcc, the result value always turns out ok.
      000100 90r00r05         [24]  311 	mov	dptr,#_atoi_neg_65536_60
      000103 E0               [24]  312 	movx	a,@dptr
      000104 60 11            [24]  313 	jz	00120$
      000106 90r00r03         [24]  314 	mov	dptr,#_atoi_ret_65536_60
      000109 E0               [24]  315 	movx	a,@dptr
      00010A FE               [12]  316 	mov	r6,a
      00010B A3               [24]  317 	inc	dptr
      00010C E0               [24]  318 	movx	a,@dptr
      00010D FF               [12]  319 	mov	r7,a
      00010E C3               [12]  320 	clr	c
      00010F E4               [12]  321 	clr	a
      000110 9E               [12]  322 	subb	a,r6
      000111 FE               [12]  323 	mov	r6,a
      000112 E4               [12]  324 	clr	a
      000113 9F               [12]  325 	subb	a,r7
      000114 FF               [12]  326 	mov	r7,a
      000115 80 08            [24]  327 	sjmp	00121$
      000117                        328 00120$:
      000117 90r00r03         [24]  329 	mov	dptr,#_atoi_ret_65536_60
      00011A E0               [24]  330 	movx	a,@dptr
      00011B FE               [12]  331 	mov	r6,a
      00011C A3               [24]  332 	inc	dptr
      00011D E0               [24]  333 	movx	a,@dptr
      00011E FF               [12]  334 	mov	r7,a
      00011F                        335 00121$:
      00011F 8E 82            [24]  336 	mov	dpl,r6
      000121 8F 83            [24]  337 	mov	dph,r7
                                    338 ;	atoi.c:51: }
      000123 02r00r00         [24]  339 	ljmp	__sdcc_banked_ret
                                    340 	.area CSEG    (CODE)
                                    341 	.area CONST   (CODE)
                                    342 	.area XINIT   (CODE)
                                    343 	.area CABS    (ABS,CODE)
