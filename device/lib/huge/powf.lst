                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module powf
                                      6 	.optsdcc -mmcs51 --model-huge
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _logf
                                     12 	.globl _expf
                                     13 	.globl _powf_PARM_2
                                     14 	.globl _powf
                                     15 ;--------------------------------------------------------
                                     16 ; special function registers
                                     17 ;--------------------------------------------------------
                                     18 	.area RSEG    (ABS,DATA)
      000000                         19 	.org 0x0000
                                     20 ;--------------------------------------------------------
                                     21 ; special function bits
                                     22 ;--------------------------------------------------------
                                     23 	.area RSEG    (ABS,DATA)
      000000                         24 	.org 0x0000
                                     25 ;--------------------------------------------------------
                                     26 ; overlayable register banks
                                     27 ;--------------------------------------------------------
                                     28 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         29 	.ds 8
                                     30 ;--------------------------------------------------------
                                     31 ; internal ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area DSEG    (DATA)
                                     34 ;--------------------------------------------------------
                                     35 ; overlayable items in internal ram
                                     36 ;--------------------------------------------------------
                                     37 ;--------------------------------------------------------
                                     38 ; indirectly addressable internal ram data
                                     39 ;--------------------------------------------------------
                                     40 	.area ISEG    (DATA)
                                     41 ;--------------------------------------------------------
                                     42 ; absolute internal ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area IABS    (ABS,DATA)
                                     45 	.area IABS    (ABS,DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; bit data
                                     48 ;--------------------------------------------------------
                                     49 	.area BSEG    (BIT)
      000000                         50 _powf_sloc0_1_0:
      000000                         51 	.ds 1
                                     52 ;--------------------------------------------------------
                                     53 ; paged external ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area PSEG    (PAG,XDATA)
                                     56 ;--------------------------------------------------------
                                     57 ; uninitialized external ram data
                                     58 ;--------------------------------------------------------
                                     59 	.area XSEG    (XDATA)
      000000                         60 _powf_PARM_2:
      000000                         61 	.ds 4
      000004                         62 _powf_x_65536_25:
      000004                         63 	.ds 4
                                     64 ;--------------------------------------------------------
                                     65 ; absolute external ram data
                                     66 ;--------------------------------------------------------
                                     67 	.area XABS    (ABS,XDATA)
                                     68 ;--------------------------------------------------------
                                     69 ; initialized external ram data
                                     70 ;--------------------------------------------------------
                                     71 	.area XISEG   (XDATA)
                                     72 	.area HOME    (CODE)
                                     73 	.area GSINIT0 (CODE)
                                     74 	.area GSINIT1 (CODE)
                                     75 	.area GSINIT2 (CODE)
                                     76 	.area GSINIT3 (CODE)
                                     77 	.area GSINIT4 (CODE)
                                     78 	.area GSINIT5 (CODE)
                                     79 	.area GSINIT  (CODE)
                                     80 	.area GSFINAL (CODE)
                                     81 	.area CSEG    (CODE)
                                     82 ;--------------------------------------------------------
                                     83 ; global & static initialisations
                                     84 ;--------------------------------------------------------
                                     85 	.area HOME    (CODE)
                                     86 	.area GSINIT  (CODE)
                                     87 	.area GSFINAL (CODE)
                                     88 	.area GSINIT  (CODE)
                                     89 ;--------------------------------------------------------
                                     90 ; Home
                                     91 ;--------------------------------------------------------
                                     92 	.area HOME    (CODE)
                                     93 	.area HOME    (CODE)
                                     94 ;--------------------------------------------------------
                                     95 ; code
                                     96 ;--------------------------------------------------------
                                     97 	.area CSEG    (CODE)
                                     98 ;------------------------------------------------------------
                                     99 ;Allocation info for local variables in function 'powf'
                                    100 ;------------------------------------------------------------
                                    101 ;y                         Allocated with name '_powf_PARM_2'
                                    102 ;x                         Allocated with name '_powf_x_65536_25'
                                    103 ;------------------------------------------------------------
                                    104 ;	powf.c:35: float powf(float x, float y)
                                    105 ;	-----------------------------------------
                                    106 ;	 function powf
                                    107 ;	-----------------------------------------
      000000                        108 _powf:
                           000007   109 	ar7 = 0x07
                           000006   110 	ar6 = 0x06
                           000005   111 	ar5 = 0x05
                           000004   112 	ar4 = 0x04
                           000003   113 	ar3 = 0x03
                           000002   114 	ar2 = 0x02
                           000001   115 	ar1 = 0x01
                           000000   116 	ar0 = 0x00
      000000 AF 82            [24]  117 	mov	r7,dpl
      000002 AE 83            [24]  118 	mov	r6,dph
      000004 AD F0            [24]  119 	mov	r5,b
      000006 FC               [12]  120 	mov	r4,a
      000007 90r00r04         [24]  121 	mov	dptr,#_powf_x_65536_25
      00000A EF               [12]  122 	mov	a,r7
      00000B F0               [24]  123 	movx	@dptr,a
      00000C EE               [12]  124 	mov	a,r6
      00000D A3               [24]  125 	inc	dptr
      00000E F0               [24]  126 	movx	@dptr,a
      00000F ED               [12]  127 	mov	a,r5
      000010 A3               [24]  128 	inc	dptr
      000011 F0               [24]  129 	movx	@dptr,a
      000012 EC               [12]  130 	mov	a,r4
      000013 A3               [24]  131 	inc	dptr
      000014 F0               [24]  132 	movx	@dptr,a
                                    133 ;	powf.c:37: if(y == 0.0) return 1.0;
      000015 90r00r00         [24]  134 	mov	dptr,#_powf_PARM_2
      000018 E0               [24]  135 	movx	a,@dptr
      000019 FC               [12]  136 	mov	r4,a
      00001A A3               [24]  137 	inc	dptr
      00001B E0               [24]  138 	movx	a,@dptr
      00001C FD               [12]  139 	mov	r5,a
      00001D A3               [24]  140 	inc	dptr
      00001E E0               [24]  141 	movx	a,@dptr
      00001F FE               [12]  142 	mov	r6,a
      000020 A3               [24]  143 	inc	dptr
      000021 E0               [24]  144 	movx	a,@dptr
      000022 FF               [12]  145 	mov	r7,a
      000023 8C F0            [24]  146 	mov	b,r4
      000025 ED               [12]  147 	mov	a,r5
      000026 42 F0            [12]  148 	orl	b,a
      000028 EE               [12]  149 	mov	a,r6
      000029 42 F0            [12]  150 	orl	b,a
      00002B EF               [12]  151 	mov	a,r7
      00002C 54 7F            [12]  152 	anl	a,#0x7F
      00002E 45 F0            [12]  153 	orl	a,b
      000030 70 0B            [24]  154 	jnz	00102$
      000032 90 00 00         [24]  155 	mov	dptr,#0x0000
      000035 75 F0 80         [24]  156 	mov	b,#0x80
      000038 74 3F            [12]  157 	mov	a,#0x3f
      00003A 02r00r00         [24]  158 	ljmp	__sdcc_banked_ret
      00003D                        159 00102$:
                                    160 ;	powf.c:38: if(y == 1.0) return x;
      00003D C0 07            [24]  161 	push	ar7
      00003F C0 06            [24]  162 	push	ar6
      000041 C0 05            [24]  163 	push	ar5
      000043 C0 04            [24]  164 	push	ar4
      000045 E4               [12]  165 	clr	a
      000046 C0 E0            [24]  166 	push	acc
      000048 C0 E0            [24]  167 	push	acc
      00004A 74 80            [12]  168 	mov	a,#0x80
      00004C C0 E0            [24]  169 	push	acc
      00004E 74 3F            [12]  170 	mov	a,#0x3f
      000050 C0 E0            [24]  171 	push	acc
      000052 8C 82            [24]  172 	mov	dpl,r4
      000054 8D 83            [24]  173 	mov	dph,r5
      000056 8E F0            [24]  174 	mov	b,r6
      000058 EF               [12]  175 	mov	a,r7
      000059 12r00r00         [24]  176 	lcall	___fseq
      00005C AB 82            [24]  177 	mov	r3,dpl
      00005E E5 81            [12]  178 	mov	a,sp
      000060 24 FC            [12]  179 	add	a,#0xfc
      000062 F5 81            [12]  180 	mov	sp,a
      000064 D0 04            [24]  181 	pop	ar4
      000066 D0 05            [24]  182 	pop	ar5
      000068 D0 06            [24]  183 	pop	ar6
      00006A D0 07            [24]  184 	pop	ar7
      00006C EB               [12]  185 	mov	a,r3
      00006D 60 17            [24]  186 	jz	00104$
      00006F 90r00r04         [24]  187 	mov	dptr,#_powf_x_65536_25
      000072 E0               [24]  188 	movx	a,@dptr
      000073 F8               [12]  189 	mov	r0,a
      000074 A3               [24]  190 	inc	dptr
      000075 E0               [24]  191 	movx	a,@dptr
      000076 F9               [12]  192 	mov	r1,a
      000077 A3               [24]  193 	inc	dptr
      000078 E0               [24]  194 	movx	a,@dptr
      000079 FA               [12]  195 	mov	r2,a
      00007A A3               [24]  196 	inc	dptr
      00007B E0               [24]  197 	movx	a,@dptr
      00007C FB               [12]  198 	mov	r3,a
      00007D 88 82            [24]  199 	mov	dpl,r0
      00007F 89 83            [24]  200 	mov	dph,r1
      000081 8A F0            [24]  201 	mov	b,r2
      000083 02r00r00         [24]  202 	ljmp	__sdcc_banked_ret
      000086                        203 00104$:
                                    204 ;	powf.c:39: if(x <= 0.0) return 0.0;
      000086 90r00r04         [24]  205 	mov	dptr,#_powf_x_65536_25
      000089 E0               [24]  206 	movx	a,@dptr
      00008A F8               [12]  207 	mov	r0,a
      00008B A3               [24]  208 	inc	dptr
      00008C E0               [24]  209 	movx	a,@dptr
      00008D F9               [12]  210 	mov	r1,a
      00008E A3               [24]  211 	inc	dptr
      00008F E0               [24]  212 	movx	a,@dptr
      000090 FA               [12]  213 	mov	r2,a
      000091 A3               [24]  214 	inc	dptr
      000092 E0               [24]  215 	movx	a,@dptr
      000093 FB               [12]  216 	mov	r3,a
      000094 C0 07            [24]  217 	push	ar7
      000096 C0 06            [24]  218 	push	ar6
      000098 C0 05            [24]  219 	push	ar5
      00009A C0 04            [24]  220 	push	ar4
      00009C C0 03            [24]  221 	push	ar3
      00009E C0 02            [24]  222 	push	ar2
      0000A0 C0 01            [24]  223 	push	ar1
      0000A2 C0 00            [24]  224 	push	ar0
      0000A4 C0 00            [24]  225 	push	ar0
      0000A6 C0 01            [24]  226 	push	ar1
      0000A8 C0 02            [24]  227 	push	ar2
      0000AA C0 03            [24]  228 	push	ar3
      0000AC 90 00 00         [24]  229 	mov	dptr,#(0x00&0x00ff)
      0000AF E4               [12]  230 	clr	a
      0000B0 F5 F0            [12]  231 	mov	b,a
      0000B2 12r00r00         [24]  232 	lcall	___fslt
      0000B5 E5 81            [12]  233 	mov	a,sp
      0000B7 24 FC            [12]  234 	add	a,#0xfc
      0000B9 F5 81            [12]  235 	mov	sp,a
      0000BB D0 00            [24]  236 	pop	ar0
      0000BD D0 01            [24]  237 	pop	ar1
      0000BF D0 02            [24]  238 	pop	ar2
      0000C1 D0 03            [24]  239 	pop	ar3
      0000C3 D0 04            [24]  240 	pop	ar4
      0000C5 D0 05            [24]  241 	pop	ar5
      0000C7 D0 06            [24]  242 	pop	ar6
      0000C9 D0 07            [24]  243 	pop	ar7
      0000CB E5 82            [12]  244 	mov	a,dpl
      0000CD 24 FF            [12]  245 	add	a,#0xff
      0000CF 92*00            [24]  246 	mov	_powf_sloc0_1_0,c
      0000D1 40 08            [24]  247 	jc	00106$
      0000D3 90 00 00         [24]  248 	mov	dptr,#(0x00&0x00ff)
      0000D6 E4               [12]  249 	clr	a
      0000D7 F5 F0            [12]  250 	mov	b,a
      0000D9 80 5D            [24]  251 	sjmp	00107$
      0000DB                        252 00106$:
                                    253 ;	powf.c:40: return expf(logf(x) * y);
      0000DB 88 82            [24]  254 	mov	dpl,r0
      0000DD 89 83            [24]  255 	mov	dph,r1
      0000DF 8A F0            [24]  256 	mov	b,r2
      0000E1 EB               [12]  257 	mov	a,r3
      0000E2 C0 07            [24]  258 	push	ar7
      0000E4 C0 06            [24]  259 	push	ar6
      0000E6 C0 05            [24]  260 	push	ar5
      0000E8 C0 04            [24]  261 	push	ar4
      0000EA 78r00            [12]  262 	mov	r0,#_logf
      0000EC 79s00            [12]  263 	mov	r1,#(_logf >> 8)
      0000EE 7As00            [12]  264 	mov	r2,#(_logf >> 16)
      0000F0 12r00r00         [24]  265 	lcall	__sdcc_banked_call
      0000F3 A8 82            [24]  266 	mov	r0,dpl
      0000F5 A9 83            [24]  267 	mov	r1,dph
      0000F7 AA F0            [24]  268 	mov	r2,b
      0000F9 FB               [12]  269 	mov	r3,a
      0000FA D0 04            [24]  270 	pop	ar4
      0000FC D0 05            [24]  271 	pop	ar5
      0000FE D0 06            [24]  272 	pop	ar6
      000100 D0 07            [24]  273 	pop	ar7
      000102 C0 04            [24]  274 	push	ar4
      000104 C0 05            [24]  275 	push	ar5
      000106 C0 06            [24]  276 	push	ar6
      000108 C0 07            [24]  277 	push	ar7
      00010A 88 82            [24]  278 	mov	dpl,r0
      00010C 89 83            [24]  279 	mov	dph,r1
      00010E 8A F0            [24]  280 	mov	b,r2
      000110 EB               [12]  281 	mov	a,r3
      000111 12r00r00         [24]  282 	lcall	___fsmul
      000114 AC 82            [24]  283 	mov	r4,dpl
      000116 AD 83            [24]  284 	mov	r5,dph
      000118 AE F0            [24]  285 	mov	r6,b
      00011A FF               [12]  286 	mov	r7,a
      00011B E5 81            [12]  287 	mov	a,sp
      00011D 24 FC            [12]  288 	add	a,#0xfc
      00011F F5 81            [12]  289 	mov	sp,a
      000121 8C 82            [24]  290 	mov	dpl,r4
      000123 8D 83            [24]  291 	mov	dph,r5
      000125 8E F0            [24]  292 	mov	b,r6
      000127 EF               [12]  293 	mov	a,r7
      000128 78r00            [12]  294 	mov	r0,#_expf
      00012A 79s00            [12]  295 	mov	r1,#(_expf >> 8)
      00012C 7As00            [12]  296 	mov	r2,#(_expf >> 16)
      00012E 12r00r00         [24]  297 	lcall	__sdcc_banked_call
      000131 AC 82            [24]  298 	mov	r4,dpl
      000133 AD 83            [24]  299 	mov	r5,dph
      000135 AE F0            [24]  300 	mov	r6,b
      000137 FF               [12]  301 	mov	r7,a
      000138                        302 00107$:
                                    303 ;	powf.c:41: }
      000138 02r00r00         [24]  304 	ljmp	__sdcc_banked_ret
                                    305 	.area CSEG    (CODE)
                                    306 	.area CONST   (CODE)
                                    307 	.area XINIT   (CODE)
                                    308 	.area CABS    (ABS,CODE)
