                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module div
                                      6 	.optsdcc -mmcs51 --model-huge
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _div_PARM_2
                                     12 	.globl _div_PARM_1
                                     13 	.globl _div
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable items in internal ram
                                     35 ;--------------------------------------------------------
                                     36 ;--------------------------------------------------------
                                     37 ; indirectly addressable internal ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area ISEG    (DATA)
                                     40 ;--------------------------------------------------------
                                     41 ; absolute internal ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area IABS    (ABS,DATA)
                                     44 	.area IABS    (ABS,DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; bit data
                                     47 ;--------------------------------------------------------
                                     48 	.area BSEG    (BIT)
                                     49 ;--------------------------------------------------------
                                     50 ; paged external ram data
                                     51 ;--------------------------------------------------------
                                     52 	.area PSEG    (PAG,XDATA)
                                     53 ;--------------------------------------------------------
                                     54 ; uninitialized external ram data
                                     55 ;--------------------------------------------------------
                                     56 	.area XSEG    (XDATA)
      000000                         57 _div_PARM_1:
      000000                         58 	.ds 2
      000002                         59 _div_PARM_2:
      000002                         60 	.ds 2
      000004                         61 _div_ret_65536_40:
      000004                         62 	.ds 4
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'div'
                                     99 ;------------------------------------------------------------
                                    100 ;numer                     Allocated with name '_div_PARM_1'
                                    101 ;denom                     Allocated with name '_div_PARM_2'
                                    102 ;ret                       Allocated with name '_div_ret_65536_40'
                                    103 ;------------------------------------------------------------
                                    104 ;	div.c:32: div_t div(int numer, int denom)
                                    105 ;	-----------------------------------------
                                    106 ;	 function div
                                    107 ;	-----------------------------------------
      000000                        108 _div:
                           000007   109 	ar7 = 0x07
                           000006   110 	ar6 = 0x06
                           000005   111 	ar5 = 0x05
                           000004   112 	ar4 = 0x04
                           000003   113 	ar3 = 0x03
                           000002   114 	ar2 = 0x02
                           000001   115 	ar1 = 0x01
                           000000   116 	ar0 = 0x00
                                    117 ;	div.c:35: ret.quot = numer / denom;
      000000 90r00r02         [24]  118 	mov	dptr,#_div_PARM_2
      000003 E0               [24]  119 	movx	a,@dptr
      000004 FE               [12]  120 	mov	r6,a
      000005 A3               [24]  121 	inc	dptr
      000006 E0               [24]  122 	movx	a,@dptr
      000007 FF               [12]  123 	mov	r7,a
      000008 90r00r00         [24]  124 	mov	dptr,#_div_PARM_1
      00000B E0               [24]  125 	movx	a,@dptr
      00000C FC               [12]  126 	mov	r4,a
      00000D A3               [24]  127 	inc	dptr
      00000E E0               [24]  128 	movx	a,@dptr
      00000F FD               [12]  129 	mov	r5,a
      000010 90r00r00         [24]  130 	mov	dptr,#__divsint_PARM_2
      000013 EE               [12]  131 	mov	a,r6
      000014 F0               [24]  132 	movx	@dptr,a
      000015 EF               [12]  133 	mov	a,r7
      000016 A3               [24]  134 	inc	dptr
      000017 F0               [24]  135 	movx	@dptr,a
      000018 8C 82            [24]  136 	mov	dpl,r4
      00001A 8D 83            [24]  137 	mov	dph,r5
      00001C C0 07            [24]  138 	push	ar7
      00001E C0 06            [24]  139 	push	ar6
      000020 C0 05            [24]  140 	push	ar5
      000022 C0 04            [24]  141 	push	ar4
      000024 12r00r00         [24]  142 	lcall	__divsint
      000027 AA 82            [24]  143 	mov	r2,dpl
      000029 AB 83            [24]  144 	mov	r3,dph
      00002B D0 04            [24]  145 	pop	ar4
      00002D D0 05            [24]  146 	pop	ar5
      00002F D0 06            [24]  147 	pop	ar6
      000031 D0 07            [24]  148 	pop	ar7
      000033 90r00r04         [24]  149 	mov	dptr,#_div_ret_65536_40
      000036 EA               [12]  150 	mov	a,r2
      000037 F0               [24]  151 	movx	@dptr,a
      000038 EB               [12]  152 	mov	a,r3
      000039 A3               [24]  153 	inc	dptr
      00003A F0               [24]  154 	movx	@dptr,a
                                    155 ;	div.c:36: ret.rem = numer % denom;
      00003B 90r00r00         [24]  156 	mov	dptr,#__modsint_PARM_2
      00003E EE               [12]  157 	mov	a,r6
      00003F F0               [24]  158 	movx	@dptr,a
      000040 EF               [12]  159 	mov	a,r7
      000041 A3               [24]  160 	inc	dptr
      000042 F0               [24]  161 	movx	@dptr,a
      000043 8C 82            [24]  162 	mov	dpl,r4
      000045 8D 83            [24]  163 	mov	dph,r5
      000047 12r00r00         [24]  164 	lcall	__modsint
      00004A AE 82            [24]  165 	mov	r6,dpl
      00004C AF 83            [24]  166 	mov	r7,dph
      00004E 90r00r06         [24]  167 	mov	dptr,#(_div_ret_65536_40 + 0x0002)
      000051 EE               [12]  168 	mov	a,r6
      000052 F0               [24]  169 	movx	@dptr,a
      000053 EF               [12]  170 	mov	a,r7
      000054 A3               [24]  171 	inc	dptr
      000055 F0               [24]  172 	movx	@dptr,a
                                    173 ;	div.c:37: return(ret);
      000056 90r00r04         [24]  174 	mov	dptr,#_div_ret_65536_40
      000059 E0               [24]  175 	movx	a,@dptr
      00005A C0 82            [24]  176 	push	dpl
      00005C C0 83            [24]  177 	push	dph
      00005E C0 E0            [24]  178 	push	acc
      000060 E5 81            [12]  179 	mov	a,sp
      000062 24 F8            [12]  180 	add	a,#0xf8
      000064 F8               [12]  181 	mov	r0,a
      000065 86 82            [24]  182 	mov	dpl,@r0
      000067 08               [12]  183 	inc	r0
      000068 86 83            [24]  184 	mov	dph,@r0
      00006A 08               [12]  185 	inc	r0
      00006B 86 F0            [24]  186 	mov	b,@r0
      00006D D0 E0            [24]  187 	pop	acc
      00006F 12r00r00         [24]  188 	lcall	__gptrput
      000072 D0 83            [24]  189 	pop	dph
      000074 D0 82            [24]  190 	pop	dpl
      000076 A3               [24]  191 	inc	dptr
      000077 E0               [24]  192 	movx	a,@dptr
      000078 C0 82            [24]  193 	push	dpl
      00007A C0 83            [24]  194 	push	dph
      00007C C0 E0            [24]  195 	push	acc
      00007E E5 81            [12]  196 	mov	a,sp
      000080 24 F8            [12]  197 	add	a,#0xf8
      000082 F8               [12]  198 	mov	r0,a
      000083 86 82            [24]  199 	mov	dpl,@r0
      000085 08               [12]  200 	inc	r0
      000086 86 83            [24]  201 	mov	dph,@r0
      000088 08               [12]  202 	inc	r0
      000089 86 F0            [24]  203 	mov	b,@r0
      00008B A3               [24]  204 	inc	dptr
      00008C D0 E0            [24]  205 	pop	acc
      00008E 12r00r00         [24]  206 	lcall	__gptrput
      000091 D0 83            [24]  207 	pop	dph
      000093 D0 82            [24]  208 	pop	dpl
      000095 A3               [24]  209 	inc	dptr
      000096 E0               [24]  210 	movx	a,@dptr
      000097 C0 82            [24]  211 	push	dpl
      000099 C0 83            [24]  212 	push	dph
      00009B C0 E0            [24]  213 	push	acc
      00009D E5 81            [12]  214 	mov	a,sp
      00009F 24 F8            [12]  215 	add	a,#0xf8
      0000A1 F8               [12]  216 	mov	r0,a
      0000A2 86 82            [24]  217 	mov	dpl,@r0
      0000A4 08               [12]  218 	inc	r0
      0000A5 86 83            [24]  219 	mov	dph,@r0
      0000A7 08               [12]  220 	inc	r0
      0000A8 86 F0            [24]  221 	mov	b,@r0
      0000AA A3               [24]  222 	inc	dptr
      0000AB A3               [24]  223 	inc	dptr
      0000AC D0 E0            [24]  224 	pop	acc
      0000AE 12r00r00         [24]  225 	lcall	__gptrput
      0000B1 D0 83            [24]  226 	pop	dph
      0000B3 D0 82            [24]  227 	pop	dpl
      0000B5 A3               [24]  228 	inc	dptr
      0000B6 E0               [24]  229 	movx	a,@dptr
      0000B7 C0 82            [24]  230 	push	dpl
      0000B9 C0 83            [24]  231 	push	dph
      0000BB C0 E0            [24]  232 	push	acc
      0000BD E5 81            [12]  233 	mov	a,sp
      0000BF 24 F8            [12]  234 	add	a,#0xf8
      0000C1 F8               [12]  235 	mov	r0,a
      0000C2 86 82            [24]  236 	mov	dpl,@r0
      0000C4 08               [12]  237 	inc	r0
      0000C5 86 83            [24]  238 	mov	dph,@r0
      0000C7 08               [12]  239 	inc	r0
      0000C8 86 F0            [24]  240 	mov	b,@r0
      0000CA A3               [24]  241 	inc	dptr
      0000CB A3               [24]  242 	inc	dptr
      0000CC A3               [24]  243 	inc	dptr
      0000CD D0 E0            [24]  244 	pop	acc
      0000CF 12r00r00         [24]  245 	lcall	__gptrput
      0000D2 D0 83            [24]  246 	pop	dph
      0000D4 D0 82            [24]  247 	pop	dpl
                                    248 ;	div.c:38: }
      0000D6 02r00r00         [24]  249 	ljmp	__sdcc_banked_ret
                                    250 	.area CSEG    (CODE)
                                    251 	.area CONST   (CODE)
                                    252 	.area XINIT   (CODE)
                                    253 	.area CABS    (ABS,CODE)
