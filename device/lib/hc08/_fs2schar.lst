                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _fs2schar
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl ___fs2slong
                             23 	.globl ___fs2schar_PARM_1
                             24 	.globl ___fs2schar
                             25 ;--------------------------------------------------------
                             26 ; ram data
                             27 ;--------------------------------------------------------
                             28 	.area DSEG    (PAG)
   0000                      29 ___fs2schar_sloc0_1_0:
   0000                      30 	.ds 4
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in ram
                             33 ;--------------------------------------------------------
                             34 ;--------------------------------------------------------
                             35 ; absolute ram data
                             36 ;--------------------------------------------------------
                             37 	.area IABS    (ABS)
                             38 	.area IABS    (ABS)
                             39 ;--------------------------------------------------------
                             40 ; absolute external ram data
                             41 ;--------------------------------------------------------
                             42 	.area XABS    (ABS)
                             43 ;--------------------------------------------------------
                             44 ; initialized external ram data
                             45 ;--------------------------------------------------------
                             46 	.area XISEG
                             47 ;--------------------------------------------------------
                             48 ; extended address mode data
                             49 ;--------------------------------------------------------
                             50 	.area XSEG
   0000                      51 ___fs2schar_PARM_1:
   0000                      52 	.ds 4
                             53 ;--------------------------------------------------------
                             54 ; global & static initialisations
                             55 ;--------------------------------------------------------
                             56 	.area HOME    (CODE)
                             57 	.area GSINIT  (CODE)
                             58 	.area GSFINAL (CODE)
                             59 	.area GSINIT  (CODE)
                             60 ;--------------------------------------------------------
                             61 ; Home
                             62 ;--------------------------------------------------------
                             63 	.area HOME    (CODE)
                             64 	.area HOME    (CODE)
                             65 ;--------------------------------------------------------
                             66 ; code
                             67 ;--------------------------------------------------------
                             68 	.area CSEG    (CODE)
                             69 ;------------------------------------------------------------
                             70 ;Allocation info for local variables in function '__fs2schar'
                             71 ;------------------------------------------------------------
                             72 ;sloc0                     Allocated with name '___fs2schar_sloc0_1_0'
                             73 ;f                         Allocated with name '___fs2schar_PARM_1'
                             74 ;sl                        Allocated with name '___fs2schar_sl_65536_21'
                             75 ;------------------------------------------------------------
                             76 ;../_fs2schar.c:87: signed char __fs2schar (float f)
                             77 ;	-----------------------------------------
                             78 ;	 function __fs2schar
                             79 ;	-----------------------------------------
                             80 ;	Register assignment is optimal.
                             81 ;	Stack space usage: 0 bytes.
   0000                      82 ___fs2schar:
                             83 ;../_fs2schar.c:89: signed long sl=__fs2slong(f);
   0000 45r00r00      [ 3]   84 	ldhx	#___fs2slong_PARM_1
   0003 C6r00r00      [ 4]   85 	lda	___fs2schar_PARM_1
   0006 F7            [ 2]   86 	sta	,x
   0007 C6r00r01      [ 4]   87 	lda	(___fs2schar_PARM_1 + 1)
   000A E7 01         [ 3]   88 	sta	1,x
   000C C6r00r02      [ 4]   89 	lda	(___fs2schar_PARM_1 + 2)
   000F E7 02         [ 3]   90 	sta	2,x
   0011 C6r00r03      [ 4]   91 	lda	(___fs2schar_PARM_1 + 3)
   0014 E7 03         [ 3]   92 	sta	3,x
   0016 CDr00r00      [ 5]   93 	jsr	___fs2slong
   0019 B7*03         [ 3]   94 	sta	*(___fs2schar_sloc0_1_0 + 3)
   001B BF*02         [ 3]   95 	stx	*(___fs2schar_sloc0_1_0 + 2)
   001D 4E*00*01      [ 5]   96 	mov	*___SDCC_hc08_ret2,*(___fs2schar_sloc0_1_0 + 1)
   0020 4E*00*00      [ 5]   97 	mov	*___SDCC_hc08_ret3,*___fs2schar_sloc0_1_0
                             98 ;../_fs2schar.c:90: if (sl>=SCHAR_MAX)
   0023 B6*03         [ 3]   99 	lda	*(___fs2schar_sloc0_1_0 + 3)
   0025 A0 7F         [ 2]  100 	sub	#0x7f
   0027 B6*02         [ 3]  101 	lda	*(___fs2schar_sloc0_1_0 + 2)
   0029 A2 00         [ 2]  102 	sbc	#0x00
   002B B6*01         [ 3]  103 	lda	*(___fs2schar_sloc0_1_0 + 1)
   002D A2 00         [ 2]  104 	sbc	#0x00
   002F B6*00         [ 3]  105 	lda	*___fs2schar_sloc0_1_0
   0031 A2 00         [ 2]  106 	sbc	#0x00
   0033 91 03         [ 3]  107 	blt	00102$
                            108 ;../_fs2schar.c:91: return SCHAR_MAX;
   0035 A6 7F         [ 2]  109 	lda	#0x7f
   0037 81            [ 4]  110 	rts
   0038                     111 00102$:
                            112 ;../_fs2schar.c:92: if (sl<=SCHAR_MIN)
   0038 A6 80         [ 2]  113 	lda	#0x80
   003A B0*03         [ 3]  114 	sub	*(___fs2schar_sloc0_1_0 + 3)
   003C A6 FF         [ 2]  115 	lda	#0xff
   003E B2*02         [ 3]  116 	sbc	*(___fs2schar_sloc0_1_0 + 2)
   0040 A6 FF         [ 2]  117 	lda	#0xff
   0042 B2*01         [ 3]  118 	sbc	*(___fs2schar_sloc0_1_0 + 1)
   0044 A6 FF         [ 2]  119 	lda	#0xff
   0046 B2*00         [ 3]  120 	sbc	*___fs2schar_sloc0_1_0
   0048 91 03         [ 3]  121 	blt	00104$
                            122 ;../_fs2schar.c:93: return -SCHAR_MIN;
   004A A6 80         [ 2]  123 	lda	#0x80
   004C 81            [ 4]  124 	rts
   004D                     125 00104$:
                            126 ;../_fs2schar.c:94: return sl;
   004D B6*03         [ 3]  127 	lda	*(___fs2schar_sloc0_1_0 + 3)
                            128 ;../_fs2schar.c:95: }
   004F 81            [ 4]  129 	rts
                            130 	.area CSEG    (CODE)
                            131 	.area CONST   (CODE)
                            132 	.area XINIT   (CODE)
                            133 	.area CABS    (ABS,CODE)
