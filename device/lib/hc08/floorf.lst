                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module floorf
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl _floorf
                             23 ;--------------------------------------------------------
                             24 ; ram data
                             25 ;--------------------------------------------------------
                             26 	.area DSEG    (PAG)
                             27 ;--------------------------------------------------------
                             28 ; overlayable items in ram
                             29 ;--------------------------------------------------------
                             30 ;--------------------------------------------------------
                             31 ; absolute ram data
                             32 ;--------------------------------------------------------
                             33 	.area IABS    (ABS)
                             34 	.area IABS    (ABS)
                             35 ;--------------------------------------------------------
                             36 ; absolute external ram data
                             37 ;--------------------------------------------------------
                             38 	.area XABS    (ABS)
                             39 ;--------------------------------------------------------
                             40 ; initialized external ram data
                             41 ;--------------------------------------------------------
                             42 	.area XISEG
                             43 ;--------------------------------------------------------
                             44 ; extended address mode data
                             45 ;--------------------------------------------------------
                             46 	.area XSEG
                             47 ;--------------------------------------------------------
                             48 ; global & static initialisations
                             49 ;--------------------------------------------------------
                             50 	.area HOME    (CODE)
                             51 	.area GSINIT  (CODE)
                             52 	.area GSFINAL (CODE)
                             53 	.area GSINIT  (CODE)
                             54 ;--------------------------------------------------------
                             55 ; Home
                             56 ;--------------------------------------------------------
                             57 	.area HOME    (CODE)
                             58 	.area HOME    (CODE)
                             59 ;--------------------------------------------------------
                             60 ; code
                             61 ;--------------------------------------------------------
                             62 	.area CSEG    (CODE)
                             63 ;------------------------------------------------------------
                             64 ;Allocation info for local variables in function 'floorf'
                             65 ;------------------------------------------------------------
                             66 ;x                         Allocated to stack - sp +15
                             67 ;r                         Allocated to stack - sp +9
                             68 ;sloc0                     Allocated to stack - sp +9
                             69 ;sloc1                     Allocated to stack - sp +5
                             70 ;sloc2                     Allocated to stack - sp +1
                             71 ;------------------------------------------------------------
                             72 ;../floorf.c:33: float floorf (float x) _FLOAT_FUNC_REENTRANT
                             73 ;	-----------------------------------------
                             74 ;	 function floorf
                             75 ;	-----------------------------------------
                             76 ;	Register assignment is optimal.
                             77 ;	Stack space usage: 12 bytes.
   0000                      78 _floorf:
   0000 A7 F4         [ 2]   79 	ais	#-12
                             80 ;../floorf.c:36: r=x;
   0002 95            [ 2]   81 	tsx
   0003 45r00r00      [ 3]   82 	ldhx	#___fs2slong_PARM_1
   0006 9E E6 0F      [ 4]   83 	lda	15,s
   0009 F7            [ 2]   84 	sta	,x
   000A 9E E6 10      [ 4]   85 	lda	16,s
   000D E7 01         [ 3]   86 	sta	1,x
   000F 9E E6 11      [ 4]   87 	lda	17,s
   0012 E7 02         [ 3]   88 	sta	2,x
   0014 9E E6 12      [ 4]   89 	lda	18,s
   0017 E7 03         [ 3]   90 	sta	3,x
   0019 CDr00r00      [ 5]   91 	jsr	___fs2slong
   001C 9E E7 0C      [ 4]   92 	sta	12,s
   001F 9E EF 0B      [ 4]   93 	stx	11,s
   0022 B6*00         [ 3]   94 	lda	*___SDCC_hc08_ret2
   0024 9E E7 0A      [ 4]   95 	sta	10,s
   0027 B6*00         [ 3]   96 	lda	*___SDCC_hc08_ret3
   0029 9E E7 09      [ 4]   97 	sta	9,s
                             98 ;../floorf.c:38: return (r+((r>x)?-1:0));
   002C 95            [ 2]   99 	tsx
   002D 45r00r00      [ 3]  100 	ldhx	#___slong2fs_PARM_1
   0030 9E E6 09      [ 4]  101 	lda	9,s
   0033 F7            [ 2]  102 	sta	,x
   0034 9E E6 0A      [ 4]  103 	lda	10,s
   0037 E7 01         [ 3]  104 	sta	1,x
   0039 9E E6 0B      [ 4]  105 	lda	11,s
   003C E7 02         [ 3]  106 	sta	2,x
   003E 9E E6 0C      [ 4]  107 	lda	12,s
   0041 E7 03         [ 3]  108 	sta	3,x
   0043 CDr00r00      [ 5]  109 	jsr	___slong2fs
   0046 9E E7 08      [ 4]  110 	sta	8,s
   0049 9E EF 07      [ 4]  111 	stx	7,s
   004C B6*00         [ 3]  112 	lda	*___SDCC_hc08_ret2
   004E 9E E7 06      [ 4]  113 	sta	6,s
   0051 B6*00         [ 3]  114 	lda	*___SDCC_hc08_ret3
   0053 9E E7 05      [ 4]  115 	sta	5,s
                            116 ;../floorf.c:37: if (r<=0)
   0056 95            [ 2]  117 	tsx
   0057 4F            [ 1]  118 	clra
   0058 E0 0B         [ 3]  119 	sub	11,x
   005A 4F            [ 1]  120 	clra
   005B E2 0A         [ 3]  121 	sbc	10,x
   005D 4F            [ 1]  122 	clra
   005E E2 09         [ 3]  123 	sbc	9,x
   0060 4F            [ 1]  124 	clra
   0061 E2 08         [ 3]  125 	sbc	8,x
   0063 90 03         [ 3]  126 	bge	00118$
   0065 CCr00rF8      [ 3]  127 	jmp	00102$
   0068                     128 00118$:
                            129 ;../floorf.c:38: return (r+((r>x)?-1:0));
   0068 45r00r00      [ 3]  130 	ldhx	#___fslt_PARM_1
   006B 9E E6 0F      [ 4]  131 	lda	15,s
   006E F7            [ 2]  132 	sta	,x
   006F 9E E6 10      [ 4]  133 	lda	16,s
   0072 E7 01         [ 3]  134 	sta	1,x
   0074 9E E6 11      [ 4]  135 	lda	17,s
   0077 E7 02         [ 3]  136 	sta	2,x
   0079 9E E6 12      [ 4]  137 	lda	18,s
   007C E7 03         [ 3]  138 	sta	3,x
   007E 95            [ 2]  139 	tsx
   007F 45r00r00      [ 3]  140 	ldhx	#___fslt_PARM_2
   0082 9E E6 05      [ 4]  141 	lda	5,s
   0085 F7            [ 2]  142 	sta	,x
   0086 9E E6 06      [ 4]  143 	lda	6,s
   0089 E7 01         [ 3]  144 	sta	1,x
   008B 9E E6 07      [ 4]  145 	lda	7,s
   008E E7 02         [ 3]  146 	sta	2,x
   0090 9E E6 08      [ 4]  147 	lda	8,s
   0093 E7 03         [ 3]  148 	sta	3,x
   0095 CDr00r00      [ 5]  149 	jsr	___fslt
   0098 4D            [ 1]  150 	tsta
   0099 27 05         [ 3]  151 	beq	00106$
   009B AE FF         [ 2]  152 	ldx	#0xff
   009D 9F            [ 1]  153 	txa
   009E 20 02         [ 3]  154 	bra	00107$
   00A0                     155 00106$:
   00A0 5F            [ 1]  156 	clrx
   00A1 9F            [ 1]  157 	txa
   00A2                     158 00107$:
   00A2 9E E7 04      [ 4]  159 	sta	4,s
   00A5 9F            [ 1]  160 	txa
   00A6 9E E7 03      [ 4]  161 	sta	3,s
   00A9 49            [ 1]  162 	rola	
   00AA 4F            [ 1]  163 	clra	
   00AB A2 00         [ 2]  164 	sbc	#0x00
   00AD 9E E7 02      [ 4]  165 	sta	2,s
   00B0 9E E7 01      [ 4]  166 	sta	1,s
   00B3 95            [ 2]  167 	tsx
   00B4 45r00r00      [ 3]  168 	ldhx	#___slong2fs_PARM_1
   00B7 9E E6 0C      [ 4]  169 	lda	12,s
   00BA 9E EB 04      [ 4]  170 	add	4,s
   00BD E7 03         [ 3]  171 	sta	3,x
   00BF 9E E6 0B      [ 4]  172 	lda	11,s
   00C2 9E E9 03      [ 4]  173 	adc	3,s
   00C5 E7 02         [ 3]  174 	sta	2,x
   00C7 9E E6 0A      [ 4]  175 	lda	10,s
   00CA 9E E9 02      [ 4]  176 	adc	2,s
   00CD E7 01         [ 3]  177 	sta	1,x
   00CF 9E E6 09      [ 4]  178 	lda	9,s
   00D2 9E E9 01      [ 4]  179 	adc	1,s
   00D5 F7            [ 2]  180 	sta	,x
   00D6 CDr00r00      [ 5]  181 	jsr	___slong2fs
   00D9 9E E7 04      [ 4]  182 	sta	4,s
   00DC 9E EF 03      [ 4]  183 	stx	3,s
   00DF B6*00         [ 3]  184 	lda	*___SDCC_hc08_ret2
   00E1 9E E7 02      [ 4]  185 	sta	2,s
   00E4 B6*00         [ 3]  186 	lda	*___SDCC_hc08_ret3
   00E6 9E E7 01      [ 4]  187 	sta	1,s
   00E9 95            [ 2]  188 	tsx
   00EA F6            [ 2]  189 	lda	,x
   00EB B7*00         [ 3]  190 	sta	*___SDCC_hc08_ret3
   00ED E6 01         [ 3]  191 	lda	1,x
   00EF B7*00         [ 3]  192 	sta	*___SDCC_hc08_ret2
   00F1 EE 02         [ 3]  193 	ldx	2,x
   00F3 9E E6 04      [ 4]  194 	lda	4,s
   00F6 20 0E         [ 3]  195 	bra	00104$
   00F8                     196 00102$:
                            197 ;../floorf.c:40: return r;
   00F8 95            [ 2]  198 	tsx
   00F9 E6 04         [ 3]  199 	lda	4,x
   00FB B7*00         [ 3]  200 	sta	*___SDCC_hc08_ret3
   00FD E6 05         [ 3]  201 	lda	5,x
   00FF B7*00         [ 3]  202 	sta	*___SDCC_hc08_ret2
   0101 EE 06         [ 3]  203 	ldx	6,x
   0103 9E E6 08      [ 4]  204 	lda	8,s
   0106                     205 00104$:
                            206 ;../floorf.c:41: }
   0106 A7 0C         [ 2]  207 	ais	#12
   0108 81            [ 4]  208 	rts
                            209 	.area CSEG    (CODE)
                            210 	.area CONST   (CODE)
                            211 	.area XINIT   (CODE)
                            212 	.area CABS    (ABS,CODE)
