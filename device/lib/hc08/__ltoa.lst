                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module __ltoa
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl ___ltoa_PARM_3
                             23 	.globl ___ltoa_PARM_2
                             24 	.globl ___ltoa_PARM_1
                             25 	.globl ___ultoa_PARM_3
                             26 	.globl ___ultoa_PARM_2
                             27 	.globl ___ultoa_PARM_1
                             28 	.globl ___ultoa
                             29 	.globl ___ltoa
                             30 ;--------------------------------------------------------
                             31 ; ram data
                             32 ;--------------------------------------------------------
                             33 	.area DSEG    (PAG)
   0000                      34 ___ultoa_sloc0_1_0:
   0000                      35 	.ds 1
   0001                      36 ___ultoa_sloc1_1_0:
   0001                      37 	.ds 4
   0005                      38 ___ultoa_sloc2_1_0:
   0005                      39 	.ds 4
                             40 ;--------------------------------------------------------
                             41 ; overlayable items in ram
                             42 ;--------------------------------------------------------
                             43 ;--------------------------------------------------------
                             44 ; absolute ram data
                             45 ;--------------------------------------------------------
                             46 	.area IABS    (ABS)
                             47 	.area IABS    (ABS)
                             48 ;--------------------------------------------------------
                             49 ; absolute external ram data
                             50 ;--------------------------------------------------------
                             51 	.area XABS    (ABS)
                             52 ;--------------------------------------------------------
                             53 ; initialized external ram data
                             54 ;--------------------------------------------------------
                             55 	.area XISEG
                             56 ;--------------------------------------------------------
                             57 ; extended address mode data
                             58 ;--------------------------------------------------------
                             59 	.area XSEG
   0000                      60 ___ultoa_PARM_1:
   0000                      61 	.ds 4
   0004                      62 ___ultoa_PARM_2:
   0004                      63 	.ds 2
   0006                      64 ___ultoa_PARM_3:
   0006                      65 	.ds 1
   0007                      66 ___ultoa_buffer_65536_37:
   0007                      67 	.ds 32
   0027                      68 ___ltoa_PARM_1:
   0027                      69 	.ds 4
   002B                      70 ___ltoa_PARM_2:
   002B                      71 	.ds 2
   002D                      72 ___ltoa_PARM_3:
   002D                      73 	.ds 1
                             74 ;--------------------------------------------------------
                             75 ; global & static initialisations
                             76 ;--------------------------------------------------------
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT  (CODE)
                             79 	.area GSFINAL (CODE)
                             80 	.area GSINIT  (CODE)
                             81 ;--------------------------------------------------------
                             82 ; Home
                             83 ;--------------------------------------------------------
                             84 	.area HOME    (CODE)
                             85 	.area HOME    (CODE)
                             86 ;--------------------------------------------------------
                             87 ; code
                             88 ;--------------------------------------------------------
                             89 	.area CSEG    (CODE)
                             90 ;------------------------------------------------------------
                             91 ;Allocation info for local variables in function '__ultoa'
                             92 ;------------------------------------------------------------
                             93 ;sloc0                     Allocated with name '___ultoa_sloc0_1_0'
                             94 ;sloc1                     Allocated with name '___ultoa_sloc1_1_0'
                             95 ;sloc2                     Allocated with name '___ultoa_sloc2_1_0'
                             96 ;value                     Allocated with name '___ultoa_PARM_1'
                             97 ;string                    Allocated with name '___ultoa_PARM_2'
                             98 ;radix                     Allocated with name '___ultoa_PARM_3'
                             99 ;buffer                    Allocated with name '___ultoa_buffer_65536_37'
                            100 ;index                     Allocated to registers 
                            101 ;c                         Allocated to registers a 
                            102 ;------------------------------------------------------------
                            103 ;../__ltoa.c:58: void __ultoa(unsigned long value, char* string, unsigned char radix)
                            104 ;	-----------------------------------------
                            105 ;	 function __ultoa
                            106 ;	-----------------------------------------
                            107 ;	Register assignment is optimal.
                            108 ;	Stack space usage: 0 bytes.
   0000                     109 ___ultoa:
                            110 ;../__ltoa.c:63: do {
   0000 6E 20*00      [ 4]  111 	mov	#0x20,*___ultoa_sloc0_1_0
   0003                     112 00103$:
                            113 ;../__ltoa.c:64: unsigned char c = '0' + (value % radix);
   0003 C6r00r06      [ 4]  114 	lda	___ultoa_PARM_3
   0006 B7*04         [ 3]  115 	sta	*(___ultoa_sloc1_1_0 + 3)
   0008 6E 00*03      [ 4]  116 	mov	#0x00,*(___ultoa_sloc1_1_0 + 2)
   000B 6E 00*02      [ 4]  117 	mov	#0x00,*(___ultoa_sloc1_1_0 + 1)
   000E 6E 00*01      [ 4]  118 	mov	#0x00,*___ultoa_sloc1_1_0
   0011 45r00r00      [ 3]  119 	ldhx	#__modulong_PARM_1
   0014 C6r00r00      [ 4]  120 	lda	___ultoa_PARM_1
   0017 F7            [ 2]  121 	sta	,x
   0018 C6r00r01      [ 4]  122 	lda	(___ultoa_PARM_1 + 1)
   001B E7 01         [ 3]  123 	sta	1,x
   001D C6r00r02      [ 4]  124 	lda	(___ultoa_PARM_1 + 2)
   0020 E7 02         [ 3]  125 	sta	2,x
   0022 C6r00r03      [ 4]  126 	lda	(___ultoa_PARM_1 + 3)
   0025 E7 03         [ 3]  127 	sta	3,x
   0027 45r00r00      [ 3]  128 	ldhx	#__modulong_PARM_2
   002A 5E*01         [ 4]  129 	mov	*___ultoa_sloc1_1_0,x+
   002C 5E*02         [ 4]  130 	mov	*(___ultoa_sloc1_1_0 + 1),x+
   002E 5E*03         [ 4]  131 	mov	*(___ultoa_sloc1_1_0 + 2),x+
   0030 5E*04         [ 4]  132 	mov	*(___ultoa_sloc1_1_0 + 3),x+
   0032 CDr00r00      [ 5]  133 	jsr	__modulong
   0035 B7*08         [ 3]  134 	sta	*(___ultoa_sloc2_1_0 + 3)
   0037 BF*07         [ 3]  135 	stx	*(___ultoa_sloc2_1_0 + 2)
   0039 4E*00*06      [ 5]  136 	mov	*___SDCC_hc08_ret2,*(___ultoa_sloc2_1_0 + 1)
   003C 4E*00*05      [ 5]  137 	mov	*___SDCC_hc08_ret3,*___ultoa_sloc2_1_0
   003F B6*08         [ 3]  138 	lda	*(___ultoa_sloc2_1_0 + 3)
   0041 AB 30         [ 2]  139 	add	#0x30
                            140 ;../__ltoa.c:65: if (c > (unsigned char)'9')
   0043 A1 39         [ 2]  141 	cmp	#0x39
   0045 23 02         [ 3]  142 	bls	00102$
                            143 ;../__ltoa.c:66: c += 'A' - '9' - 1;
   0047 AB 07         [ 2]  144 	add	#0x07
   0049                     145 00102$:
                            146 ;../__ltoa.c:67: buffer[--index] = c;
   0049 3A*00         [ 4]  147 	dec	*___ultoa_sloc0_1_0
   004B BE*00         [ 3]  148 	ldx	*___ultoa_sloc0_1_0
   004D 8C            [ 1]  149 	clrh
   004E D7r00r07      [ 4]  150 	sta	(___ultoa_buffer_65536_37),x
                            151 ;../__ltoa.c:68: value /= radix;
   0051 45r00r00      [ 3]  152 	ldhx	#__divulong_PARM_1
   0054 C6r00r00      [ 4]  153 	lda	___ultoa_PARM_1
   0057 F7            [ 2]  154 	sta	,x
   0058 C6r00r01      [ 4]  155 	lda	(___ultoa_PARM_1 + 1)
   005B E7 01         [ 3]  156 	sta	1,x
   005D C6r00r02      [ 4]  157 	lda	(___ultoa_PARM_1 + 2)
   0060 E7 02         [ 3]  158 	sta	2,x
   0062 C6r00r03      [ 4]  159 	lda	(___ultoa_PARM_1 + 3)
   0065 E7 03         [ 3]  160 	sta	3,x
   0067 45r00r00      [ 3]  161 	ldhx	#__divulong_PARM_2
   006A 5E*01         [ 4]  162 	mov	*___ultoa_sloc1_1_0,x+
   006C 5E*02         [ 4]  163 	mov	*(___ultoa_sloc1_1_0 + 1),x+
   006E 5E*03         [ 4]  164 	mov	*(___ultoa_sloc1_1_0 + 2),x+
   0070 5E*04         [ 4]  165 	mov	*(___ultoa_sloc1_1_0 + 3),x+
   0072 CDr00r00      [ 5]  166 	jsr	__divulong
   0075 C7r00r03      [ 4]  167 	sta	(___ultoa_PARM_1 + 3)
   0078 CFr00r02      [ 4]  168 	stx	(___ultoa_PARM_1 + 2)
   007B B6*00         [ 3]  169 	lda	*___SDCC_hc08_ret2
   007D C7r00r01      [ 4]  170 	sta	(___ultoa_PARM_1 + 1)
   0080 B6*00         [ 3]  171 	lda	*___SDCC_hc08_ret3
   0082 C7r00r00      [ 4]  172 	sta	___ultoa_PARM_1
                            173 ;../__ltoa.c:69: } while (value);
   0085 C6r00r00      [ 4]  174 	lda	___ultoa_PARM_1
   0088 CAr00r01      [ 4]  175 	ora	(___ultoa_PARM_1 + 1)
   008B CAr00r02      [ 4]  176 	ora	(___ultoa_PARM_1 + 2)
   008E CAr00r03      [ 4]  177 	ora	(___ultoa_PARM_1 + 3)
   0091 27 03         [ 3]  178 	beq	00138$
   0093 CCr00r03      [ 3]  179 	jmp	00103$
   0096                     180 00138$:
                            181 ;../__ltoa.c:71: do {
   0096 C6r00r04      [ 4]  182 	lda	___ultoa_PARM_2
   0099 B7*05         [ 3]  183 	sta	*___ultoa_sloc2_1_0
   009B C6r00r05      [ 4]  184 	lda	(___ultoa_PARM_2 + 1)
   009E B7*06         [ 3]  185 	sta	*(___ultoa_sloc2_1_0 + 1)
   00A0 B6*00         [ 3]  186 	lda	*___ultoa_sloc0_1_0
   00A2                     187 00106$:
                            188 ;../__ltoa.c:72: *string++ = buffer[index];
   00A2 97            [ 1]  189 	tax
   00A3 8C            [ 1]  190 	clrh
   00A4 DEr00r07      [ 4]  191 	ldx	(___ultoa_buffer_65536_37),x
   00A7 87            [ 2]  192 	psha
   00A8 9F            [ 1]  193 	txa
   00A9 55*05         [ 4]  194 	ldhx	*___ultoa_sloc2_1_0
   00AB F7            [ 2]  195 	sta	,x
   00AC AF 01         [ 2]  196 	aix	#1
   00AE 35*05         [ 4]  197 	sthx	*___ultoa_sloc2_1_0
   00B0 86            [ 2]  198 	pula
                            199 ;../__ltoa.c:73: } while ( ++index != NUMBER_OF_DIGITS );
   00B1 4C            [ 1]  200 	inca
   00B2 A1 20         [ 2]  201 	cmp	#0x20
   00B4 26 EC         [ 3]  202 	bne	00106$
                            203 ;../__ltoa.c:75: *string = 0;  /* string terminator */
   00B6 55*05         [ 4]  204 	ldhx	*___ultoa_sloc2_1_0
   00B8 4F            [ 1]  205 	clra
   00B9 F7            [ 2]  206 	sta	,x
                            207 ;../__ltoa.c:76: }
   00BA 81            [ 4]  208 	rts
                            209 ;------------------------------------------------------------
                            210 ;Allocation info for local variables in function '__ltoa'
                            211 ;------------------------------------------------------------
                            212 ;value                     Allocated with name '___ltoa_PARM_1'
                            213 ;string                    Allocated with name '___ltoa_PARM_2'
                            214 ;radix                     Allocated with name '___ltoa_PARM_3'
                            215 ;------------------------------------------------------------
                            216 ;../__ltoa.c:78: void __ltoa(long value, char* string, unsigned char radix)
                            217 ;	-----------------------------------------
                            218 ;	 function __ltoa
                            219 ;	-----------------------------------------
                            220 ;	Register assignment is optimal.
                            221 ;	Stack space usage: 0 bytes.
   00BB                     222 ___ltoa:
                            223 ;../__ltoa.c:80: if (value < 0 && radix == 10) {
   00BB C6r00r27      [ 4]  224 	lda	___ltoa_PARM_1
   00BE A0 00         [ 2]  225 	sub	#0x00
   00C0 90 3C         [ 3]  226 	bge	00102$
   00C2 C6r00r2D      [ 4]  227 	lda	___ltoa_PARM_3
   00C5 A1 0A         [ 2]  228 	cmp	#0x0a
   00C7 26 35         [ 3]  229 	bne	00102$
                            230 ;../__ltoa.c:81: *string++ = '-';
   00C9 C6r00r2B      [ 4]  231 	lda	___ltoa_PARM_2
   00CC 87            [ 2]  232 	psha
   00CD 8A            [ 2]  233 	pulh
   00CE CEr00r2C      [ 4]  234 	ldx	(___ltoa_PARM_2 + 1)
   00D1 89            [ 2]  235 	pshx
   00D2 8B            [ 2]  236 	pshh
   00D3 A6 2D         [ 2]  237 	lda	#0x2d
   00D5 F7            [ 2]  238 	sta	,x
   00D6 8A            [ 2]  239 	pulh
   00D7 88            [ 2]  240 	pulx
   00D8 AF 01         [ 2]  241 	aix	#1
   00DA 8B            [ 2]  242 	pshh
   00DB 86            [ 2]  243 	pula
   00DC C7r00r2B      [ 4]  244 	sta	___ltoa_PARM_2
   00DF CFr00r2C      [ 4]  245 	stx	(___ltoa_PARM_2 + 1)
                            246 ;../__ltoa.c:82: value = -value;
   00E2 4F            [ 1]  247 	clra
   00E3 C0r00r2A      [ 4]  248 	sub	(___ltoa_PARM_1 + 3)
   00E6 C7r00r2A      [ 4]  249 	sta	(___ltoa_PARM_1 + 3)
   00E9 4F            [ 1]  250 	clra
   00EA C2r00r29      [ 4]  251 	sbc	(___ltoa_PARM_1 + 2)
   00ED C7r00r29      [ 4]  252 	sta	(___ltoa_PARM_1 + 2)
   00F0 4F            [ 1]  253 	clra
   00F1 C2r00r28      [ 4]  254 	sbc	(___ltoa_PARM_1 + 1)
   00F4 C7r00r28      [ 4]  255 	sta	(___ltoa_PARM_1 + 1)
   00F7 4F            [ 1]  256 	clra
   00F8 C2r00r27      [ 4]  257 	sbc	___ltoa_PARM_1
   00FB C7r00r27      [ 4]  258 	sta	___ltoa_PARM_1
   00FE                     259 00102$:
                            260 ;../__ltoa.c:84: __ultoa(value, string, radix);
   00FE 45r00r00      [ 3]  261 	ldhx	#___ultoa_PARM_1
   0101 C6r00r27      [ 4]  262 	lda	___ltoa_PARM_1
   0104 F7            [ 2]  263 	sta	,x
   0105 C6r00r28      [ 4]  264 	lda	(___ltoa_PARM_1 + 1)
   0108 E7 01         [ 3]  265 	sta	1,x
   010A C6r00r29      [ 4]  266 	lda	(___ltoa_PARM_1 + 2)
   010D E7 02         [ 3]  267 	sta	2,x
   010F C6r00r2A      [ 4]  268 	lda	(___ltoa_PARM_1 + 3)
   0112 E7 03         [ 3]  269 	sta	3,x
   0114 C6r00r2B      [ 4]  270 	lda	___ltoa_PARM_2
   0117 C7r00r04      [ 4]  271 	sta	___ultoa_PARM_2
   011A C6r00r2C      [ 4]  272 	lda	(___ltoa_PARM_2 + 1)
   011D C7r00r05      [ 4]  273 	sta	(___ultoa_PARM_2 + 1)
   0120 C6r00r2D      [ 4]  274 	lda	___ltoa_PARM_3
   0123 C7r00r06      [ 4]  275 	sta	___ultoa_PARM_3
                            276 ;../__ltoa.c:85: }
   0126 CCr00r00      [ 3]  277 	jmp	___ultoa
                            278 	.area CSEG    (CODE)
                            279 	.area CONST   (CODE)
                            280 	.area XINIT   (CODE)
                            281 	.area CABS    (ABS,CODE)
