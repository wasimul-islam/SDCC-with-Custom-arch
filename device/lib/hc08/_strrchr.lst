                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _strrchr
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl _strrchr_PARM_2
                             23 	.globl _strrchr
                             24 ;--------------------------------------------------------
                             25 ; ram data
                             26 ;--------------------------------------------------------
                             27 	.area DSEG    (PAG)
                             28 ;--------------------------------------------------------
                             29 ; overlayable items in ram
                             30 ;--------------------------------------------------------
                             31 ;--------------------------------------------------------
                             32 ; absolute ram data
                             33 ;--------------------------------------------------------
                             34 	.area IABS    (ABS)
                             35 	.area IABS    (ABS)
                             36 ;--------------------------------------------------------
                             37 ; absolute external ram data
                             38 ;--------------------------------------------------------
                             39 	.area XABS    (ABS)
                             40 ;--------------------------------------------------------
                             41 ; initialized external ram data
                             42 ;--------------------------------------------------------
                             43 	.area XISEG
                             44 ;--------------------------------------------------------
                             45 ; extended address mode data
                             46 ;--------------------------------------------------------
                             47 	.area XSEG
   0000                      48 _strrchr_PARM_2:
   0000                      49 	.ds 1
   0001                      50 _strrchr_start_65536_27:
   0001                      51 	.ds 2
                             52 ;--------------------------------------------------------
                             53 ; global & static initialisations
                             54 ;--------------------------------------------------------
                             55 	.area HOME    (CODE)
                             56 	.area GSINIT  (CODE)
                             57 	.area GSFINAL (CODE)
                             58 	.area GSINIT  (CODE)
                             59 ;--------------------------------------------------------
                             60 ; Home
                             61 ;--------------------------------------------------------
                             62 	.area HOME    (CODE)
                             63 	.area HOME    (CODE)
                             64 ;--------------------------------------------------------
                             65 ; code
                             66 ;--------------------------------------------------------
                             67 	.area CSEG    (CODE)
                             68 ;------------------------------------------------------------
                             69 ;Allocation info for local variables in function 'strrchr'
                             70 ;------------------------------------------------------------
                             71 ;ch                        Allocated with name '_strrchr_PARM_2'
                             72 ;string                    Allocated to registers x h 
                             73 ;start                     Allocated with name '_strrchr_start_65536_27'
                             74 ;------------------------------------------------------------
                             75 ;../_strrchr.c:32: char * strrchr ( const char * string, char ch )
                             76 ;	-----------------------------------------
                             77 ;	 function strrchr
                             78 ;	-----------------------------------------
                             79 ;	Register assignment is optimal.
                             80 ;	Stack space usage: 0 bytes.
   0000                      81 _strrchr:
   0000 89            [ 2]   82 	pshx
   0001 97            [ 1]   83 	tax
   0002 8A            [ 2]   84 	pulh
                             85 ;../_strrchr.c:37: const char * start = string;
   0003 8B            [ 2]   86 	pshh
   0004 86            [ 2]   87 	pula
   0005 C7r00r01      [ 4]   88 	sta	_strrchr_start_65536_27
   0008 CFr00r02      [ 4]   89 	stx	(_strrchr_start_65536_27 + 1)
                             90 ;../_strrchr.c:39: while (*string++)                       /* find end of string */
   000B                      91 00101$:
   000B F6            [ 2]   92 	lda	,x
   000C AF 01         [ 2]   93 	aix	#1
   000E 4D            [ 1]   94 	tsta
   000F 26 FA         [ 3]   95 	bne	00101$
                             96 ;../_strrchr.c:42: while (--string != start && *string != ch)
   0011                      97 00105$:
   0011 AF FF         [ 2]   98 	aix	#-1
   0013 F6            [ 2]   99 	lda	,x
   0014 C1r00r00      [ 4]  100 	cmp	_strrchr_PARM_2
   0017 27 03         [ 3]  101 	beq	00140$
   0019 4F            [ 1]  102 	clra
   001A 20 02         [ 3]  103 	bra	00139$
   001C                     104 00140$:
   001C A6 01         [ 2]  105 	lda	#0x01
   001E                     106 00139$:
   001E C3r00r02      [ 4]  107 	cpx	(_strrchr_start_65536_27 + 1)
   0021 26 09         [ 3]  108 	bne	00141$
   0023 87            [ 2]  109 	psha
   0024 8B            [ 2]  110 	pshh
   0025 86            [ 2]  111 	pula
   0026 C1r00r01      [ 4]  112 	cmp	_strrchr_start_65536_27
   0029 86            [ 2]  113 	pula
   002A 27 03         [ 3]  114 	beq	00107$
   002C                     115 00141$:
   002C 4D            [ 1]  116 	tsta
   002D 27 E2         [ 3]  117 	beq	00105$
   002F                     118 00107$:
                            119 ;../_strrchr.c:45: if (*string == ch)                      /* char found ? */
   002F 4D            [ 1]  120 	tsta
   0030 27 05         [ 3]  121 	beq	00109$
                            122 ;../_strrchr.c:46: return( (char *)string );
   0032 89            [ 2]  123 	pshx
   0033 8B            [ 2]  124 	pshh
   0034 88            [ 2]  125 	pulx
   0035 86            [ 2]  126 	pula
   0036 81            [ 4]  127 	rts
   0037                     128 00109$:
                            129 ;../_strrchr.c:48: return (NULL) ;
   0037 4F            [ 1]  130 	clra
   0038 97            [ 1]  131 	tax
                            132 ;../_strrchr.c:49: }
   0039 81            [ 4]  133 	rts
                            134 	.area CSEG    (CODE)
                            135 	.area CONST   (CODE)
                            136 	.area XINIT   (CODE)
                            137 	.area CABS    (ABS,CODE)
