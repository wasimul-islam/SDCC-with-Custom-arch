                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _strncmp
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl _strncmp_PARM_3
                             23 	.globl _strncmp_PARM_2
                             24 	.globl _strncmp
                             25 ;--------------------------------------------------------
                             26 ; ram data
                             27 ;--------------------------------------------------------
                             28 	.area DSEG    (PAG)
                             29 ;--------------------------------------------------------
                             30 ; overlayable items in ram
                             31 ;--------------------------------------------------------
                             32 	.area	OSEG    (PAG, OVR)
   0000                      33 _strncmp_sloc0_1_0:
   0000                      34 	.ds 2
   0002                      35 _strncmp_sloc1_1_0:
   0002                      36 	.ds 2
   0004                      37 _strncmp_sloc2_1_0:
   0004                      38 	.ds 2
   0006                      39 _strncmp_sloc3_1_0:
   0006                      40 	.ds 1
                             41 ;--------------------------------------------------------
                             42 ; absolute ram data
                             43 ;--------------------------------------------------------
                             44 	.area IABS    (ABS)
                             45 	.area IABS    (ABS)
                             46 ;--------------------------------------------------------
                             47 ; absolute external ram data
                             48 ;--------------------------------------------------------
                             49 	.area XABS    (ABS)
                             50 ;--------------------------------------------------------
                             51 ; initialized external ram data
                             52 ;--------------------------------------------------------
                             53 	.area XISEG
                             54 ;--------------------------------------------------------
                             55 ; extended address mode data
                             56 ;--------------------------------------------------------
                             57 	.area XSEG
   0000                      58 _strncmp_PARM_2:
   0000                      59 	.ds 2
   0002                      60 _strncmp_PARM_3:
   0002                      61 	.ds 2
                             62 ;--------------------------------------------------------
                             63 ; global & static initialisations
                             64 ;--------------------------------------------------------
                             65 	.area HOME    (CODE)
                             66 	.area GSINIT  (CODE)
                             67 	.area GSFINAL (CODE)
                             68 	.area GSINIT  (CODE)
                             69 ;--------------------------------------------------------
                             70 ; Home
                             71 ;--------------------------------------------------------
                             72 	.area HOME    (CODE)
                             73 	.area HOME    (CODE)
                             74 ;--------------------------------------------------------
                             75 ; code
                             76 ;--------------------------------------------------------
                             77 	.area CSEG    (CODE)
                             78 ;------------------------------------------------------------
                             79 ;Allocation info for local variables in function 'strncmp'
                             80 ;------------------------------------------------------------
                             81 ;last                      Allocated with name '_strncmp_PARM_2'
                             82 ;count                     Allocated with name '_strncmp_PARM_3'
                             83 ;first                     Allocated to registers x h 
                             84 ;sloc0                     Allocated with name '_strncmp_sloc0_1_0'
                             85 ;sloc1                     Allocated with name '_strncmp_sloc1_1_0'
                             86 ;sloc2                     Allocated with name '_strncmp_sloc2_1_0'
                             87 ;sloc3                     Allocated with name '_strncmp_sloc3_1_0'
                             88 ;------------------------------------------------------------
                             89 ;../_strncmp.c:31: int strncmp ( const char * first, const char * last, size_t count )
                             90 ;	-----------------------------------------
                             91 ;	 function strncmp
                             92 ;	-----------------------------------------
                             93 ;	Register assignment is optimal.
                             94 ;	Stack space usage: 0 bytes.
   0000                      95 _strncmp:
   0000 89            [ 2]   96 	pshx
   0001 97            [ 1]   97 	tax
   0002 8A            [ 2]   98 	pulh
                             99 ;../_strncmp.c:33: if (!count)
   0003 C6r00r02      [ 4]  100 	lda	_strncmp_PARM_3
   0006 CAr00r03      [ 4]  101 	ora	(_strncmp_PARM_3 + 1)
   0009 26 03         [ 3]  102 	bne	00114$
                            103 ;../_strncmp.c:34: return(0);
   000B 4F            [ 1]  104 	clra
   000C 97            [ 1]  105 	tax
   000D 81            [ 4]  106 	rts
                            107 ;../_strncmp.c:36: while (--count && *first && *first == *last) {
   000E                     108 00114$:
   000E 35*00         [ 4]  109 	sthx	*_strncmp_sloc0_1_0
   0010 C6r00r00      [ 4]  110 	lda	_strncmp_PARM_2
   0013 B7*02         [ 3]  111 	sta	*_strncmp_sloc1_1_0
   0015 C6r00r01      [ 4]  112 	lda	(_strncmp_PARM_2 + 1)
   0018 B7*03         [ 3]  113 	sta	*(_strncmp_sloc1_1_0 + 1)
   001A C6r00r02      [ 4]  114 	lda	_strncmp_PARM_3
   001D B7*04         [ 3]  115 	sta	*_strncmp_sloc2_1_0
   001F C6r00r03      [ 4]  116 	lda	(_strncmp_PARM_3 + 1)
   0022 B7*05         [ 3]  117 	sta	*(_strncmp_sloc2_1_0 + 1)
   0024                     118 00105$:
   0024 55*04         [ 4]  119 	ldhx	*_strncmp_sloc2_1_0
   0026 AF FF         [ 2]  120 	aix	#-1
   0028 35*04         [ 4]  121 	sthx	*_strncmp_sloc2_1_0
   002A 55*00         [ 4]  122 	ldhx	*_strncmp_sloc0_1_0
   002C F6            [ 2]  123 	lda	,x
   002D 55*02         [ 4]  124 	ldhx	*_strncmp_sloc1_1_0
   002F FE            [ 2]  125 	ldx	,x
   0030 BF*06         [ 3]  126 	stx	*_strncmp_sloc3_1_0
   0032 3D*05         [ 3]  127 	tst	*(_strncmp_sloc2_1_0 + 1)
   0034 26 02         [ 3]  128 	bne	00137$
   0036 3D*04         [ 3]  129 	tst	*_strncmp_sloc2_1_0
   0038                     130 00137$:
   0038 27 15         [ 3]  131 	beq	00107$
   003A 4D            [ 1]  132 	tsta
   003B 27 12         [ 3]  133 	beq	00107$
   003D B1*06         [ 3]  134 	cmp	*_strncmp_sloc3_1_0
   003F 26 0E         [ 3]  135 	bne	00107$
                            136 ;../_strncmp.c:37: first++;
   0041 55*00         [ 4]  137 	ldhx	*_strncmp_sloc0_1_0
   0043 AF 01         [ 2]  138 	aix	#1
   0045 35*00         [ 4]  139 	sthx	*_strncmp_sloc0_1_0
                            140 ;../_strncmp.c:38: last++;
   0047 55*02         [ 4]  141 	ldhx	*_strncmp_sloc1_1_0
   0049 AF 01         [ 2]  142 	aix	#1
   004B 35*02         [ 4]  143 	sthx	*_strncmp_sloc1_1_0
   004D 20 D5         [ 3]  144 	bra	00105$
   004F                     145 00107$:
                            146 ;../_strncmp.c:41: return( *first - *last );
   004F 5F            [ 1]  147 	clrx
   0050 4E*06*05      [ 5]  148 	mov	*_strncmp_sloc3_1_0,*(_strncmp_sloc2_1_0 + 1)
   0053 BF*04         [ 3]  149 	stx	*_strncmp_sloc2_1_0
   0055 B0*05         [ 3]  150 	sub	*(_strncmp_sloc2_1_0 + 1)
   0057 87            [ 2]  151 	psha
   0058 9F            [ 1]  152 	txa
   0059 B2*04         [ 3]  153 	sbc	*_strncmp_sloc2_1_0
   005B 97            [ 1]  154 	tax
   005C 86            [ 2]  155 	pula
                            156 ;../_strncmp.c:42: }
   005D 81            [ 4]  157 	rts
                            158 	.area CSEG    (CODE)
                            159 	.area CONST   (CODE)
                            160 	.area XINIT   (CODE)
                            161 	.area CABS    (ABS,CODE)
