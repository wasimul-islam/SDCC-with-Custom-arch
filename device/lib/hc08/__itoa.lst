                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module __itoa
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl ___itoa_PARM_3
                             23 	.globl ___itoa_PARM_2
                             24 	.globl ___uitoa_PARM_3
                             25 	.globl ___uitoa_PARM_2
                             26 	.globl ___uitoa
                             27 	.globl ___itoa
                             28 ;--------------------------------------------------------
                             29 ; ram data
                             30 ;--------------------------------------------------------
                             31 	.area DSEG    (PAG)
   0000                      32 ___uitoa_sloc0_1_0:
   0000                      33 	.ds 1
   0001                      34 ___uitoa_sloc1_1_0:
   0001                      35 	.ds 2
   0003                      36 ___uitoa_sloc2_1_0:
   0003                      37 	.ds 2
   0005                      38 ___uitoa_sloc3_1_0:
   0005                      39 	.ds 2
   0007                      40 ___uitoa_sloc4_1_0:
   0007                      41 	.ds 2
                             42 ;--------------------------------------------------------
                             43 ; overlayable items in ram
                             44 ;--------------------------------------------------------
                             45 ;--------------------------------------------------------
                             46 ; absolute ram data
                             47 ;--------------------------------------------------------
                             48 	.area IABS    (ABS)
                             49 	.area IABS    (ABS)
                             50 ;--------------------------------------------------------
                             51 ; absolute external ram data
                             52 ;--------------------------------------------------------
                             53 	.area XABS    (ABS)
                             54 ;--------------------------------------------------------
                             55 ; initialized external ram data
                             56 ;--------------------------------------------------------
                             57 	.area XISEG
                             58 ;--------------------------------------------------------
                             59 ; extended address mode data
                             60 ;--------------------------------------------------------
                             61 	.area XSEG
   0000                      62 ___uitoa_PARM_2:
   0000                      63 	.ds 2
   0002                      64 ___uitoa_PARM_3:
   0002                      65 	.ds 1
   0003                      66 ___uitoa_value_65536_36:
   0003                      67 	.ds 2
   0005                      68 ___uitoa_tmp_131072_39:
   0005                      69 	.ds 1
   0006                      70 ___itoa_PARM_2:
   0006                      71 	.ds 2
   0008                      72 ___itoa_PARM_3:
   0008                      73 	.ds 1
   0009                      74 ___itoa_value_65536_40:
   0009                      75 	.ds 2
                             76 ;--------------------------------------------------------
                             77 ; global & static initialisations
                             78 ;--------------------------------------------------------
                             79 	.area HOME    (CODE)
                             80 	.area GSINIT  (CODE)
                             81 	.area GSFINAL (CODE)
                             82 	.area GSINIT  (CODE)
                             83 ;--------------------------------------------------------
                             84 ; Home
                             85 ;--------------------------------------------------------
                             86 	.area HOME    (CODE)
                             87 	.area HOME    (CODE)
                             88 ;--------------------------------------------------------
                             89 ; code
                             90 ;--------------------------------------------------------
                             91 	.area CSEG    (CODE)
                             92 ;------------------------------------------------------------
                             93 ;Allocation info for local variables in function '__uitoa'
                             94 ;------------------------------------------------------------
                             95 ;sloc0                     Allocated with name '___uitoa_sloc0_1_0'
                             96 ;sloc1                     Allocated with name '___uitoa_sloc1_1_0'
                             97 ;sloc2                     Allocated with name '___uitoa_sloc2_1_0'
                             98 ;sloc3                     Allocated with name '___uitoa_sloc3_1_0'
                             99 ;sloc4                     Allocated with name '___uitoa_sloc4_1_0'
                            100 ;string                    Allocated with name '___uitoa_PARM_2'
                            101 ;radix                     Allocated with name '___uitoa_PARM_3'
                            102 ;value                     Allocated with name '___uitoa_value_65536_36'
                            103 ;index                     Allocated to registers 
                            104 ;i                         Allocated to registers 
                            105 ;tmp                       Allocated with name '___uitoa_tmp_131072_39'
                            106 ;------------------------------------------------------------
                            107 ;../__itoa.c:42: void __uitoa(unsigned int value, char* string, unsigned char radix)
                            108 ;	-----------------------------------------
                            109 ;	 function __uitoa
                            110 ;	-----------------------------------------
                            111 ;	Register assignment is optimal.
                            112 ;	Stack space usage: 0 bytes.
   0000                     113 ___uitoa:
   0000 C7r00r04      [ 4]  114 	sta	(___uitoa_value_65536_36 + 1)
   0003 CFr00r03      [ 4]  115 	stx	___uitoa_value_65536_36
                            116 ;../__itoa.c:47: do {
   0006 6E 00*00      [ 4]  117 	mov	#0x00,*___uitoa_sloc0_1_0
   0009                     118 00103$:
                            119 ;../__itoa.c:48: string[index] = '0' + (value % radix);
   0009 B6*00         [ 3]  120 	lda	*___uitoa_sloc0_1_0
   000B 87            [ 2]  121 	psha
   000C 49            [ 1]  122 	rola	
   000D 4F            [ 1]  123 	clra	
   000E A2 00         [ 2]  124 	sbc	#0x00
   0010 97            [ 1]  125 	tax
   0011 86            [ 2]  126 	pula
   0012 CBr00r01      [ 4]  127 	add	(___uitoa_PARM_2 + 1)
   0015 B7*02         [ 3]  128 	sta	*(___uitoa_sloc1_1_0 + 1)
   0017 9F            [ 1]  129 	txa
   0018 C9r00r00      [ 4]  130 	adc	___uitoa_PARM_2
   001B B7*01         [ 3]  131 	sta	*___uitoa_sloc1_1_0
   001D C6r00r02      [ 4]  132 	lda	___uitoa_PARM_3
   0020 B7*04         [ 3]  133 	sta	*(___uitoa_sloc2_1_0 + 1)
   0022 6E 00*03      [ 4]  134 	mov	#0x00,*___uitoa_sloc2_1_0
   0025 B6*03         [ 3]  135 	lda	*___uitoa_sloc2_1_0
   0027 C7r00r00      [ 4]  136 	sta	__moduint_PARM_2
   002A B6*04         [ 3]  137 	lda	*(___uitoa_sloc2_1_0 + 1)
   002C C7r00r01      [ 4]  138 	sta	(__moduint_PARM_2 + 1)
   002F C6r00r04      [ 4]  139 	lda	(___uitoa_value_65536_36 + 1)
   0032 CEr00r03      [ 4]  140 	ldx	___uitoa_value_65536_36
   0035 CDr00r00      [ 5]  141 	jsr	__moduint
   0038 AB 30         [ 2]  142 	add	#0x30
   003A 55*01         [ 4]  143 	ldhx	*___uitoa_sloc1_1_0
   003C F7            [ 2]  144 	sta	,x
                            145 ;../__itoa.c:49: if (string[index] > '9')
   003D 55*01         [ 4]  146 	ldhx	*___uitoa_sloc1_1_0
   003F F6            [ 2]  147 	lda	,x
   0040 A1 39         [ 2]  148 	cmp	#0x39
   0042 23 05         [ 3]  149 	bls	00102$
                            150 ;../__itoa.c:50: string[index] += 'A' - '9' - 1;
   0044 AB 07         [ 2]  151 	add	#0x07
   0046 55*01         [ 4]  152 	ldhx	*___uitoa_sloc1_1_0
   0048 F7            [ 2]  153 	sta	,x
   0049                     154 00102$:
                            155 ;../__itoa.c:51: value /= radix;
   0049 B6*03         [ 3]  156 	lda	*___uitoa_sloc2_1_0
   004B C7r00r00      [ 4]  157 	sta	__divuint_PARM_2
   004E B6*04         [ 3]  158 	lda	*(___uitoa_sloc2_1_0 + 1)
   0050 C7r00r01      [ 4]  159 	sta	(__divuint_PARM_2 + 1)
   0053 C6r00r04      [ 4]  160 	lda	(___uitoa_value_65536_36 + 1)
   0056 CEr00r03      [ 4]  161 	ldx	___uitoa_value_65536_36
   0059 CDr00r00      [ 5]  162 	jsr	__divuint
   005C C7r00r04      [ 4]  163 	sta	(___uitoa_value_65536_36 + 1)
   005F CFr00r03      [ 4]  164 	stx	___uitoa_value_65536_36
                            165 ;../__itoa.c:52: ++index;
   0062 3C*00         [ 4]  166 	inc	*___uitoa_sloc0_1_0
                            167 ;../__itoa.c:53: } while (value != 0);
   0064 C6r00r03      [ 4]  168 	lda	___uitoa_value_65536_36
   0067 CAr00r04      [ 4]  169 	ora	(___uitoa_value_65536_36 + 1)
   006A 26 9D         [ 3]  170 	bne	00103$
                            171 ;../__itoa.c:56: string[index--] = '\0';
   006C B6*00         [ 3]  172 	lda	*___uitoa_sloc0_1_0
   006E A0 01         [ 2]  173 	sub	#0x01
   0070 B7*03         [ 3]  174 	sta	*___uitoa_sloc2_1_0
   0072 B6*00         [ 3]  175 	lda	*___uitoa_sloc0_1_0
   0074 87            [ 2]  176 	psha
   0075 49            [ 1]  177 	rola	
   0076 4F            [ 1]  178 	clra	
   0077 A2 00         [ 2]  179 	sbc	#0x00
   0079 97            [ 1]  180 	tax
   007A 86            [ 2]  181 	pula
   007B CBr00r01      [ 4]  182 	add	(___uitoa_PARM_2 + 1)
   007E B7*02         [ 3]  183 	sta	*(___uitoa_sloc1_1_0 + 1)
   0080 9F            [ 1]  184 	txa
   0081 C9r00r00      [ 4]  185 	adc	___uitoa_PARM_2
   0084 B7*01         [ 3]  186 	sta	*___uitoa_sloc1_1_0
   0086 55*01         [ 4]  187 	ldhx	*___uitoa_sloc1_1_0
   0088 4F            [ 1]  188 	clra
   0089 F7            [ 2]  189 	sta	,x
                            190 ;../__itoa.c:59: while (index > i) {
   008A B7*01         [ 3]  191 	sta	*___uitoa_sloc1_1_0
   008C                     192 00106$:
   008C B6*03         [ 3]  193 	lda	*___uitoa_sloc2_1_0
   008E B1*01         [ 3]  194 	cmp	*___uitoa_sloc1_1_0
   0090 93 40         [ 3]  195 	ble	00109$
                            196 ;../__itoa.c:60: char tmp = string[i];
   0092 B6*01         [ 3]  197 	lda	*___uitoa_sloc1_1_0
   0094 87            [ 2]  198 	psha
   0095 49            [ 1]  199 	rola	
   0096 4F            [ 1]  200 	clra	
   0097 A2 00         [ 2]  201 	sbc	#0x00
   0099 97            [ 1]  202 	tax
   009A 86            [ 2]  203 	pula
   009B CBr00r01      [ 4]  204 	add	(___uitoa_PARM_2 + 1)
   009E B7*06         [ 3]  205 	sta	*(___uitoa_sloc3_1_0 + 1)
   00A0 9F            [ 1]  206 	txa
   00A1 C9r00r00      [ 4]  207 	adc	___uitoa_PARM_2
   00A4 B7*05         [ 3]  208 	sta	*___uitoa_sloc3_1_0
   00A6 55*05         [ 4]  209 	ldhx	*___uitoa_sloc3_1_0
   00A8 F6            [ 2]  210 	lda	,x
   00A9 C7r00r05      [ 4]  211 	sta	___uitoa_tmp_131072_39
                            212 ;../__itoa.c:61: string[i] = string[index];
   00AC B6*03         [ 3]  213 	lda	*___uitoa_sloc2_1_0
   00AE 87            [ 2]  214 	psha
   00AF 49            [ 1]  215 	rola	
   00B0 4F            [ 1]  216 	clra	
   00B1 A2 00         [ 2]  217 	sbc	#0x00
   00B3 97            [ 1]  218 	tax
   00B4 86            [ 2]  219 	pula
   00B5 CBr00r01      [ 4]  220 	add	(___uitoa_PARM_2 + 1)
   00B8 B7*08         [ 3]  221 	sta	*(___uitoa_sloc4_1_0 + 1)
   00BA 9F            [ 1]  222 	txa
   00BB C9r00r00      [ 4]  223 	adc	___uitoa_PARM_2
   00BE B7*07         [ 3]  224 	sta	*___uitoa_sloc4_1_0
   00C0 55*07         [ 4]  225 	ldhx	*___uitoa_sloc4_1_0
   00C2 F6            [ 2]  226 	lda	,x
   00C3 55*05         [ 4]  227 	ldhx	*___uitoa_sloc3_1_0
   00C5 F7            [ 2]  228 	sta	,x
                            229 ;../__itoa.c:62: string[index] = tmp;
   00C6 55*07         [ 4]  230 	ldhx	*___uitoa_sloc4_1_0
   00C8 C6r00r05      [ 4]  231 	lda	___uitoa_tmp_131072_39
   00CB F7            [ 2]  232 	sta	,x
                            233 ;../__itoa.c:63: ++i;
   00CC 3C*01         [ 4]  234 	inc	*___uitoa_sloc1_1_0
                            235 ;../__itoa.c:64: --index;
   00CE 3A*03         [ 4]  236 	dec	*___uitoa_sloc2_1_0
   00D0 20 BA         [ 3]  237 	bra	00106$
   00D2                     238 00109$:
                            239 ;../__itoa.c:66: }
   00D2 81            [ 4]  240 	rts
                            241 ;------------------------------------------------------------
                            242 ;Allocation info for local variables in function '__itoa'
                            243 ;------------------------------------------------------------
                            244 ;string                    Allocated with name '___itoa_PARM_2'
                            245 ;radix                     Allocated with name '___itoa_PARM_3'
                            246 ;value                     Allocated with name '___itoa_value_65536_40'
                            247 ;------------------------------------------------------------
                            248 ;../__itoa.c:68: void __itoa(int value, char* string, unsigned char radix)
                            249 ;	-----------------------------------------
                            250 ;	 function __itoa
                            251 ;	-----------------------------------------
                            252 ;	Register assignment is optimal.
                            253 ;	Stack space usage: 0 bytes.
   00D3                     254 ___itoa:
   00D3 C7r00r0A      [ 4]  255 	sta	(___itoa_value_65536_40 + 1)
   00D6 CFr00r09      [ 4]  256 	stx	___itoa_value_65536_40
                            257 ;../__itoa.c:70: if (value < 0 && radix == 10) {
   00D9 C6r00r09      [ 4]  258 	lda	___itoa_value_65536_40
   00DC A0 00         [ 2]  259 	sub	#0x00
   00DE 90 2E         [ 3]  260 	bge	00102$
   00E0 C6r00r08      [ 4]  261 	lda	___itoa_PARM_3
   00E3 A1 0A         [ 2]  262 	cmp	#0x0a
   00E5 26 27         [ 3]  263 	bne	00102$
                            264 ;../__itoa.c:71: *string++ = '-';
   00E7 C6r00r06      [ 4]  265 	lda	___itoa_PARM_2
   00EA 87            [ 2]  266 	psha
   00EB 8A            [ 2]  267 	pulh
   00EC CEr00r07      [ 4]  268 	ldx	(___itoa_PARM_2 + 1)
   00EF 89            [ 2]  269 	pshx
   00F0 8B            [ 2]  270 	pshh
   00F1 A6 2D         [ 2]  271 	lda	#0x2d
   00F3 F7            [ 2]  272 	sta	,x
   00F4 8A            [ 2]  273 	pulh
   00F5 88            [ 2]  274 	pulx
   00F6 AF 01         [ 2]  275 	aix	#1
   00F8 8B            [ 2]  276 	pshh
   00F9 86            [ 2]  277 	pula
   00FA C7r00r06      [ 4]  278 	sta	___itoa_PARM_2
   00FD CFr00r07      [ 4]  279 	stx	(___itoa_PARM_2 + 1)
                            280 ;../__itoa.c:72: value = -value;
   0100 4F            [ 1]  281 	clra
   0101 C0r00r0A      [ 4]  282 	sub	(___itoa_value_65536_40 + 1)
   0104 C7r00r0A      [ 4]  283 	sta	(___itoa_value_65536_40 + 1)
   0107 4F            [ 1]  284 	clra
   0108 C2r00r09      [ 4]  285 	sbc	___itoa_value_65536_40
   010B C7r00r09      [ 4]  286 	sta	___itoa_value_65536_40
   010E                     287 00102$:
                            288 ;../__itoa.c:74: __uitoa(value, string, radix);
   010E C6r00r06      [ 4]  289 	lda	___itoa_PARM_2
   0111 C7r00r00      [ 4]  290 	sta	___uitoa_PARM_2
   0114 C6r00r07      [ 4]  291 	lda	(___itoa_PARM_2 + 1)
   0117 C7r00r01      [ 4]  292 	sta	(___uitoa_PARM_2 + 1)
   011A C6r00r08      [ 4]  293 	lda	___itoa_PARM_3
   011D C7r00r02      [ 4]  294 	sta	___uitoa_PARM_3
   0120 C6r00r0A      [ 4]  295 	lda	(___itoa_value_65536_40 + 1)
   0123 CEr00r09      [ 4]  296 	ldx	___itoa_value_65536_40
                            297 ;../__itoa.c:75: }
   0126 CCr00r00      [ 3]  298 	jmp	___uitoa
                            299 	.area CSEG    (CODE)
                            300 	.area CONST   (CODE)
                            301 	.area XINIT   (CODE)
                            302 	.area CABS    (ABS,CODE)
