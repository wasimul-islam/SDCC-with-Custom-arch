                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module mbrlen
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl _mbrtowc
                             23 	.globl _mbrlen_PARM_3
                             24 	.globl _mbrlen_PARM_2
                             25 	.globl _mbrlen
                             26 ;--------------------------------------------------------
                             27 ; ram data
                             28 ;--------------------------------------------------------
                             29 	.area DSEG    (PAG)
                             30 ;--------------------------------------------------------
                             31 ; overlayable items in ram
                             32 ;--------------------------------------------------------
                             33 ;--------------------------------------------------------
                             34 ; absolute ram data
                             35 ;--------------------------------------------------------
                             36 	.area IABS    (ABS)
                             37 	.area IABS    (ABS)
                             38 ;--------------------------------------------------------
                             39 ; absolute external ram data
                             40 ;--------------------------------------------------------
                             41 	.area XABS    (ABS)
                             42 ;--------------------------------------------------------
                             43 ; initialized external ram data
                             44 ;--------------------------------------------------------
                             45 	.area XISEG
                             46 ;--------------------------------------------------------
                             47 ; extended address mode data
                             48 ;--------------------------------------------------------
                             49 	.area XSEG
   0000                      50 _mbrlen_PARM_2:
   0000                      51 	.ds 2
   0002                      52 _mbrlen_PARM_3:
   0002                      53 	.ds 2
   0004                      54 _mbrlen_s_65536_9:
   0004                      55 	.ds 2
   0006                      56 _mbrlen_sps_65536_10:
   0006                      57 	.ds 3
                             58 ;--------------------------------------------------------
                             59 ; global & static initialisations
                             60 ;--------------------------------------------------------
                             61 	.area HOME    (CODE)
                             62 	.area GSINIT  (CODE)
                             63 	.area GSFINAL (CODE)
                             64 	.area GSINIT  (CODE)
                             65 ;--------------------------------------------------------
                             66 ; Home
                             67 ;--------------------------------------------------------
                             68 	.area HOME    (CODE)
                             69 	.area HOME    (CODE)
                             70 ;--------------------------------------------------------
                             71 ; code
                             72 ;--------------------------------------------------------
                             73 	.area CSEG    (CODE)
                             74 ;------------------------------------------------------------
                             75 ;Allocation info for local variables in function 'mbrlen'
                             76 ;------------------------------------------------------------
                             77 ;n                         Allocated with name '_mbrlen_PARM_2'
                             78 ;ps                        Allocated with name '_mbrlen_PARM_3'
                             79 ;s                         Allocated with name '_mbrlen_s_65536_9'
                             80 ;sps                       Allocated with name '_mbrlen_sps_65536_10'
                             81 ;------------------------------------------------------------
                             82 ;../mbrlen.c:31: size_t mbrlen(const char *restrict s, size_t n, mbstate_t *restrict ps)
                             83 ;	-----------------------------------------
                             84 ;	 function mbrlen
                             85 ;	-----------------------------------------
                             86 ;	Register assignment is optimal.
                             87 ;	Stack space usage: 0 bytes.
   0000                      88 _mbrlen:
   0000 C7r00r05      [ 4]   89 	sta	(_mbrlen_s_65536_9 + 1)
   0003 CFr00r04      [ 4]   90 	stx	_mbrlen_s_65536_9
                             91 ;../mbrlen.c:35: return(mbrtowc(0, s, n, ps ? ps : &sps));
   0006 C6r00r02      [ 4]   92 	lda	_mbrlen_PARM_3
   0009 CAr00r03      [ 4]   93 	ora	(_mbrlen_PARM_3 + 1)
   000C 27 0A         [ 3]   94 	beq	00103$
   000E C6r00r02      [ 4]   95 	lda	_mbrlen_PARM_3
   0011 87            [ 2]   96 	psha
   0012 8A            [ 2]   97 	pulh
   0013 CEr00r03      [ 4]   98 	ldx	(_mbrlen_PARM_3 + 1)
   0016 20 03         [ 3]   99 	bra	00104$
   0018                     100 00103$:
   0018 45r00r06      [ 3]  101 	ldhx	#_mbrlen_sps_65536_10
   001B                     102 00104$:
   001B C6r00r04      [ 4]  103 	lda	_mbrlen_s_65536_9
   001E C7r00r00      [ 4]  104 	sta	_mbrtowc_PARM_2
   0021 C6r00r05      [ 4]  105 	lda	(_mbrlen_s_65536_9 + 1)
   0024 C7r00r01      [ 4]  106 	sta	(_mbrtowc_PARM_2 + 1)
   0027 C6r00r00      [ 4]  107 	lda	_mbrlen_PARM_2
   002A C7r00r00      [ 4]  108 	sta	_mbrtowc_PARM_3
   002D C6r00r01      [ 4]  109 	lda	(_mbrlen_PARM_2 + 1)
   0030 C7r00r01      [ 4]  110 	sta	(_mbrtowc_PARM_3 + 1)
   0033 8B            [ 2]  111 	pshh
   0034 86            [ 2]  112 	pula
   0035 C7r00r00      [ 4]  113 	sta	_mbrtowc_PARM_4
   0038 CFr00r01      [ 4]  114 	stx	(_mbrtowc_PARM_4 + 1)
   003B 4F            [ 1]  115 	clra
   003C 97            [ 1]  116 	tax
                            117 ;../mbrlen.c:36: }
   003D CCr00r00      [ 3]  118 	jmp	_mbrtowc
                            119 	.area CSEG    (CODE)
                            120 	.area CONST   (CODE)
                            121 	.area XINIT   (CODE)
                            122 	.area CABS    (ABS,CODE)
