                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module rand
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl _rand
                             23 	.globl _srand
                             24 ;--------------------------------------------------------
                             25 ; ram data
                             26 ;--------------------------------------------------------
                             27 	.area DSEG    (PAG)
                             28 ;--------------------------------------------------------
                             29 ; overlayable items in ram
                             30 ;--------------------------------------------------------
                             31 	.area	OSEG    (PAG, OVR)
   0000                      32 _rand_t_65536_37:
   0000                      33 	.ds 4
   0004                      34 _rand_sloc0_1_0:
   0004                      35 	.ds 4
   0008                      36 _rand_sloc1_1_0:
   0008                      37 	.ds 4
                             38 	.area	OSEG    (PAG, OVR)
   0000                      39 _srand_sloc0_1_0:
   0000                      40 	.ds 4
                             41 ;--------------------------------------------------------
                             42 ; absolute ram data
                             43 ;--------------------------------------------------------
                             44 	.area IABS    (ABS)
                             45 	.area IABS    (ABS)
                             46 ;--------------------------------------------------------
                             47 ; absolute external ram data
                             48 ;--------------------------------------------------------
                             49 	.area XABS    (ABS)
                             50 ;--------------------------------------------------------
                             51 ; initialized external ram data
                             52 ;--------------------------------------------------------
                             53 	.area XISEG
   0000                      54 _s:
   0000                      55 	.ds 4
                             56 ;--------------------------------------------------------
                             57 ; extended address mode data
                             58 ;--------------------------------------------------------
                             59 	.area XSEG
                             60 ;--------------------------------------------------------
                             61 ; global & static initialisations
                             62 ;--------------------------------------------------------
                             63 	.area HOME    (CODE)
                             64 	.area GSINIT  (CODE)
                             65 	.area GSFINAL (CODE)
                             66 	.area GSINIT  (CODE)
                             67 ;--------------------------------------------------------
                             68 ; Home
                             69 ;--------------------------------------------------------
                             70 	.area HOME    (CODE)
                             71 	.area HOME    (CODE)
                             72 ;--------------------------------------------------------
                             73 ; code
                             74 ;--------------------------------------------------------
                             75 	.area CSEG    (CODE)
                             76 ;------------------------------------------------------------
                             77 ;Allocation info for local variables in function 'rand'
                             78 ;------------------------------------------------------------
                             79 ;t                         Allocated with name '_rand_t_65536_37'
                             80 ;sloc0                     Allocated with name '_rand_sloc0_1_0'
                             81 ;sloc1                     Allocated with name '_rand_sloc1_1_0'
                             82 ;------------------------------------------------------------
                             83 ;../rand.c:40: int rand(void)
                             84 ;	-----------------------------------------
                             85 ;	 function rand
                             86 ;	-----------------------------------------
                             87 ;	Register assignment is optimal.
                             88 ;	Stack space usage: 0 bytes.
   0000                      89 _rand:
                             90 ;../rand.c:44: t ^= t >> 10;
   0000 C6r00r02      [ 4]   91 	lda	(_s + 2)
   0003 CEr00r01      [ 4]   92 	ldx	(_s + 1)
   0006 54            [ 1]   93 	lsrx
   0007 46            [ 1]   94 	rora
   0008 54            [ 1]   95 	lsrx
   0009 46            [ 1]   96 	rora
   000A B7*07         [ 3]   97 	sta	*(_rand_sloc0_1_0 + 3)
   000C BF*06         [ 3]   98 	stx	*(_rand_sloc0_1_0 + 2)
   000E CEr00r00      [ 4]   99 	ldx	_s
   0011 4F            [ 1]  100 	clra
   0012 54            [ 1]  101 	lsrx
   0013 46            [ 1]  102 	rora
   0014 54            [ 1]  103 	lsrx
   0015 46            [ 1]  104 	rora
   0016 BA*06         [ 3]  105 	ora	*(_rand_sloc0_1_0 + 2)
   0018 B7*06         [ 3]  106 	sta	*(_rand_sloc0_1_0 + 2)
   001A BF*05         [ 3]  107 	stx	*(_rand_sloc0_1_0 + 1)
   001C 6E 00*04      [ 4]  108 	mov	#0x00,*_rand_sloc0_1_0
   001F C6r00r03      [ 4]  109 	lda	(_s + 3)
   0022 B8*07         [ 3]  110 	eor	*(_rand_sloc0_1_0 + 3)
   0024 B7*07         [ 3]  111 	sta	*(_rand_sloc0_1_0 + 3)
   0026 C6r00r02      [ 4]  112 	lda	(_s + 2)
   0029 B8*06         [ 3]  113 	eor	*(_rand_sloc0_1_0 + 2)
   002B B7*06         [ 3]  114 	sta	*(_rand_sloc0_1_0 + 2)
   002D C6r00r01      [ 4]  115 	lda	(_s + 1)
   0030 B8*05         [ 3]  116 	eor	*(_rand_sloc0_1_0 + 1)
   0032 B7*05         [ 3]  117 	sta	*(_rand_sloc0_1_0 + 1)
   0034 C6r00r00      [ 4]  118 	lda	_s
   0037 B8*04         [ 3]  119 	eor	*_rand_sloc0_1_0
   0039 B7*04         [ 3]  120 	sta	*_rand_sloc0_1_0
                            121 ;../rand.c:45: t ^= t << 9;
   003B B6*07         [ 3]  122 	lda	*(_rand_sloc0_1_0 + 3)
   003D BE*06         [ 3]  123 	ldx	*(_rand_sloc0_1_0 + 2)
   003F 48            [ 1]  124 	lsla
   0040 59            [ 1]  125 	rolx
   0041 B7*0A         [ 3]  126 	sta	*(_rand_sloc1_1_0 + 2)
   0043 B6*05         [ 3]  127 	lda	*(_rand_sloc0_1_0 + 1)
   0045 BF*09         [ 3]  128 	stx	*(_rand_sloc1_1_0 + 1)
   0047 49            [ 1]  129 	rola
   0048 B7*08         [ 3]  130 	sta	*_rand_sloc1_1_0
   004A 6E 00*0B      [ 4]  131 	mov	#0x00,*(_rand_sloc1_1_0 + 3)
   004D B6*07         [ 3]  132 	lda	*(_rand_sloc0_1_0 + 3)
   004F B8*0B         [ 3]  133 	eor	*(_rand_sloc1_1_0 + 3)
   0051 B7*0B         [ 3]  134 	sta	*(_rand_sloc1_1_0 + 3)
   0053 B6*06         [ 3]  135 	lda	*(_rand_sloc0_1_0 + 2)
   0055 B8*0A         [ 3]  136 	eor	*(_rand_sloc1_1_0 + 2)
   0057 B7*0A         [ 3]  137 	sta	*(_rand_sloc1_1_0 + 2)
   0059 B6*05         [ 3]  138 	lda	*(_rand_sloc0_1_0 + 1)
   005B B8*09         [ 3]  139 	eor	*(_rand_sloc1_1_0 + 1)
   005D B7*09         [ 3]  140 	sta	*(_rand_sloc1_1_0 + 1)
   005F B6*04         [ 3]  141 	lda	*_rand_sloc0_1_0
   0061 B8*08         [ 3]  142 	eor	*_rand_sloc1_1_0
   0063 B7*08         [ 3]  143 	sta	*_rand_sloc1_1_0
                            144 ;../rand.c:46: t ^= t >> 25;
   0065 B6*08         [ 3]  145 	lda	*_rand_sloc1_1_0
   0067 44            [ 1]  146 	lsra	
   0068 B7*07         [ 3]  147 	sta	*(_rand_sloc0_1_0 + 3)
   006A 6E 00*06      [ 4]  148 	mov	#0x00,*(_rand_sloc0_1_0 + 2)
   006D 6E 00*05      [ 4]  149 	mov	#0x00,*(_rand_sloc0_1_0 + 1)
   0070 6E 00*04      [ 4]  150 	mov	#0x00,*_rand_sloc0_1_0
   0073 B6*0B         [ 3]  151 	lda	*(_rand_sloc1_1_0 + 3)
   0075 B8*07         [ 3]  152 	eor	*(_rand_sloc0_1_0 + 3)
   0077 B7*0B         [ 3]  153 	sta	*(_rand_sloc1_1_0 + 3)
   0079 B6*0A         [ 3]  154 	lda	*(_rand_sloc1_1_0 + 2)
   007B B8*06         [ 3]  155 	eor	*(_rand_sloc0_1_0 + 2)
   007D B7*0A         [ 3]  156 	sta	*(_rand_sloc1_1_0 + 2)
   007F B6*09         [ 3]  157 	lda	*(_rand_sloc1_1_0 + 1)
   0081 B8*05         [ 3]  158 	eor	*(_rand_sloc0_1_0 + 1)
   0083 B7*09         [ 3]  159 	sta	*(_rand_sloc1_1_0 + 1)
   0085 B6*08         [ 3]  160 	lda	*_rand_sloc1_1_0
   0087 B8*04         [ 3]  161 	eor	*_rand_sloc0_1_0
   0089 B7*08         [ 3]  162 	sta	*_rand_sloc1_1_0
   008B 4E*08*00      [ 5]  163 	mov	*_rand_sloc1_1_0,*_rand_t_65536_37
   008E 4E*09*01      [ 5]  164 	mov	*(_rand_sloc1_1_0 + 1),*(_rand_t_65536_37 + 1)
   0091 4E*0A*02      [ 5]  165 	mov	*(_rand_sloc1_1_0 + 2),*(_rand_t_65536_37 + 2)
   0094 4E*0B*03      [ 5]  166 	mov	*(_rand_sloc1_1_0 + 3),*(_rand_t_65536_37 + 3)
                            167 ;../rand.c:48: s = t;
   0097 45r00r00      [ 3]  168 	ldhx	#_s
   009A 5E*08         [ 4]  169 	mov	*_rand_sloc1_1_0,x+
   009C 5E*09         [ 4]  170 	mov	*(_rand_sloc1_1_0 + 1),x+
   009E 5E*0A         [ 4]  171 	mov	*(_rand_sloc1_1_0 + 2),x+
   00A0 5E*0B         [ 4]  172 	mov	*(_rand_sloc1_1_0 + 3),x+
                            173 ;../rand.c:50: return(t & RAND_MAX);
   00A2 B6*03         [ 3]  174 	lda	*(_rand_t_65536_37 + 3)
   00A4 BE*02         [ 3]  175 	ldx	*(_rand_t_65536_37 + 2)
   00A6 87            [ 2]  176 	psha
   00A7 9F            [ 1]  177 	txa
   00A8 A4 7F         [ 2]  178 	and	#0x7f
   00AA 97            [ 1]  179 	tax
   00AB 86            [ 2]  180 	pula
                            181 ;../rand.c:51: }
   00AC 81            [ 4]  182 	rts
                            183 ;------------------------------------------------------------
                            184 ;Allocation info for local variables in function 'srand'
                            185 ;------------------------------------------------------------
                            186 ;seed                      Allocated to registers a x 
                            187 ;sloc0                     Allocated with name '_srand_sloc0_1_0'
                            188 ;------------------------------------------------------------
                            189 ;../rand.c:53: void srand(unsigned int seed)
                            190 ;	-----------------------------------------
                            191 ;	 function srand
                            192 ;	-----------------------------------------
                            193 ;	Register assignment is optimal.
                            194 ;	Stack space usage: 0 bytes.
   00AD                     195 _srand:
                            196 ;../rand.c:55: s = seed | 0x80000000; /* s shall not become 0 */
   00AD B7*03         [ 3]  197 	sta	*(_srand_sloc0_1_0 + 3)
   00AF BF*02         [ 3]  198 	stx	*(_srand_sloc0_1_0 + 2)
   00B1 6E 00*01      [ 4]  199 	mov	#0x00,*(_srand_sloc0_1_0 + 1)
   00B4 6E 00*00      [ 4]  200 	mov	#0x00,*_srand_sloc0_1_0
   00B7 B6*03         [ 3]  201 	lda	*(_srand_sloc0_1_0 + 3)
   00B9 C7r00r03      [ 4]  202 	sta	(_s + 3)
   00BC B6*02         [ 3]  203 	lda	*(_srand_sloc0_1_0 + 2)
   00BE C7r00r02      [ 4]  204 	sta	(_s + 2)
   00C1 B6*01         [ 3]  205 	lda	*(_srand_sloc0_1_0 + 1)
   00C3 C7r00r01      [ 4]  206 	sta	(_s + 1)
   00C6 B6*00         [ 3]  207 	lda	*_srand_sloc0_1_0
   00C8 AA 80         [ 2]  208 	ora	#0x80
   00CA C7r00r00      [ 4]  209 	sta	_s
                            210 ;../rand.c:56: }
   00CD 81            [ 4]  211 	rts
                            212 	.area CSEG    (CODE)
                            213 	.area CONST   (CODE)
                            214 	.area XINIT   (CODE)
   0000                     215 __xinit__s:
   0000 80 00 00 01         216 	.byte #0x80, #0x00, #0x00, #0x01	; 2147483649
                            217 	.area CABS    (ABS,CODE)
