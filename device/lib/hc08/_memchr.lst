                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _memchr
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl _memchr_PARM_3
                             23 	.globl _memchr_PARM_2
                             24 	.globl _memchr
                             25 ;--------------------------------------------------------
                             26 ; ram data
                             27 ;--------------------------------------------------------
                             28 	.area DSEG    (PAG)
                             29 ;--------------------------------------------------------
                             30 ; overlayable items in ram
                             31 ;--------------------------------------------------------
                             32 	.area	OSEG    (PAG, OVR)
   0000                      33 _memchr_sloc0_1_0:
   0000                      34 	.ds 1
                             35 ;--------------------------------------------------------
                             36 ; absolute ram data
                             37 ;--------------------------------------------------------
                             38 	.area IABS    (ABS)
                             39 	.area IABS    (ABS)
                             40 ;--------------------------------------------------------
                             41 ; absolute external ram data
                             42 ;--------------------------------------------------------
                             43 	.area XABS    (ABS)
                             44 ;--------------------------------------------------------
                             45 ; initialized external ram data
                             46 ;--------------------------------------------------------
                             47 	.area XISEG
                             48 ;--------------------------------------------------------
                             49 ; extended address mode data
                             50 ;--------------------------------------------------------
                             51 	.area XSEG
   0000                      52 _memchr_PARM_2:
   0000                      53 	.ds 2
   0002                      54 _memchr_PARM_3:
   0002                      55 	.ds 2
   0004                      56 _memchr_p_65536_27:
   0004                      57 	.ds 2
   0006                      58 _memchr_end_65536_27:
   0006                      59 	.ds 2
                             60 ;--------------------------------------------------------
                             61 ; global & static initialisations
                             62 ;--------------------------------------------------------
                             63 	.area HOME    (CODE)
                             64 	.area GSINIT  (CODE)
                             65 	.area GSFINAL (CODE)
                             66 	.area GSINIT  (CODE)
                             67 ;--------------------------------------------------------
                             68 ; Home
                             69 ;--------------------------------------------------------
                             70 	.area HOME    (CODE)
                             71 	.area HOME    (CODE)
                             72 ;--------------------------------------------------------
                             73 ; code
                             74 ;--------------------------------------------------------
                             75 	.area CSEG    (CODE)
                             76 ;------------------------------------------------------------
                             77 ;Allocation info for local variables in function 'memchr'
                             78 ;------------------------------------------------------------
                             79 ;c                         Allocated with name '_memchr_PARM_2'
                             80 ;n                         Allocated with name '_memchr_PARM_3'
                             81 ;s                         Allocated to registers a x 
                             82 ;p                         Allocated with name '_memchr_p_65536_27'
                             83 ;end                       Allocated with name '_memchr_end_65536_27'
                             84 ;sloc0                     Allocated with name '_memchr_sloc0_1_0'
                             85 ;------------------------------------------------------------
                             86 ;../_memchr.c:31: void *memchr(const void *s, int c, size_t n)
                             87 ;	-----------------------------------------
                             88 ;	 function memchr
                             89 ;	-----------------------------------------
                             90 ;	Register assignment is optimal.
                             91 ;	Stack space usage: 0 bytes.
   0000                      92 _memchr:
                             93 ;../_memchr.c:33: unsigned char *p = (unsigned char *)s;
   0000 C7r00r05      [ 4]   94 	sta	(_memchr_p_65536_27 + 1)
   0003 CFr00r04      [ 4]   95 	stx	_memchr_p_65536_27
                             96 ;../_memchr.c:34: unsigned char *end = p + n;
   0006 45r00r06      [ 3]   97 	ldhx	#_memchr_end_65536_27
   0009 C6r00r05      [ 4]   98 	lda	(_memchr_p_65536_27 + 1)
   000C CBr00r03      [ 4]   99 	add	(_memchr_PARM_3 + 1)
   000F E7 01         [ 3]  100 	sta	1,x
   0011 C6r00r04      [ 4]  101 	lda	_memchr_p_65536_27
   0014 C9r00r02      [ 4]  102 	adc	_memchr_PARM_3
   0017 F7            [ 2]  103 	sta	,x
                            104 ;../_memchr.c:38: return(0);
   0018 C6r00r04      [ 4]  105 	lda	_memchr_p_65536_27
   001B 87            [ 2]  106 	psha
   001C 8A            [ 2]  107 	pulh
   001D CEr00r05      [ 4]  108 	ldx	(_memchr_p_65536_27 + 1)
   0020                     109 00105$:
                            110 ;../_memchr.c:35: for(; p != end; p++)
   0020 C3r00r07      [ 4]  111 	cpx	(_memchr_end_65536_27 + 1)
   0023 26 07         [ 3]  112 	bne	00124$
   0025 8B            [ 2]  113 	pshh
   0026 86            [ 2]  114 	pula
   0027 C1r00r06      [ 4]  115 	cmp	_memchr_end_65536_27
   002A 27 1D         [ 3]  116 	beq	00103$
   002C                     117 00124$:
                            118 ;../_memchr.c:36: if(*p == (unsigned char)c)
   002C F6            [ 2]  119 	lda	,x
   002D B7*00         [ 3]  120 	sta	*_memchr_sloc0_1_0
   002F C6r00r01      [ 4]  121 	lda	(_memchr_PARM_2 + 1)
   0032 B1*00         [ 3]  122 	cmp	*_memchr_sloc0_1_0
   0034 26 07         [ 3]  123 	bne	00106$
                            124 ;../_memchr.c:37: return((void *)p);
   0036 C6r00r05      [ 4]  125 	lda	(_memchr_p_65536_27 + 1)
   0039 CEr00r04      [ 4]  126 	ldx	_memchr_p_65536_27
   003C 81            [ 4]  127 	rts
   003D                     128 00106$:
                            129 ;../_memchr.c:35: for(; p != end; p++)
   003D AF 01         [ 2]  130 	aix	#1
   003F 8B            [ 2]  131 	pshh
   0040 86            [ 2]  132 	pula
   0041 C7r00r04      [ 4]  133 	sta	_memchr_p_65536_27
   0044 CFr00r05      [ 4]  134 	stx	(_memchr_p_65536_27 + 1)
   0047 20 D7         [ 3]  135 	bra	00105$
   0049                     136 00103$:
                            137 ;../_memchr.c:38: return(0);
   0049 4F            [ 1]  138 	clra
   004A 97            [ 1]  139 	tax
                            140 ;../_memchr.c:39: }
   004B 81            [ 4]  141 	rts
                            142 	.area CSEG    (CODE)
                            143 	.area CONST   (CODE)
                            144 	.area XINIT   (CODE)
                            145 	.area CABS    (ABS,CODE)
