                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ISO C Compiler 
                              3 ; Version 4.2.14 #0 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module call_once
                              6 	.optsdcc -mhc08
                              7 	
                              8 	.area HOME    (CODE)
                              9 	.area GSINIT0 (CODE)
                             10 	.area GSINIT  (CODE)
                             11 	.area GSFINAL (CODE)
                             12 	.area CSEG    (CODE)
                             13 	.area XINIT   (CODE)
                             14 	.area CONST   (CODE)
                             15 	.area DSEG    (PAG)
                             16 	.area OSEG    (PAG, OVR)
                             17 	.area XSEG
                             18 	.area XISEG
                             19 ;--------------------------------------------------------
                             20 ; Public variables in this module
                             21 ;--------------------------------------------------------
                             22 	.globl _call_once_PARM_2
                             23 	.globl _call_once
                             24 ;--------------------------------------------------------
                             25 ; ram data
                             26 ;--------------------------------------------------------
                             27 	.area DSEG    (PAG)
   0000                      28 _call_once_sloc0_1_0:
   0000                      29 	.ds 1
                             30 ;--------------------------------------------------------
                             31 ; overlayable items in ram
                             32 ;--------------------------------------------------------
                             33 ;--------------------------------------------------------
                             34 ; absolute ram data
                             35 ;--------------------------------------------------------
                             36 	.area IABS    (ABS)
                             37 	.area IABS    (ABS)
                             38 ;--------------------------------------------------------
                             39 ; absolute external ram data
                             40 ;--------------------------------------------------------
                             41 	.area XABS    (ABS)
                             42 ;--------------------------------------------------------
                             43 ; initialized external ram data
                             44 ;--------------------------------------------------------
                             45 	.area XISEG
                             46 ;--------------------------------------------------------
                             47 ; extended address mode data
                             48 ;--------------------------------------------------------
                             49 	.area XSEG
   0000                      50 _call_once_PARM_2:
   0000                      51 	.ds 2
                             52 ;--------------------------------------------------------
                             53 ; global & static initialisations
                             54 ;--------------------------------------------------------
                             55 	.area HOME    (CODE)
                             56 	.area GSINIT  (CODE)
                             57 	.area GSFINAL (CODE)
                             58 	.area GSINIT  (CODE)
                             59 ;--------------------------------------------------------
                             60 ; Home
                             61 ;--------------------------------------------------------
                             62 	.area HOME    (CODE)
                             63 	.area HOME    (CODE)
                             64 ;--------------------------------------------------------
                             65 ; code
                             66 ;--------------------------------------------------------
                             67 	.area CSEG    (CODE)
                             68 ;------------------------------------------------------------
                             69 ;Allocation info for local variables in function 'call_once'
                             70 ;------------------------------------------------------------
                             71 ;sloc0                     Allocated with name '_call_once_sloc0_1_0'
                             72 ;func                      Allocated with name '_call_once_PARM_2'
                             73 ;flag                      Allocated to registers x h 
                             74 ;------------------------------------------------------------
                             75 ;../call_once.c:36: void call_once(_Bool *flag, void (*func)(void))
                             76 ;	-----------------------------------------
                             77 ;	 function call_once
                             78 ;	-----------------------------------------
                             79 ;	Register assignment is optimal.
                             80 ;	Stack space usage: 0 bytes.
   0000                      81 _call_once:
   0000 89            [ 2]   82 	pshx
   0001 97            [ 1]   83 	tax
   0002 8A            [ 2]   84 	pulh
                             85 ;../call_once.c:38: if (!*flag)
   0003 F6            [ 2]   86 	lda	,x
   0004 26 14         [ 3]   87 	bne	00103$
                             88 ;../call_once.c:40: func();
   0006 89            [ 2]   89 	pshx
   0007 8B            [ 2]   90 	pshh
   0008 AD 02         [ 4]   91 	bsr	00112$
   000A 20 09         [ 3]   92 	bra	00111$
   000C                      93 00112$:
   000C C6r00r01      [ 4]   94 	lda	(_call_once_PARM_2 + 1)
   000F 87            [ 2]   95 	psha
   0010 C6r00r00      [ 4]   96 	lda	_call_once_PARM_2
   0013 87            [ 2]   97 	psha
   0014 81            [ 4]   98 	rts
   0015                      99 00111$:
   0015 8A            [ 2]  100 	pulh
   0016 88            [ 2]  101 	pulx
                            102 ;../call_once.c:41: *flag = true;
   0017 A6 01         [ 2]  103 	lda	#0x01
   0019 F7            [ 2]  104 	sta	,x
   001A                     105 00103$:
                            106 ;../call_once.c:43: }
   001A 81            [ 4]  107 	rts
                            108 	.area CSEG    (CODE)
                            109 	.area CONST   (CODE)
                            110 	.area XINIT   (CODE)
                            111 	.area CABS    (ABS,CODE)
