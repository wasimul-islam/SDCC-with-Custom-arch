                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module ldexpf
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _ldexpf_PARM_2
                                     12 	.globl _ldexpf
                                     13 ;--------------------------------------------------------
                                     14 ; special function registers
                                     15 ;--------------------------------------------------------
                                     16 	.area RSEG    (ABS,DATA)
      000000                         17 	.org 0x0000
                                     18 ;--------------------------------------------------------
                                     19 ; special function bits
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; overlayable register banks
                                     25 ;--------------------------------------------------------
                                     26 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         27 	.ds 8
                                     28 ;--------------------------------------------------------
                                     29 ; internal ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area DSEG    (DATA)
                                     32 ;--------------------------------------------------------
                                     33 ; overlayable items in internal ram
                                     34 ;--------------------------------------------------------
                                     35 	.area	OSEG    (OVR,DATA)
      000000                         36 _ldexpf_PARM_2:
      000000                         37 	.ds 2
      000002                         38 _ldexpf_fl_65536_26:
      000002                         39 	.ds 4
      000006                         40 _ldexpf_sloc0_1_0:
      000006                         41 	.ds 4
                                     42 ;--------------------------------------------------------
                                     43 ; indirectly addressable internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area ISEG    (DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; absolute internal ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area IABS    (ABS,DATA)
                                     50 	.area IABS    (ABS,DATA)
                                     51 ;--------------------------------------------------------
                                     52 ; bit data
                                     53 ;--------------------------------------------------------
                                     54 	.area BSEG    (BIT)
                                     55 ;--------------------------------------------------------
                                     56 ; paged external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area PSEG    (PAG,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; uninitialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'ldexpf'
                                     99 ;------------------------------------------------------------
                                    100 ;pw2                       Allocated with name '_ldexpf_PARM_2'
                                    101 ;x                         Allocated to registers r4 r5 r6 r7 
                                    102 ;fl                        Allocated with name '_ldexpf_fl_65536_26'
                                    103 ;e                         Allocated to registers r2 r3 r6 r7 
                                    104 ;sloc0                     Allocated with name '_ldexpf_sloc0_1_0'
                                    105 ;------------------------------------------------------------
                                    106 ;	ldexpf.c:34: float ldexpf(float x, int pw2)
                                    107 ;	-----------------------------------------
                                    108 ;	 function ldexpf
                                    109 ;	-----------------------------------------
      000000                        110 _ldexpf:
                           000007   111 	ar7 = 0x07
                           000006   112 	ar6 = 0x06
                           000005   113 	ar5 = 0x05
                           000004   114 	ar4 = 0x04
                           000003   115 	ar3 = 0x03
                           000002   116 	ar2 = 0x02
                           000001   117 	ar1 = 0x01
                           000000   118 	ar0 = 0x00
      000000 AC 82            [24]  119 	mov	r4,dpl
      000002 AD 83            [24]  120 	mov	r5,dph
      000004 AE F0            [24]  121 	mov	r6,b
      000006 FF               [12]  122 	mov	r7,a
                                    123 ;	ldexpf.c:39: fl.f = x;
      000007 8C*02            [24]  124 	mov	(_ldexpf_fl_65536_26 + 0),r4
      000009 8D*03            [24]  125 	mov	(_ldexpf_fl_65536_26 + 1),r5
      00000B 8E*04            [24]  126 	mov	(_ldexpf_fl_65536_26 + 2),r6
      00000D 8F*05            [24]  127 	mov	(_ldexpf_fl_65536_26 + 3),r7
                                    128 ;	ldexpf.c:41: e=(fl.l >> 23) & 0x000000ff;
      00000F AC*04            [24]  129 	mov	r4,(_ldexpf_fl_65536_26 + 2)
      000011 E5*05            [12]  130 	mov	a,(_ldexpf_fl_65536_26 + 3)
      000013 A2 E7            [12]  131 	mov	c,acc.7
      000015 CC               [12]  132 	xch	a,r4
      000016 33               [12]  133 	rlc	a
      000017 CC               [12]  134 	xch	a,r4
      000018 33               [12]  135 	rlc	a
      000019 CC               [12]  136 	xch	a,r4
      00001A 54 01            [12]  137 	anl	a,#0x01
      00001C 30 E0 02         [24]  138 	jnb	acc.0,00103$
      00001F 44 FE            [12]  139 	orl	a,#0xfffffffe
      000021                        140 00103$:
      000021 33               [12]  141 	rlc	a
      000022 95 E0            [12]  142 	subb	a,acc
      000024 8C*06            [24]  143 	mov	_ldexpf_sloc0_1_0,r4
      000026 75*07 00         [24]  144 	mov	(_ldexpf_sloc0_1_0 + 1),#0x00
      000029 75*08 00         [24]  145 	mov	(_ldexpf_sloc0_1_0 + 2),#0x00
      00002C 75*09 00         [24]  146 	mov	(_ldexpf_sloc0_1_0 + 3),#0x00
                                    147 ;	ldexpf.c:42: e+=pw2;
      00002F AA*00            [24]  148 	mov	r2,_ldexpf_PARM_2
      000031 E5*01            [12]  149 	mov	a,(_ldexpf_PARM_2 + 1)
      000033 FB               [12]  150 	mov	r3,a
      000034 33               [12]  151 	rlc	a
      000035 95 E0            [12]  152 	subb	a,acc
      000037 FE               [12]  153 	mov	r6,a
      000038 FF               [12]  154 	mov	r7,a
      000039 EA               [12]  155 	mov	a,r2
      00003A 25*06            [12]  156 	add	a,_ldexpf_sloc0_1_0
      00003C FA               [12]  157 	mov	r2,a
      00003D EB               [12]  158 	mov	a,r3
      00003E 35*07            [12]  159 	addc	a,(_ldexpf_sloc0_1_0 + 1)
      000040 EE               [12]  160 	mov	a,r6
      000041 35*08            [12]  161 	addc	a,(_ldexpf_sloc0_1_0 + 2)
      000043 EF               [12]  162 	mov	a,r7
      000044 35*09            [12]  163 	addc	a,(_ldexpf_sloc0_1_0 + 3)
                                    164 ;	ldexpf.c:43: fl.l= ((e & 0xff) << 23) | (fl.l & 0x807fffff);
      000046 7B 00            [12]  165 	mov	r3,#0x00
      000048 8A*08            [24]  166 	mov	(_ldexpf_sloc0_1_0 + 2),r2
      00004A EB               [12]  167 	mov	a,r3
      00004B 54 01            [12]  168 	anl	a,#0x01
      00004D A2 E0            [12]  169 	mov	c,acc.0
      00004F C5*08            [12]  170 	xch	a,(_ldexpf_sloc0_1_0 + 2)
      000051 13               [12]  171 	rrc	a
      000052 C5*08            [12]  172 	xch	a,(_ldexpf_sloc0_1_0 + 2)
      000054 13               [12]  173 	rrc	a
      000055 C5*08            [12]  174 	xch	a,(_ldexpf_sloc0_1_0 + 2)
      000057 F5*09            [12]  175 	mov	(_ldexpf_sloc0_1_0 + 3),a
      000059 75*06 00         [24]  176 	mov	_ldexpf_sloc0_1_0,#0x00
      00005C 75*07 00         [24]  177 	mov	(_ldexpf_sloc0_1_0 + 1),#0x00
      00005F AC*02            [24]  178 	mov	r4,_ldexpf_fl_65536_26
      000061 AD*03            [24]  179 	mov	r5,(_ldexpf_fl_65536_26 + 1)
      000063 74 7F            [12]  180 	mov	a,#0x7f
      000065 55*04            [12]  181 	anl	a,(_ldexpf_fl_65536_26 + 2)
      000067 FE               [12]  182 	mov	r6,a
      000068 74 80            [12]  183 	mov	a,#0x80
      00006A 55*05            [12]  184 	anl	a,(_ldexpf_fl_65536_26 + 3)
      00006C FF               [12]  185 	mov	r7,a
      00006D E5*06            [12]  186 	mov	a,_ldexpf_sloc0_1_0
      00006F 42 04            [12]  187 	orl	ar4,a
      000071 E5*07            [12]  188 	mov	a,(_ldexpf_sloc0_1_0 + 1)
      000073 42 05            [12]  189 	orl	ar5,a
      000075 E5*08            [12]  190 	mov	a,(_ldexpf_sloc0_1_0 + 2)
      000077 42 06            [12]  191 	orl	ar6,a
      000079 E5*09            [12]  192 	mov	a,(_ldexpf_sloc0_1_0 + 3)
      00007B 42 07            [12]  193 	orl	ar7,a
      00007D 8C*02            [24]  194 	mov	(_ldexpf_fl_65536_26 + 0),r4
      00007F 8D*03            [24]  195 	mov	(_ldexpf_fl_65536_26 + 1),r5
      000081 8E*04            [24]  196 	mov	(_ldexpf_fl_65536_26 + 2),r6
      000083 8F*05            [24]  197 	mov	(_ldexpf_fl_65536_26 + 3),r7
                                    198 ;	ldexpf.c:45: return(fl.f);
      000085 85*02 82         [24]  199 	mov	dpl,_ldexpf_fl_65536_26
      000088 85*03 83         [24]  200 	mov	dph,(_ldexpf_fl_65536_26 + 1)
      00008B 85*04 F0         [24]  201 	mov	b,(_ldexpf_fl_65536_26 + 2)
      00008E E5*05            [12]  202 	mov	a,(_ldexpf_fl_65536_26 + 3)
                                    203 ;	ldexpf.c:46: }
      000090 22               [24]  204 	ret
                                    205 	.area CSEG    (CODE)
                                    206 	.area CONST   (CODE)
                                    207 	.area XINIT   (CODE)
                                    208 	.area CABS    (ABS,CODE)
