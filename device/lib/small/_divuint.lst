                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module _divuint
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 ;--------------------------------------------------------
                                     12 ; special function registers
                                     13 ;--------------------------------------------------------
                                     14 	.area RSEG    (ABS,DATA)
      000000                         15 	.org 0x0000
                                     16 ;--------------------------------------------------------
                                     17 ; special function bits
                                     18 ;--------------------------------------------------------
                                     19 	.area RSEG    (ABS,DATA)
      000000                         20 	.org 0x0000
                                     21 ;--------------------------------------------------------
                                     22 ; overlayable register banks
                                     23 ;--------------------------------------------------------
                                     24 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         25 	.ds 8
                                     26 ;--------------------------------------------------------
                                     27 ; internal ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area DSEG    (DATA)
                                     30 ;--------------------------------------------------------
                                     31 ; overlayable items in internal ram
                                     32 ;--------------------------------------------------------
                                     33 ;--------------------------------------------------------
                                     34 ; indirectly addressable internal ram data
                                     35 ;--------------------------------------------------------
                                     36 	.area ISEG    (DATA)
                                     37 ;--------------------------------------------------------
                                     38 ; absolute internal ram data
                                     39 ;--------------------------------------------------------
                                     40 	.area IABS    (ABS,DATA)
                                     41 	.area IABS    (ABS,DATA)
                                     42 ;--------------------------------------------------------
                                     43 ; bit data
                                     44 ;--------------------------------------------------------
                                     45 	.area BSEG    (BIT)
                                     46 ;--------------------------------------------------------
                                     47 ; paged external ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area PSEG    (PAG,XDATA)
                                     50 ;--------------------------------------------------------
                                     51 ; uninitialized external ram data
                                     52 ;--------------------------------------------------------
                                     53 	.area XSEG    (XDATA)
                                     54 ;--------------------------------------------------------
                                     55 ; absolute external ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area XABS    (ABS,XDATA)
                                     58 ;--------------------------------------------------------
                                     59 ; initialized external ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area XISEG   (XDATA)
                                     62 	.area HOME    (CODE)
                                     63 	.area GSINIT0 (CODE)
                                     64 	.area GSINIT1 (CODE)
                                     65 	.area GSINIT2 (CODE)
                                     66 	.area GSINIT3 (CODE)
                                     67 	.area GSINIT4 (CODE)
                                     68 	.area GSINIT5 (CODE)
                                     69 	.area GSINIT  (CODE)
                                     70 	.area GSFINAL (CODE)
                                     71 	.area CSEG    (CODE)
                                     72 ;--------------------------------------------------------
                                     73 ; global & static initialisations
                                     74 ;--------------------------------------------------------
                                     75 	.area HOME    (CODE)
                                     76 	.area GSINIT  (CODE)
                                     77 	.area GSFINAL (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 ;--------------------------------------------------------
                                     80 ; Home
                                     81 ;--------------------------------------------------------
                                     82 	.area HOME    (CODE)
                                     83 	.area HOME    (CODE)
                                     84 ;--------------------------------------------------------
                                     85 ; code
                                     86 ;--------------------------------------------------------
                                     87 	.area CSEG    (CODE)
                                     88 ;------------------------------------------------------------
                                     89 ;Allocation info for local variables in function '_divuint_dummy'
                                     90 ;------------------------------------------------------------
                                     91 ;	_divuint.c:57: _divuint_dummy (void) __naked
                                     92 ;	-----------------------------------------
                                     93 ;	 function _divuint_dummy
                                     94 ;	-----------------------------------------
      000000                         95 __divuint_dummy:
                                     96 ;	naked function: no prologue.
                                     97 ;	_divuint.c:153: __endasm;
                                     98 	.globl	__divuint
      000000                         99 __divuint:
                                    100 	.area	OSEG (OVR,DATA)
                                    101 	.globl	__divuint_PARM_2
                                    102 	.globl	__divsint_PARM_2
      000000                        103 __divuint_PARM_2:
      000000                        104 __divsint_PARM_2:
      000000                        105 	.ds	2
                                    106 	.area	CSEG (CODE)
      000000 7A 10            [12]  107 	mov	r2,#16
      000002 E4               [12]  108 	clr	a
      000003 FB               [12]  109 	mov	r3,a
      000004 FC               [12]  110 	mov	r4,a
      000005                        111 loop:
      000005 E5 82            [12]  112 	mov	a,dpl ; x <<= 1
      000007 25 E0            [12]  113 	add	a,acc
      000009 F5 82            [12]  114 	mov	dpl,a
      00000B E5 83            [12]  115 	mov	a,dph
      00000D 33               [12]  116 	rlc	a
      00000E F5 83            [12]  117 	mov	dph,a
      000010 EB               [12]  118 	mov	a,r3 ; reste <<= 1
      000011 33               [12]  119 	rlc	a ; feed in carry
      000012 FB               [12]  120 	mov	r3,a
      000013 EC               [12]  121 	mov	a,r4
      000014 33               [12]  122 	rlc	a
      000015 FC               [12]  123 	mov	r4,a
      000016 EB               [12]  124 	mov	a,r3 ; reste - y
      000017 95*00            [12]  125 	subb	a,(__divuint_PARM_2) ; here carry is always clear, because
                                    126 ;	reste <<= 1 never overflows
      000019 F5 F0            [12]  127 	mov	b,a
      00001B EC               [12]  128 	mov	a,r4
      00001C 95*01            [12]  129 	subb	a,(__divuint_PARM_2 + 1)
      00001E 40 06            [24]  130 	jc	smaller ; reste >= y?
      000020 FC               [12]  131 	mov	r4,a ; -> yes; reste = reste - y;
      000021 AB F0            [24]  132 	mov	r3,b
      000023 43 82 01         [24]  133 	orl	dpl,#1
      000026                        134 smaller:
                                    135 ; -> no
      000026 DA DD            [24]  136 	djnz	r2,loop
      000028 22               [24]  137 	ret
                                    138 ;	_divuint.c:154: }
                                    139 ;	naked function: no epilogue.
                                    140 	.area CSEG    (CODE)
                                    141 	.area CONST   (CODE)
                                    142 	.area XINIT   (CODE)
                                    143 	.area CABS    (ABS,CODE)
