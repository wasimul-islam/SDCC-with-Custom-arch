                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module ldiv
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _ldiv_PARM_2
                                     12 	.globl _ldiv_PARM_1
                                     13 	.globl _ldiv
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
      000000                         33 _ldiv_PARM_1:
      000000                         34 	.ds 4
      000004                         35 _ldiv_PARM_2:
      000004                         36 	.ds 4
      000008                         37 _ldiv_ret_65536_40:
      000008                         38 	.ds 8
                                     39 ;--------------------------------------------------------
                                     40 ; overlayable items in internal ram
                                     41 ;--------------------------------------------------------
                                     42 ;--------------------------------------------------------
                                     43 ; indirectly addressable internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area ISEG    (DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; absolute internal ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area IABS    (ABS,DATA)
                                     50 	.area IABS    (ABS,DATA)
                                     51 ;--------------------------------------------------------
                                     52 ; bit data
                                     53 ;--------------------------------------------------------
                                     54 	.area BSEG    (BIT)
                                     55 ;--------------------------------------------------------
                                     56 ; paged external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area PSEG    (PAG,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; uninitialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'ldiv'
                                     99 ;------------------------------------------------------------
                                    100 ;numer                     Allocated with name '_ldiv_PARM_1'
                                    101 ;denom                     Allocated with name '_ldiv_PARM_2'
                                    102 ;ret                       Allocated with name '_ldiv_ret_65536_40'
                                    103 ;------------------------------------------------------------
                                    104 ;	ldiv.c:32: ldiv_t ldiv(long int numer, long int denom)
                                    105 ;	-----------------------------------------
                                    106 ;	 function ldiv
                                    107 ;	-----------------------------------------
      000000                        108 _ldiv:
                           000007   109 	ar7 = 0x07
                           000006   110 	ar6 = 0x06
                           000005   111 	ar5 = 0x05
                           000004   112 	ar4 = 0x04
                           000003   113 	ar3 = 0x03
                           000002   114 	ar2 = 0x02
                           000001   115 	ar1 = 0x01
                           000000   116 	ar0 = 0x00
                                    117 ;	ldiv.c:35: ret.quot = numer / denom;
      000000 85*04*00         [24]  118 	mov	__divslong_PARM_2,_ldiv_PARM_2
      000003 85*05*01         [24]  119 	mov	(__divslong_PARM_2 + 1),(_ldiv_PARM_2 + 1)
      000006 85*06*02         [24]  120 	mov	(__divslong_PARM_2 + 2),(_ldiv_PARM_2 + 2)
      000009 85*07*03         [24]  121 	mov	(__divslong_PARM_2 + 3),(_ldiv_PARM_2 + 3)
      00000C 85*00 82         [24]  122 	mov	dpl,_ldiv_PARM_1
      00000F 85*01 83         [24]  123 	mov	dph,(_ldiv_PARM_1 + 1)
      000012 85*02 F0         [24]  124 	mov	b,(_ldiv_PARM_1 + 2)
      000015 E5*03            [12]  125 	mov	a,(_ldiv_PARM_1 + 3)
      000017 12r00r00         [24]  126 	lcall	__divslong
      00001A AC 82            [24]  127 	mov	r4,dpl
      00001C AD 83            [24]  128 	mov	r5,dph
      00001E AE F0            [24]  129 	mov	r6,b
      000020 FF               [12]  130 	mov	r7,a
      000021 8C*08            [24]  131 	mov	(_ldiv_ret_65536_40 + 0),r4
      000023 8D*09            [24]  132 	mov	(_ldiv_ret_65536_40 + 1),r5
      000025 8E*0A            [24]  133 	mov	(_ldiv_ret_65536_40 + 2),r6
      000027 8F*0B            [24]  134 	mov	(_ldiv_ret_65536_40 + 3),r7
                                    135 ;	ldiv.c:36: ret.rem = numer % denom;
      000029 85*04*00         [24]  136 	mov	__modslong_PARM_2,_ldiv_PARM_2
      00002C 85*05*01         [24]  137 	mov	(__modslong_PARM_2 + 1),(_ldiv_PARM_2 + 1)
      00002F 85*06*02         [24]  138 	mov	(__modslong_PARM_2 + 2),(_ldiv_PARM_2 + 2)
      000032 85*07*03         [24]  139 	mov	(__modslong_PARM_2 + 3),(_ldiv_PARM_2 + 3)
      000035 85*00 82         [24]  140 	mov	dpl,_ldiv_PARM_1
      000038 85*01 83         [24]  141 	mov	dph,(_ldiv_PARM_1 + 1)
      00003B 85*02 F0         [24]  142 	mov	b,(_ldiv_PARM_1 + 2)
      00003E E5*03            [12]  143 	mov	a,(_ldiv_PARM_1 + 3)
      000040 12r00r00         [24]  144 	lcall	__modslong
      000043 AC 82            [24]  145 	mov	r4,dpl
      000045 AD 83            [24]  146 	mov	r5,dph
      000047 AE F0            [24]  147 	mov	r6,b
      000049 FF               [12]  148 	mov	r7,a
      00004A 8C*0C            [24]  149 	mov	((_ldiv_ret_65536_40 + 0x0004) + 0),r4
      00004C 8D*0D            [24]  150 	mov	((_ldiv_ret_65536_40 + 0x0004) + 1),r5
      00004E 8E*0E            [24]  151 	mov	((_ldiv_ret_65536_40 + 0x0004) + 2),r6
      000050 8F*0F            [24]  152 	mov	((_ldiv_ret_65536_40 + 0x0004) + 3),r7
                                    153 ;	ldiv.c:37: return(ret);
      000052 E5 81            [12]  154 	mov	a,sp
      000054 24 FC            [12]  155 	add	a,#0xfc
      000056 F8               [12]  156 	mov	r0,a
      000057 86 82            [24]  157 	mov	dpl,@r0
      000059 08               [12]  158 	inc	r0
      00005A 86 83            [24]  159 	mov	dph,@r0
      00005C 08               [12]  160 	inc	r0
      00005D 86 F0            [24]  161 	mov	b,@r0
      00005F E5*08            [12]  162 	mov	a,_ldiv_ret_65536_40
      000061 12r00r00         [24]  163 	lcall	__gptrput
      000064 A3               [24]  164 	inc	dptr
      000065 E5*09            [12]  165 	mov	a,(_ldiv_ret_65536_40 + 1)
      000067 12r00r00         [24]  166 	lcall	__gptrput
      00006A A3               [24]  167 	inc	dptr
      00006B E5*0A            [12]  168 	mov	a,(_ldiv_ret_65536_40 + 2)
      00006D 12r00r00         [24]  169 	lcall	__gptrput
      000070 A3               [24]  170 	inc	dptr
      000071 E5*0B            [12]  171 	mov	a,(_ldiv_ret_65536_40 + 3)
      000073 12r00r00         [24]  172 	lcall	__gptrput
      000076 A3               [24]  173 	inc	dptr
      000077 E5*0C            [12]  174 	mov	a,(_ldiv_ret_65536_40 + 4)
      000079 12r00r00         [24]  175 	lcall	__gptrput
      00007C A3               [24]  176 	inc	dptr
      00007D E5*0D            [12]  177 	mov	a,(_ldiv_ret_65536_40 + 5)
      00007F 12r00r00         [24]  178 	lcall	__gptrput
      000082 A3               [24]  179 	inc	dptr
      000083 E5*0E            [12]  180 	mov	a,(_ldiv_ret_65536_40 + 6)
      000085 12r00r00         [24]  181 	lcall	__gptrput
      000088 A3               [24]  182 	inc	dptr
      000089 E5*0F            [12]  183 	mov	a,(_ldiv_ret_65536_40 + 7)
                                    184 ;	ldiv.c:38: }
      00008B 02r00r00         [24]  185 	ljmp	__gptrput
                                    186 	.area CSEG    (CODE)
                                    187 	.area CONST   (CODE)
                                    188 	.area XINIT   (CODE)
                                    189 	.area CABS    (ABS,CODE)
