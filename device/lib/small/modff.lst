                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module modff
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _modff_PARM_2
                                     12 	.globl _modff
                                     13 ;--------------------------------------------------------
                                     14 ; special function registers
                                     15 ;--------------------------------------------------------
                                     16 	.area RSEG    (ABS,DATA)
      000000                         17 	.org 0x0000
                                     18 ;--------------------------------------------------------
                                     19 ; special function bits
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; overlayable register banks
                                     25 ;--------------------------------------------------------
                                     26 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         27 	.ds 8
                                     28 ;--------------------------------------------------------
                                     29 ; internal ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area DSEG    (DATA)
      000000                         32 _modff_PARM_2:
      000000                         33 	.ds 3
      000003                         34 _modff_x_65536_25:
      000003                         35 	.ds 4
                                     36 ;--------------------------------------------------------
                                     37 ; overlayable items in internal ram
                                     38 ;--------------------------------------------------------
                                     39 ;--------------------------------------------------------
                                     40 ; indirectly addressable internal ram data
                                     41 ;--------------------------------------------------------
                                     42 	.area ISEG    (DATA)
                                     43 ;--------------------------------------------------------
                                     44 ; absolute internal ram data
                                     45 ;--------------------------------------------------------
                                     46 	.area IABS    (ABS,DATA)
                                     47 	.area IABS    (ABS,DATA)
                                     48 ;--------------------------------------------------------
                                     49 ; bit data
                                     50 ;--------------------------------------------------------
                                     51 	.area BSEG    (BIT)
                                     52 ;--------------------------------------------------------
                                     53 ; paged external ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area PSEG    (PAG,XDATA)
                                     56 ;--------------------------------------------------------
                                     57 ; uninitialized external ram data
                                     58 ;--------------------------------------------------------
                                     59 	.area XSEG    (XDATA)
                                     60 ;--------------------------------------------------------
                                     61 ; absolute external ram data
                                     62 ;--------------------------------------------------------
                                     63 	.area XABS    (ABS,XDATA)
                                     64 ;--------------------------------------------------------
                                     65 ; initialized external ram data
                                     66 ;--------------------------------------------------------
                                     67 	.area XISEG   (XDATA)
                                     68 	.area HOME    (CODE)
                                     69 	.area GSINIT0 (CODE)
                                     70 	.area GSINIT1 (CODE)
                                     71 	.area GSINIT2 (CODE)
                                     72 	.area GSINIT3 (CODE)
                                     73 	.area GSINIT4 (CODE)
                                     74 	.area GSINIT5 (CODE)
                                     75 	.area GSINIT  (CODE)
                                     76 	.area GSFINAL (CODE)
                                     77 	.area CSEG    (CODE)
                                     78 ;--------------------------------------------------------
                                     79 ; global & static initialisations
                                     80 ;--------------------------------------------------------
                                     81 	.area HOME    (CODE)
                                     82 	.area GSINIT  (CODE)
                                     83 	.area GSFINAL (CODE)
                                     84 	.area GSINIT  (CODE)
                                     85 ;--------------------------------------------------------
                                     86 ; Home
                                     87 ;--------------------------------------------------------
                                     88 	.area HOME    (CODE)
                                     89 	.area HOME    (CODE)
                                     90 ;--------------------------------------------------------
                                     91 ; code
                                     92 ;--------------------------------------------------------
                                     93 	.area CSEG    (CODE)
                                     94 ;------------------------------------------------------------
                                     95 ;Allocation info for local variables in function 'modff'
                                     96 ;------------------------------------------------------------
                                     97 ;y                         Allocated with name '_modff_PARM_2'
                                     98 ;x                         Allocated with name '_modff_x_65536_25'
                                     99 ;------------------------------------------------------------
                                    100 ;	modff.c:33: float modff(float x, float * y)
                                    101 ;	-----------------------------------------
                                    102 ;	 function modff
                                    103 ;	-----------------------------------------
      000000                        104 _modff:
                           000007   105 	ar7 = 0x07
                           000006   106 	ar6 = 0x06
                           000005   107 	ar5 = 0x05
                           000004   108 	ar4 = 0x04
                           000003   109 	ar3 = 0x03
                           000002   110 	ar2 = 0x02
                           000001   111 	ar1 = 0x01
                           000000   112 	ar0 = 0x00
      000000 85 82*03         [24]  113 	mov	_modff_x_65536_25,dpl
      000003 85 83*04         [24]  114 	mov	(_modff_x_65536_25 + 1),dph
      000006 85 F0*05         [24]  115 	mov	(_modff_x_65536_25 + 2),b
      000009 F5*06            [12]  116 	mov	(_modff_x_65536_25 + 3),a
                                    117 ;	modff.c:35: *y=(long)x;
      00000B A9*00            [24]  118 	mov	r1,_modff_PARM_2
      00000D AA*01            [24]  119 	mov	r2,(_modff_PARM_2 + 1)
      00000F AB*02            [24]  120 	mov	r3,(_modff_PARM_2 + 2)
      000011 85*03 82         [24]  121 	mov	dpl,_modff_x_65536_25
      000014 85*04 83         [24]  122 	mov	dph,(_modff_x_65536_25 + 1)
      000017 85*05 F0         [24]  123 	mov	b,(_modff_x_65536_25 + 2)
      00001A E5*06            [12]  124 	mov	a,(_modff_x_65536_25 + 3)
      00001C C0 03            [24]  125 	push	ar3
      00001E C0 02            [24]  126 	push	ar2
      000020 C0 01            [24]  127 	push	ar1
      000022 12r00r00         [24]  128 	lcall	___fs2slong
      000025 12r00r00         [24]  129 	lcall	___slong2fs
      000028 AC 82            [24]  130 	mov	r4,dpl
      00002A AD 83            [24]  131 	mov	r5,dph
      00002C AE F0            [24]  132 	mov	r6,b
      00002E FF               [12]  133 	mov	r7,a
      00002F D0 01            [24]  134 	pop	ar1
      000031 D0 02            [24]  135 	pop	ar2
      000033 D0 03            [24]  136 	pop	ar3
      000035 89 82            [24]  137 	mov	dpl,r1
      000037 8A 83            [24]  138 	mov	dph,r2
      000039 8B F0            [24]  139 	mov	b,r3
      00003B EC               [12]  140 	mov	a,r4
      00003C 12r00r00         [24]  141 	lcall	__gptrput
      00003F A3               [24]  142 	inc	dptr
      000040 ED               [12]  143 	mov	a,r5
      000041 12r00r00         [24]  144 	lcall	__gptrput
      000044 A3               [24]  145 	inc	dptr
      000045 EE               [12]  146 	mov	a,r6
      000046 12r00r00         [24]  147 	lcall	__gptrput
      000049 A3               [24]  148 	inc	dptr
      00004A EF               [12]  149 	mov	a,r7
      00004B 12r00r00         [24]  150 	lcall	__gptrput
                                    151 ;	modff.c:36: return (x-*y);
      00004E C0 04            [24]  152 	push	ar4
      000050 C0 05            [24]  153 	push	ar5
      000052 C0 06            [24]  154 	push	ar6
      000054 C0 07            [24]  155 	push	ar7
      000056 85*03 82         [24]  156 	mov	dpl,_modff_x_65536_25
      000059 85*04 83         [24]  157 	mov	dph,(_modff_x_65536_25 + 1)
      00005C 85*05 F0         [24]  158 	mov	b,(_modff_x_65536_25 + 2)
      00005F E5*06            [12]  159 	mov	a,(_modff_x_65536_25 + 3)
      000061 12r00r00         [24]  160 	lcall	___fssub
      000064 AC 82            [24]  161 	mov	r4,dpl
      000066 AD 83            [24]  162 	mov	r5,dph
      000068 AE F0            [24]  163 	mov	r6,b
      00006A FF               [12]  164 	mov	r7,a
      00006B E5 81            [12]  165 	mov	a,sp
      00006D 24 FC            [12]  166 	add	a,#0xfc
      00006F F5 81            [12]  167 	mov	sp,a
      000071 8C 82            [24]  168 	mov	dpl,r4
      000073 8D 83            [24]  169 	mov	dph,r5
      000075 8E F0            [24]  170 	mov	b,r6
      000077 EF               [12]  171 	mov	a,r7
                                    172 ;	modff.c:37: }
      000078 22               [24]  173 	ret
                                    174 	.area CSEG    (CODE)
                                    175 	.area CONST   (CODE)
                                    176 	.area XINIT   (CODE)
                                    177 	.area CABS    (ABS,CODE)
