                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.14 #0 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module ldexpf
                                      6 	.optsdcc -mmcs51 --model-large
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _ldexpf
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in internal ram
                                     33 ;--------------------------------------------------------
                                     34 ;--------------------------------------------------------
                                     35 ; indirectly addressable internal ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area ISEG    (DATA)
                                     38 ;--------------------------------------------------------
                                     39 ; absolute internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area IABS    (ABS,DATA)
                                     42 	.area IABS    (ABS,DATA)
                                     43 ;--------------------------------------------------------
                                     44 ; bit data
                                     45 ;--------------------------------------------------------
                                     46 	.area BSEG    (BIT)
                                     47 ;--------------------------------------------------------
                                     48 ; paged external ram data
                                     49 ;--------------------------------------------------------
                                     50 	.area PSEG    (PAG,XDATA)
                                     51 ;--------------------------------------------------------
                                     52 ; uninitialized external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area XSEG    (XDATA)
                                     55 ;--------------------------------------------------------
                                     56 ; absolute external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area XABS    (ABS,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; initialized external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XISEG   (XDATA)
                                     63 	.area HOME    (CODE)
                                     64 	.area GSINIT0 (CODE)
                                     65 	.area GSINIT1 (CODE)
                                     66 	.area GSINIT2 (CODE)
                                     67 	.area GSINIT3 (CODE)
                                     68 	.area GSINIT4 (CODE)
                                     69 	.area GSINIT5 (CODE)
                                     70 	.area GSINIT  (CODE)
                                     71 	.area GSFINAL (CODE)
                                     72 	.area CSEG    (CODE)
                                     73 ;--------------------------------------------------------
                                     74 ; global & static initialisations
                                     75 ;--------------------------------------------------------
                                     76 	.area HOME    (CODE)
                                     77 	.area GSINIT  (CODE)
                                     78 	.area GSFINAL (CODE)
                                     79 	.area GSINIT  (CODE)
                                     80 ;--------------------------------------------------------
                                     81 ; Home
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME    (CODE)
                                     84 	.area HOME    (CODE)
                                     85 ;--------------------------------------------------------
                                     86 ; code
                                     87 ;--------------------------------------------------------
                                     88 	.area CSEG    (CODE)
                                     89 ;------------------------------------------------------------
                                     90 ;Allocation info for local variables in function 'ldexpf'
                                     91 ;------------------------------------------------------------
                                     92 ;pw2                       Allocated to stack - _bp -4
                                     93 ;x                         Allocated to registers r4 r5 r6 r7 
                                     94 ;fl                        Allocated to stack - _bp +5
                                     95 ;e                         Allocated to registers r2 r3 r6 r7 
                                     96 ;sloc0                     Allocated to stack - _bp +1
                                     97 ;------------------------------------------------------------
                                     98 ;	ldexpf.c:34: float ldexpf(float x, int pw2)
                                     99 ;	-----------------------------------------
                                    100 ;	 function ldexpf
                                    101 ;	-----------------------------------------
      000000                        102 _ldexpf:
                           000007   103 	ar7 = 0x07
                           000006   104 	ar6 = 0x06
                           000005   105 	ar5 = 0x05
                           000004   106 	ar4 = 0x04
                           000003   107 	ar3 = 0x03
                           000002   108 	ar2 = 0x02
                           000001   109 	ar1 = 0x01
                           000000   110 	ar0 = 0x00
      000000 C0*00            [24]  111 	push	_bp
      000002 85 81*00         [24]  112 	mov	_bp,sp
      000005 AC 82            [24]  113 	mov	r4,dpl
      000007 AD 83            [24]  114 	mov	r5,dph
      000009 AE F0            [24]  115 	mov	r6,b
      00000B FF               [12]  116 	mov	r7,a
      00000C E5 81            [12]  117 	mov	a,sp
      00000E 24 08            [12]  118 	add	a,#0x08
      000010 F5 81            [12]  119 	mov	sp,a
                                    120 ;	ldexpf.c:39: fl.f = x;
      000012 E5*00            [12]  121 	mov	a,_bp
      000014 24 05            [12]  122 	add	a,#0x05
      000016 F8               [12]  123 	mov	r0,a
      000017 A6 04            [24]  124 	mov	@r0,ar4
      000019 08               [12]  125 	inc	r0
      00001A A6 05            [24]  126 	mov	@r0,ar5
      00001C 08               [12]  127 	inc	r0
      00001D A6 06            [24]  128 	mov	@r0,ar6
      00001F 08               [12]  129 	inc	r0
      000020 A6 07            [24]  130 	mov	@r0,ar7
                                    131 ;	ldexpf.c:41: e=(fl.l >> 23) & 0x000000ff;
      000022 E5*00            [12]  132 	mov	a,_bp
      000024 24 05            [12]  133 	add	a,#0x05
      000026 F9               [12]  134 	mov	r1,a
      000027 87 04            [24]  135 	mov	ar4,@r1
      000029 09               [12]  136 	inc	r1
      00002A 87 05            [24]  137 	mov	ar5,@r1
      00002C 09               [12]  138 	inc	r1
      00002D 87 06            [24]  139 	mov	ar6,@r1
      00002F 09               [12]  140 	inc	r1
      000030 87 07            [24]  141 	mov	ar7,@r1
      000032 19               [12]  142 	dec	r1
      000033 19               [12]  143 	dec	r1
      000034 19               [12]  144 	dec	r1
      000035 8E 04            [24]  145 	mov	ar4,r6
      000037 EF               [12]  146 	mov	a,r7
      000038 A2 E7            [12]  147 	mov	c,acc.7
      00003A CC               [12]  148 	xch	a,r4
      00003B 33               [12]  149 	rlc	a
      00003C CC               [12]  150 	xch	a,r4
      00003D 33               [12]  151 	rlc	a
      00003E CC               [12]  152 	xch	a,r4
      00003F 54 01            [12]  153 	anl	a,#0x01
      000041 30 E0 02         [24]  154 	jnb	acc.0,00103$
      000044 44 FE            [12]  155 	orl	a,#0xfffffffe
      000046                        156 00103$:
      000046 33               [12]  157 	rlc	a
      000047 95 E0            [12]  158 	subb	a,acc
      000049 A8*00            [24]  159 	mov	r0,_bp
      00004B 08               [12]  160 	inc	r0
      00004C A6 04            [24]  161 	mov	@r0,ar4
      00004E 08               [12]  162 	inc	r0
      00004F 76 00            [12]  163 	mov	@r0,#0x00
      000051 08               [12]  164 	inc	r0
      000052 76 00            [12]  165 	mov	@r0,#0x00
      000054 08               [12]  166 	inc	r0
      000055 76 00            [12]  167 	mov	@r0,#0x00
                                    168 ;	ldexpf.c:42: e+=pw2;
      000057 E5*00            [12]  169 	mov	a,_bp
      000059 24 FC            [12]  170 	add	a,#0xfc
      00005B F8               [12]  171 	mov	r0,a
      00005C 86 02            [24]  172 	mov	ar2,@r0
      00005E 08               [12]  173 	inc	r0
      00005F 86 03            [24]  174 	mov	ar3,@r0
      000061 E6               [12]  175 	mov	a,@r0
      000062 33               [12]  176 	rlc	a
      000063 95 E0            [12]  177 	subb	a,acc
      000065 FE               [12]  178 	mov	r6,a
      000066 FF               [12]  179 	mov	r7,a
      000067 A8*00            [24]  180 	mov	r0,_bp
      000069 08               [12]  181 	inc	r0
      00006A EA               [12]  182 	mov	a,r2
      00006B 26               [12]  183 	add	a,@r0
      00006C FA               [12]  184 	mov	r2,a
      00006D EB               [12]  185 	mov	a,r3
      00006E 08               [12]  186 	inc	r0
      00006F 36               [12]  187 	addc	a,@r0
      000070 EE               [12]  188 	mov	a,r6
      000071 08               [12]  189 	inc	r0
      000072 36               [12]  190 	addc	a,@r0
      000073 EF               [12]  191 	mov	a,r7
      000074 08               [12]  192 	inc	r0
      000075 36               [12]  193 	addc	a,@r0
                                    194 ;	ldexpf.c:43: fl.l= ((e & 0xff) << 23) | (fl.l & 0x807fffff);
      000076 7B 00            [12]  195 	mov	r3,#0x00
      000078 A8*00            [24]  196 	mov	r0,_bp
      00007A 08               [12]  197 	inc	r0
      00007B 08               [12]  198 	inc	r0
      00007C 08               [12]  199 	inc	r0
      00007D A6 02            [24]  200 	mov	@r0,ar2
      00007F EB               [12]  201 	mov	a,r3
      000080 54 01            [12]  202 	anl	a,#0x01
      000082 A2 E0            [12]  203 	mov	c,acc.0
      000084 C6               [12]  204 	xch	a,@r0
      000085 13               [12]  205 	rrc	a
      000086 C6               [12]  206 	xch	a,@r0
      000087 13               [12]  207 	rrc	a
      000088 C6               [12]  208 	xch	a,@r0
      000089 08               [12]  209 	inc	r0
      00008A F6               [12]  210 	mov	@r0,a
      00008B 18               [12]  211 	dec	r0
      00008C 18               [12]  212 	dec	r0
      00008D 18               [12]  213 	dec	r0
      00008E 76 00            [12]  214 	mov	@r0,#0x00
      000090 08               [12]  215 	inc	r0
      000091 76 00            [12]  216 	mov	@r0,#0x00
      000093 87 04            [24]  217 	mov	ar4,@r1
      000095 09               [12]  218 	inc	r1
      000096 87 05            [24]  219 	mov	ar5,@r1
      000098 09               [12]  220 	inc	r1
      000099 87 06            [24]  221 	mov	ar6,@r1
      00009B 09               [12]  222 	inc	r1
      00009C 87 07            [24]  223 	mov	ar7,@r1
      00009E 19               [12]  224 	dec	r1
      00009F 19               [12]  225 	dec	r1
      0000A0 19               [12]  226 	dec	r1
      0000A1 53 06 7F         [24]  227 	anl	ar6,#0x7f
      0000A4 53 07 80         [24]  228 	anl	ar7,#0x80
      0000A7 A8*00            [24]  229 	mov	r0,_bp
      0000A9 08               [12]  230 	inc	r0
      0000AA E6               [12]  231 	mov	a,@r0
      0000AB 42 04            [12]  232 	orl	ar4,a
      0000AD 08               [12]  233 	inc	r0
      0000AE E6               [12]  234 	mov	a,@r0
      0000AF 42 05            [12]  235 	orl	ar5,a
      0000B1 08               [12]  236 	inc	r0
      0000B2 E6               [12]  237 	mov	a,@r0
      0000B3 42 06            [12]  238 	orl	ar6,a
      0000B5 08               [12]  239 	inc	r0
      0000B6 E6               [12]  240 	mov	a,@r0
      0000B7 42 07            [12]  241 	orl	ar7,a
      0000B9 A7 04            [24]  242 	mov	@r1,ar4
      0000BB 09               [12]  243 	inc	r1
      0000BC A7 05            [24]  244 	mov	@r1,ar5
      0000BE 09               [12]  245 	inc	r1
      0000BF A7 06            [24]  246 	mov	@r1,ar6
      0000C1 09               [12]  247 	inc	r1
      0000C2 A7 07            [24]  248 	mov	@r1,ar7
                                    249 ;	ldexpf.c:45: return(fl.f);
      0000C4 E5*00            [12]  250 	mov	a,_bp
      0000C6 24 05            [12]  251 	add	a,#0x05
      0000C8 F9               [12]  252 	mov	r1,a
      0000C9 87 04            [24]  253 	mov	ar4,@r1
      0000CB 09               [12]  254 	inc	r1
      0000CC 87 05            [24]  255 	mov	ar5,@r1
      0000CE 09               [12]  256 	inc	r1
      0000CF 87 06            [24]  257 	mov	ar6,@r1
      0000D1 09               [12]  258 	inc	r1
      0000D2 87 07            [24]  259 	mov	ar7,@r1
      0000D4 8C 82            [24]  260 	mov	dpl,r4
      0000D6 8D 83            [24]  261 	mov	dph,r5
      0000D8 8E F0            [24]  262 	mov	b,r6
      0000DA EF               [12]  263 	mov	a,r7
                                    264 ;	ldexpf.c:46: }
      0000DB 85*00 81         [24]  265 	mov	sp,_bp
      0000DE D0*00            [24]  266 	pop	_bp
      0000E0 22               [24]  267 	ret
                                    268 	.area CSEG    (CODE)
                                    269 	.area CONST   (CODE)
                                    270 	.area XINIT   (CODE)
                                    271 	.area CABS    (ABS,CODE)
